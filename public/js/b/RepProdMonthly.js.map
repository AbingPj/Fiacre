{"version":3,"sources":["webpack:///./resources/js/backend/components/reports/product-orders/monthly.vue?fc29","webpack:///./resources/js/backend/components/reports/product-orders/monthly.vue?7b56","webpack:///resources/js/backend/components/reports/product-orders/monthly.vue","webpack:///./resources/js/backend/components/reports/product-orders/monthly.vue"],"names":["created","this","getData","data","total","total_orders","dateLabel","date","filter_date","options","format","useCurrent","allowInputToggle","maxDate","moment","json_fields","methods","axios","filter","print","displayNumberWithComma","n","parseFloat","value","toFixed","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","component","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","on","$event","model","callback","$$v","expression","_m","staticStyle","_l","item","index","key","total_products"],"mappings":"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","file":"js/b/RepProdMonthly.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('h3',[_vm._v(\"\\n        \"+_vm._s(_vm.dateLabel)+\"\\n        \"),_c('button',{staticClass:\"btn btn-success float-right\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.print()}}},[_c('i',{staticClass:\"fas fa-print\"}),_vm._v(\" Print\\n        \")]),_vm._v(\" \"),_c('download-excel',{staticClass:\"btn btn-success float-right mr-2\",attrs:{\"footer\":['total orders: '+_vm.total_orders],\"header\":'Products Orders Monthly Report ('+_vm.dateLabel+')',\"fields\":_vm.json_fields,\"data\":_vm.data,\"type\":\"xls\",\"name\":\"pomonthly.xls\",\"worksheet\":\"Monthly\"}},[_c('i',{staticClass:\"fas fa-file-excel\"}),_vm._v(\"\\n          XLS\\n        \")]),_vm._v(\" \"),_c('download-excel',{staticClass:\"btn btn-success float-right mr-2\",attrs:{\"footer\":['total orders: '+_vm.total_orders],\"header\":'Products Orders Monthly Report ('+_vm.dateLabel+')',\"fields\":_vm.json_fields,\"data\":_vm.data,\"type\":\"csv\",\"name\":\"pomonthly.csv\",\"worksheet\":\"Monthly\"}},[_c('i',{staticClass:\"fas fa-file-csv\"}),_vm._v(\"\\n          CSV\\n        \")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"row mt-3\"},[_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"input-group\"},[_c('date-picker',{attrs:{\"id\":\"date-time-input\",\"wrap\":true,\"config\":_vm.options},model:{value:(_vm.date),callback:function ($$v) {_vm.date=$$v},expression:\"date\"}}),_vm._v(\" \"),_vm._m(0)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-2\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.filter()}}},[_c('i',{staticClass:\"fas fa-filter\"}),_vm._v(\" Filter\\n      \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row mt-5\"},[_c('div',{staticClass:\"col-10\"},[_c('div',{staticStyle:{\"min-height\":\"300px\"}},[_c('table',{staticClass:\"table table-hover table-sm\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.data),function(item,index){return _c('tr',{key:index},[_c('th',[_vm._v(_vm._s(item.date))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(item.total_products))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(item.total_orders))])])}),0),_vm._v(\" \"),_c('tfoot',[_c('tr',[_vm._m(2),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"}),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.total_orders))])])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-secondary datepickerbutton\",attrs:{\"type\":\"button\",\"title\":\"Toggle\"}},[_c('i',{staticClass:\"far fa-calendar\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Date\")]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Total No. Products Sold\")]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Total No. Orders\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('b',[_vm._v(\"Total\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monthly.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monthly.vue?vue&type=script&lang=js&\"","<template>\n<div>\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <h3>\n        <!-- Products Orders Monthly Report: {{dateLabel}} -->\n        {{dateLabel}}\n        <button type=\"button\" @click=\"print()\" class=\"btn btn-success float-right\">\n          <i class=\"fas fa-print\"></i> Print\n        </button>\n        <download-excel :footer=\"['total orders: '+total_orders]\" :header=\"'Products Orders Monthly Report ('+dateLabel+')'\" class=\"btn btn-success float-right mr-2\" :fields=\"json_fields\" :data=\"data\" type=\"xls\" name=\"pomonthly.xls\" worksheet=\"Monthly\">\n          <i class=\"fas fa-file-excel\"></i>\n          XLS\n        </download-excel>\n        <download-excel :footer=\"['total orders: '+total_orders]\" :header=\"'Products Orders Monthly Report ('+dateLabel+')'\" class=\"btn btn-success float-right mr-2\" :fields=\"json_fields\" :data=\"data\" type=\"csv\" name=\"pomonthly.csv\" worksheet=\"Monthly\">\n          <i class=\"fas fa-file-csv\"></i>\n          CSV\n        </download-excel>\n      </h3>\n    </div>\n  </div>\n  <div class=\"row mt-3\">\n    <div class=\"col-md-6\">\n      <div class=\"input-group\">\n        <date-picker v-model=\"date\" id=\"date-time-input\" :wrap=\"true\" :config=\"options\"></date-picker>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-secondary datepickerbutton\" type=\"button\" title=\"Toggle\">\n            <i class=\"far fa-calendar\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-md-2\">\n      <button @click=\"filter()\" class=\"btn btn-primary\">\n        <i class=\"fas fa-filter\"></i> Filter\n      </button>\n    </div>\n  </div>\n  <div class=\"row mt-5\">\n    <div class=\"col-10\">\n      <div style=\"min-height:300px;\">\n        <table class=\"table table-hover table-sm\">\n          <thead>\n            <tr>\n              <!-- <th scope=\"col\">#</th> -->\n              <th>Date</th>\n              <th class=\"text-center\">Total No. Products Sold</th>\n              <th class=\"text-center\">Total No. Orders</th>\n              <!-- <th>\n                  <span class=\"float-right\">Sales</span>\n                </th>-->\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, index) in data\" :key=\"index\">\n              <th>{{item.date}}</th>\n              <td class=\"text-center\">{{item.total_products}}</td>\n              <td class=\"text-center\">{{item.total_orders}}</td>\n              <!-- <td>\n                  <span class=\"float-right\">{{displayNumberWithComma(item.total_earnings)}}</span>\n                </td>-->\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <th>\n                <b>Total</b>\n              </th>\n              <th class=\"text-center\"></th>\n              <th class=\"text-center\">{{total_orders}}</th>\n              <!-- <th>\n                  <span class=\"float-right\">\n                    <b>$ {{displayNumberWithComma(total)}}</b>\n                  </span>\n                </th>-->\n            </tr>\n          </tfoot>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  created() {\n    this.getData();\n  },\n  data() {\n    return {\n      data: [],\n      total: 0,\n      total_orders: 0,\n      dateLabel: \"\",\n      date: null,\n      filter_date: null,\n      options: {\n        format: \"MMMM YYYY\",\n        useCurrent: true,\n        allowInputToggle: true,\n        maxDate: moment()\n        // showTodayButton : true,\n      },\n      json_fields: {\n        \"Date\": \"date\",\n        \"Total Number of Products Sold\": \"total_products\",\n        \"Total Number of Orders\": \"total_orders\",\n\n      },\n    };\n  },\n  methods: {\n    getData() {\n      axios\n        .post(\"/admin/api/reports/productsorders/monthly\")\n        .then(res => {\n          this.total = res.data.total_earnings;\n          this.total_orders = res.data.total_orders;\n          this.data = res.data.data;\n          this.dateLabel = res.data.date;\n          this.date = res.data.date;\n          this.filter_date = res.data.date;\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    },\n    filter() {\n      axios\n        .post(\"/admin/api/reports/productsorders/monthly\", {\n          date: this.date\n        })\n        .then(res => {\n          this.total = res.data.total_earnings;\n          this.total_orders = res.data.total_orders;\n          this.data = res.data.data;\n          this.dateLabel = res.data.date;\n          this.date = res.data.date;\n          this.filter_date = res.data.date;\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    },\n\n    print() {\n      axios({\n          method: \"post\",\n          url: \"/admin/generate/products-order/pdf/monthly\",\n          data: {\n            date: this.filter_date\n          },\n          responseType: \"arraybuffer\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Accept: \"application/pdf\"\n          }\n        })\n        .then(response => {\n          const url = window.URL.createObjectURL(new Blob([response.data]));\n          const link = document.createElement(\"a\");\n          link.href = url;\n          link.setAttribute(\"download\", \"monthly \" + this.filter_date + \".pdf\"); //or any other extension\n          document.body.appendChild(link);\n          link.click();\n        })\n        .catch(error => console.log(error));\n    },\n\n    displayNumberWithComma(value) {\n      var n = parseFloat(value).toFixed(2);\n      var withCommas = Number(n).toLocaleString(\"en\", {\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2\n      });\n      return withCommas;\n    }\n  }\n};\n</script>\n","import { render, staticRenderFns } from \"./monthly.vue?vue&type=template&id=53fa6a7f&\"\nimport script from \"./monthly.vue?vue&type=script&lang=js&\"\nexport * from \"./monthly.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}