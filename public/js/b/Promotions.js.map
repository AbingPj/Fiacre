{"version":3,"sources":["webpack:///./resources/js/backend/components/promotions/index.vue?26d2","webpack:///./resources/js/backend/components/promotions/index.vue?7452","webpack:///./resources/js/backend/components/promotions/index.vue?6969","webpack:///./resources/js/backend/components/promotions/index.vue?a86e","webpack:///resources/js/backend/components/promotions/index.vue","webpack:///./resources/js/backend/components/promotions/index.vue?b300","webpack:///./resources/js/backend/components/promotions/index.vue","webpack:///./resources/js/backend/errorClass.js"],"names":["content","module","i","options","transform","undefined","locals","exports","push","props","data","email","subject","myHTML","errors","sendto","created","this","propemail","mounted","$","document","ready","summernote","placeholder","tabsize","toolbar","styleTags","markupStr","self","methods","addSelectedProduct","selectedProducts","selectProducts","modal","sendEmail","LoadingOverlay","formData","append","JSON","stringify","axios","showErrorMessage","$events","fire","removeSelectedProduct","$refs","select_products_modal","products","forEach","product","id","selected","splice","showSuccessMessage","msg","component","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","on","$event","preventDefault","directives","name","rawName","value","expression","domProps","_q","target","composing","length","_e","_l","item","index","key","staticStyle","image_link","_s","price","member_price","wholesale_price","ref","Errors","field","hasOwnProperty","str","Object","keys","get","arr"],"mappings":"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","file":"js/b/Promotions.js","sourcesContent":["import mod from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=06a7f4f4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=06a7f4f4&scoped=true&lang=css&\"","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=06a7f4f4&scoped=true&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=06a7f4f4&scoped=true&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=06a7f4f4&scoped=true&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.btn-edit[data-v-06a7f4f4] {\\n  background: transparent;\\n  border: 0px;\\n  color: gray;\\n  font-size: 20px;\\n}\\n\", \"\"]);\n\n// exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-column min-vh-100\"},[_c('div',{staticClass:\"container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-10 mt-5\"},[_c('form',{attrs:{\"id\":\"myForm\",\"name\":\"myForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.sendEmail()}}},[_c('div',{staticClass:\"form-group mb-3\"},[_c('label',{staticClass:\"font-weight-bold\"},[_vm._v(\"Send To\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sendto),expression:\"sendto\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"sendto\",\"value\":\"all\"},domProps:{\"checked\":_vm._q(_vm.sendto,\"all\")},on:{\"change\":function($event){_vm.sendto=\"all\"}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"inlineRadio1\"}},[_vm._v(\"All Members\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sendto),expression:\"sendto\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"sendto\",\"value\":\"sunclubmembers\"},domProps:{\"checked\":_vm._q(_vm.sendto,\"sunclubmembers\")},on:{\"change\":function($event){_vm.sendto=\"sunclubmembers\"}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"inlineRadio2\"}},[_vm._v(\"Sun Club Members\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-check form-check-inline\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sendto),expression:\"sendto\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"radio\",\"name\":\"sendto\",\"value\":\"wholesalers\"},domProps:{\"checked\":_vm._q(_vm.sendto,\"wholesalers\")},on:{\"change\":function($event){_vm.sendto=\"wholesalers\"}}}),_vm._v(\" \"),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"inlineRadio2\"}},[_vm._v(\"Wholesalers\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"font-weight-bold\"},[_vm._v(\"Subject\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subject),expression:\"subject\"}],staticClass:\"form-control\",attrs:{\"name\":\"subject\",\"type\":\"text\"},domProps:{\"value\":(_vm.subject)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.subject=$event.target.value}}})]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"font-weight-bold\"},[_vm._v(\"Select Products to promote:\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),(_vm.selectedProducts.length == 0)?_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-lg btn-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.selectProducts()}}},[_vm._v(\"Select Products to Promote\")])]):_vm._e(),_vm._v(\" \"),(_vm.selectedProducts.length != 0)?_c('div',[_c('button',{staticClass:\"btn btn-sm btn-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.selectProducts()}}},[_vm._v(\"Select More\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"w-100\"},[_c('div',{staticClass:\"d-flex flex-wrap\"},_vm._l((_vm.selectedProducts),function(item,index){return _c('div',{key:index,staticClass:\"d-flex flex-row mt-3 w-50\"},[_c('div',{staticClass:\"mr-2\"},[_c('img',{staticStyle:{\"width\":\"100px\",\"height\":\"100px\",\"object-fit\":\"cover\"},attrs:{\"src\":item.image_link}})]),_vm._v(\" \"),_c('div',{staticClass:\"w-50\"},[_c('h6',[_c('b',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('button',{staticClass:\"btn-edit float-right text-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeSelectedProduct(item)}}},[_c('i',{staticClass:\"fas fa-times-circle\"})])]),_vm._v(\" \"),_c('div',[_vm._v(\"price: \"+_vm._s(item.price))]),_vm._v(\" \"),_c('div',[_vm._v(\"sunclub price: \"+_vm._s(item.member_price))]),_vm._v(\" \"),_c('div',[_vm._v(\"wholesale price: \"+_vm._s(item.wholesale_price))])])])}),0)]),_vm._v(\" \"),_vm._m(2)])])])]),_vm._v(\" \"),_c('admin-select-products-modal-3',{ref:\"select_products_modal\",attrs:{\"selected_products\":_vm.selectedProducts}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('h2',{staticClass:\"card-title mb-0\"},[_vm._v(\"Promotions\")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"font-weight-bold\"},[_vm._v(\"Content:\")]),_vm._v(\" \"),_c('textarea',{attrs:{\"id\":\"summernote_content\",\"name\":\"content\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-success float-right\"},[_c('i',{staticClass:\"fas fa-paper-plane mr-2\"}),_vm._v(\" Send\\n            \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d-flex flex-column min-vh-100\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <h2 class=\"card-title mb-0\">Promotions</h2>\n        </div>\n        <div class=\"col-md-6\"></div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-10 mt-5\">\n          <form id=\"myForm\" name=\"myForm\" @submit.prevent=\"sendEmail()\">\n            <!-- <div class=\"form-group\">\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-success\"\n                @click=\"selectCustomer()\"\n              >Select Customer Email</button>\n            </div>-->\n\n            <div class=\"form-group mb-3\">\n              <label class=\"font-weight-bold\">Send To</label>\n              <br />\n              <div class=\"form-check form-check-inline\">\n                <input\n                  v-model=\"sendto\"\n                  class=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"sendto\"\n                  value=\"all\"\n                />\n                <label class=\"form-check-label\" for=\"inlineRadio1\">All Members</label>\n              </div>\n              <div class=\"form-check form-check-inline\">\n                <input\n                  v-model=\"sendto\"\n                  class=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"sendto\"\n                  value=\"sunclubmembers\"\n                />\n                <label class=\"form-check-label\" for=\"inlineRadio2\">Sun Club Members</label>\n              </div>\n              <div class=\"form-check form-check-inline\">\n                <input\n                  v-model=\"sendto\"\n                  class=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"sendto\"\n                  value=\"wholesalers\"\n                />\n                <label class=\"form-check-label\" for=\"inlineRadio2\">Wholesalers</label>\n              </div>\n              <!-- <div class=\"form-check form-check-inline\">\n                <input\n                  v-model=\"sendto\"\n                  class=\"form-check-input\"\n                  type=\"sendto\"\n                  name=\"sendto\"\n                  value=\"specific\"\n                />\n                <label class=\"form-check-label\" for=\"inlineRadio2\">Specific</label>\n              </div>-->\n            </div>\n\n            <div class=\"form-group\">\n              <label class=\"font-weight-bold\">Subject</label>\n              <input v-model=\"subject\" name=\"subject\" type=\"text\" class=\"form-control\" />\n            </div>\n\n            <div class=\"form-group\">\n              <label class=\"font-weight-bold\">Content:</label>\n              <textarea id=\"summernote_content\" name=\"content\"></textarea>\n            </div>\n\n            <div class=\"form-group\">\n              <label class=\"font-weight-bold\">Select Products to promote:</label>\n              <br />\n              <div v-if=\"selectedProducts.length == 0\" class=\"text-center\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-lg btn-info\"\n                  @click=\"selectProducts()\"\n                >Select Products to Promote</button>\n              </div>\n              <div v-if=\"selectedProducts.length != 0\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-info\"\n                  @click=\"selectProducts()\"\n                >Select More</button>\n              </div>\n            </div>\n\n            <div class=\"w-100\">\n              <div class=\"d-flex flex-wrap\">\n                <div\n                  v-for=\"(item, index) in selectedProducts\"\n                  :key=\"index\"\n                  class=\"d-flex flex-row mt-3 w-50\"\n                >\n                  <div class=\"mr-2\">\n                    <img\n                      :src=\"item.image_link\"\n                      style=\"width: 100px; height: 100px; object-fit: cover;\"\n                    />\n                  </div>\n                  <div class=\"w-50\">\n                    <h6>\n                      <b>{{item.name}}</b>\n                      <button\n                        type=\"button\"\n                        class=\"btn-edit float-right text-danger\"\n                        @click=\"removeSelectedProduct(item)\"\n                      >\n                        <i class=\"fas fa-times-circle\"></i>\n                      </button>\n                    </h6>\n                    <!-- <span style=\"font-size:10px;\">({{item.sku}})</span> -->\n                    <div>price: {{item.price}}</div>\n                    <div>sunclub price: {{item.member_price}}</div>\n                    <div>wholesale price: {{item.wholesale_price}}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <button class=\"btn btn-success float-right\">\n                <i class=\"fas fa-paper-plane mr-2\"></i> Send\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <admin-select-products-modal-3\n      ref=\"select_products_modal\"\n      :selected_products=\"selectedProducts\"\n    ></admin-select-products-modal-3>\n  </div>\n</template>\n<script>\n// import summernote from \"../../plugin/summernote-bs4.min.js\";\nimport Errors from \"../../errorClass\";\n\nexport default {\n  props: [\"propemail\"],\n  data() {\n    return {\n      email: null,\n      subject: null,\n      myHTML: \"\",\n      errors: new Errors(),\n      sendto: \"all\",\n      subject: \"Sunfarmacy Promotions\",\n      content:\n        '<h2 style=\"text-align:center\"> Sunfarmacy Promotions </h2> <br> ',\n      selectedProducts: [],\n    };\n  },\n  created() {\n    this.email = this.propemail;\n  },\n\n  mounted() {\n    let self = this;\n    $(document).ready(function () {\n      $(\"#summernote_content\").summernote({\n        placeholder: \"Content here\",\n        tabsize: 2,\n        toolbar: [\n          [\"style\", [\"style\"]],\n          [\"font\", [\"bold\", \"underline\", \"clear\"]],\n          [\"color\", [\"color\"]],\n          [\"para\", [\"ul\", \"ol\", \"paragraph\"]],\n          [\"table\", [\"table\"]],\n          [\"insert\", [\"link\", \"picture\", \"video\"]],\n          [\"view\", [\"fullscreen\", \"codeview\", \"help\"]],\n        ],\n        // default value is ['p', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6']\n        styleTags: [\"p\", \"blockquote\", \"pre\", \"h2\", \"h3\", \"h4\", \"h5\"],\n      });\n\n      var markupStr = self.content;\n      $(\"#summernote_content\").summernote(\"code\", markupStr);\n    });\n  },\n  methods: {\n    addSelectedProduct(data) {\n      this.selectedProducts.push(data);\n    },\n    selectProducts() {\n      $(\"#selectProductsModal3\").modal(\"show\");\n    },\n    sendEmail() {\n      LoadingOverlay();\n      //   LoadingOverlayHide();\n      //   let msg = [\"Work In Progress\"];\n      //   this.showErrorMessage(msg);\n      //   window.scrollTo(0, 0);\n\n      //   LoadingOverlayHide();\n\n      let myForm = document.getElementById(\"myForm\");\n      let formData = new FormData(myForm);\n      formData.append(\"products\", JSON.stringify(this.selectedProducts));\n\n      //   let myForm = document.getElementById(\"myForm\");\n      //   let formData = new FormData(myForm);\n      //   //   formData.append(\"content\", this.myHTML);\n\n      axios\n        .post(\"/admin/sendPromotions\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then((res) => {\n          console.log(res);\n          this.showSuccessMessage(res.data);\n          LoadingOverlayHide();\n          window.scrollTo(0, 0);\n        })\n        .catch((err) => {\n          console.error(err);\n          this.errors.record(err.response.data.errors);\n          this.showErrorMessage(this.errors.getArrayOfMessages());\n          window.scrollTo(0, 0);\n          LoadingOverlayHide();\n        });\n    },\n\n    showErrorMessage(errors) {\n      //   console.log(shit);\n      this.$events.fire(\"showErrorMessage\", errors);\n    },\n\n    removeSelectedProduct(data) {\n      this.$refs.select_products_modal.products.forEach((product) => {\n        if (product.id == data.id) {\n          product.selected = false;\n        }\n      });\n\n      this.selectedProducts.splice(\n        this.selectedProducts.findIndex(function (i) {\n          return i.id === data.id;\n        }),\n        1\n      );\n    },\n\n    showSuccessMessage(msg) {\n      //   console.log(shit);\n      this.$events.fire(\"showSuccessMessage\", msg);\n    },\n  },\n};\n</script>\n\n\n<style scoped>\n.btn-edit {\n  background: transparent;\n  border: 0px;\n  color: gray;\n  font-size: 20px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=06a7f4f4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=06a7f4f4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06a7f4f4\",\n  null\n  \n)\n\nexport default component.exports","export default class Errors {\n    constructor() {\n        this.errors = {};\n    }\n\n    get(field) {\n        // console.log(\"getting this field\" + field)\n        if (this.errors[field]) {\n            return this.errors[field][0];\n        }\n    }\n\n    record(errors) {\n        this.errors = errors;\n    }\n\n    clear(field) {\n        delete this.errors[field];\n    }\n\n    has(field) {\n        return this.errors.hasOwnProperty(field);\n    }\n\n    getAllMessages() {\n        let str = \"\";\n        if (Object.keys(this.errors).length > 0 == true) {\n            const keys = Object.keys(this.errors);\n            for (const key of keys) {\n                str = str + this.get(key);\n                +\", \";\n            }\n        }\n        return str;\n    }\n\n    getArrayOfMessages() {\n        let arr = [];\n        if (Object.keys(this.errors).length > 0 == true) {\n            const keys = Object.keys(this.errors);\n            for (const key of keys) {\n                // let obj = {\n                //   msg: this.get(key),\n                // };\n                arr.push(this.get(key));\n            }\n        }\n        return arr;\n    }\n\n    any() {\n        return Object.keys(this.errors).length > 0;\n    }\n}\n"],"sourceRoot":""}