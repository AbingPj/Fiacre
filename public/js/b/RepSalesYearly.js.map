{"version":3,"sources":["webpack:///./resources/js/backend/components/reportssales/yearly.vue?004e","webpack:///./resources/js/backend/components/reportssales/yearly.vue?38c9","webpack:///resources/js/backend/components/reportssales/yearly.vue","webpack:///./resources/js/backend/components/reportssales/yearly.vue"],"names":["created","this","getData","getOrganization","data","total","yearLabel","year","filter_year","options","format","useCurrent","allowInputToggle","maxDate","moment","json_fields","field","callback","parseFloat","value","toFixed","selectedOrganizationId","methods","axios","filter","print","displayNumberWithComma","n","Number","toLocaleString","minimumFractionDigits","maximumFractionDigits","component","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","on","$event","model","$$v","expression","_m","staticStyle","_l","item","index","key","date","total_orders","total_products","total_earnings"],"mappings":"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","file":"js/b/RepSalesYearly.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('h3',[_vm._v(\"\\r\\n        Year: \"+_vm._s(_vm.yearLabel)+\"\\r\\n        \"),_c('button',{staticClass:\"btn btn-success float-right\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.print()}}},[_c('i',{staticClass:\"fas fa-print\"}),_vm._v(\" Print\\r\\n        \")]),_vm._v(\" \"),_c('download-excel',{staticClass:\"btn btn-success float-right mr-2\",attrs:{\"footer\":['total: ',parseFloat(_vm.total).toFixed(2)],\"header\":'Yearly Sales Report ('+_vm.yearLabel+')',\"fields\":_vm.json_fields,\"data\":_vm.data,\"type\":\"xls\",\"name\":\"salesyearly.xls\",\"worksheet\":\"Yearly\"}},[_c('i',{staticClass:\"fas fa-file-excel\"}),_vm._v(\"\\r\\n          XLS\\r\\n        \")]),_vm._v(\" \"),_c('download-excel',{staticClass:\"btn btn-success float-right mr-2\",attrs:{\"footer\":['total: ',parseFloat(_vm.total).toFixed(2)],\"header\":'Yearly Sales Report ('+_vm.yearLabel+')',\"fields\":_vm.json_fields,\"data\":_vm.data,\"type\":\"csv\",\"name\":\"salesyearly.csv\",\"worksheet\":\"Yearly\"}},[_c('i',{staticClass:\"fas fa-file-csv\"}),_vm._v(\"\\r\\n          CSV\\r\\n        \")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"row mt-3\"},[_c('div',{staticClass:\"col-md-3\"},[_c('div',{staticClass:\"input-group\"},[_c('date-picker',{attrs:{\"id\":\"date-time-input\",\"wrap\":true,\"config\":_vm.options},model:{value:(_vm.year),callback:function ($$v) {_vm.year=$$v},expression:\"year\"}}),_vm._v(\" \"),_vm._m(0)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-2\"},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.filter()}}},[_c('i',{staticClass:\"fas fa-filter\"}),_vm._v(\" Filter\\r\\n      \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"row mt-5\"},[_c('div',{staticClass:\"col-10\"},[_c('div',{staticStyle:{\"min-height\":\"300px\"}},[_c('table',{staticClass:\"table table-hover\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.data),function(item,index){return _c('tr',{key:index},[_c('th',[_vm._v(_vm._s(item.date))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(item.total_orders))]),_vm._v(\" \"),_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(item.total_products))]),_vm._v(\" \"),_c('td',[_c('span',{staticClass:\"float-right\"},[_vm._v(_vm._s(_vm.displayNumberWithComma(item.total_earnings)))])])])}),0),_vm._v(\" \"),_c('tfoot',[_c('tr',[_c('th',[_vm._v(\"Total\")]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"}),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"}),_vm._v(\" \"),_c('th',[_c('span',{staticClass:\"float-right\"},[_vm._v(\"$ \"+_vm._s(_vm.displayNumberWithComma(_vm.total)))])])])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-secondary datepickerbutton\",attrs:{\"type\":\"button\",\"title\":\"Toggle\"}},[_c('i',{staticClass:\"far fa-calendar\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"Month\")]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Total No. Orders\")]),_vm._v(\" \"),_c('th',{staticClass:\"text-center\"},[_vm._v(\"Total No. Products Sold\")]),_vm._v(\" \"),_c('th',[_c('span',{staticClass:\"float-right\"},[_vm._v(\"Sales\")])])])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yearly.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yearly.vue?vue&type=script&lang=js&\"","<template>\r\n<div>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <h3>\r\n        <!-- Yearly Sales Report: {{yearLabel}} -->\r\n        Year: {{yearLabel}}\r\n        <button type=\"button\" @click=\"print()\" class=\"btn btn-success float-right\">\r\n          <i class=\"fas fa-print\"></i> Print\r\n        </button>\r\n        <download-excel :footer=\"['total: ',parseFloat(total).toFixed(2)]\" :header=\"'Yearly Sales Report ('+yearLabel+')'\" class=\"btn btn-success float-right mr-2\" :fields=\"json_fields\" :data=\"data\" type=\"xls\" name=\"salesyearly.xls\" worksheet=\"Yearly\">\r\n          <i class=\"fas fa-file-excel\"></i>\r\n          XLS\r\n        </download-excel>\r\n        <download-excel :footer=\"['total: ',parseFloat(total).toFixed(2)]\" :header=\"'Yearly Sales Report ('+yearLabel+')'\" class=\"btn btn-success float-right mr-2\" :fields=\"json_fields\" :data=\"data\" type=\"csv\" name=\"salesyearly.csv\" worksheet=\"Yearly\">\r\n          <i class=\"fas fa-file-csv\"></i>\r\n          CSV\r\n        </download-excel>\r\n      </h3>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mt-3\">\r\n    <div class=\"col-md-3\">\r\n      <div class=\"input-group\">\r\n        <date-picker v-model=\"year\" id=\"date-time-input\" :wrap=\"true\" :config=\"options\"></date-picker>\r\n        <div class=\"input-group-append\">\r\n          <button class=\"btn btn-secondary datepickerbutton\" type=\"button\" title=\"Toggle\">\r\n            <i class=\"far fa-calendar\"></i>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n     <!-- <div class=\"col-md-5\">\r\n           <v-select\r\n\t\t\t\t\t\tlabel=\"atr_name_with_optionc\"\r\n\t\t\t\t\t\tv-model=\"selectedOrganizationId\"\r\n                        :reduce=\"(state) => state.id\"\r\n\t\t\t\t\t\t:options=\"organization\"\r\n\t\t\t\t\t\t:multiple=\"false\"\r\n\t\t\t\t\t\t:disabled=\"false\"\r\n\t\t\t\t\t\t:clearable=\"true\"\r\n\t\t\t\t\t\t:searchable=\"true\"\r\n\t\t\t\t\t\t:filterable=\"true\"\r\n\t\t\t\t\t\t:taggable=\"true\"\r\n\t\t\t\t\t\t:no-drop=\"false\"\r\n\t\t\t\t\t\t:push-tags=\"true\"\r\n\t\t\t\t\t\t:select-on-tab=\"true\"\r\n                        placeholder=\"Select Organization\"\r\n\t\t\t\t\t></v-select>\r\n    </div> -->\r\n    <div class=\"col-md-2\">\r\n      <button @click=\"filter()\" class=\"btn btn-primary\">\r\n        <i class=\"fas fa-filter\"></i> Filter\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mt-5\">\r\n    <div class=\"col-10\">\r\n      <div style=\"min-height:300px;\">\r\n        <table class=\"table table-hover\">\r\n          <thead>\r\n            <tr>\r\n              <!-- <th scope=\"col\">#</th> -->\r\n              <th>Month</th>\r\n              <th class=\"text-center\">Total No. Orders</th>\r\n              <th class=\"text-center\">Total No. Products Sold</th>\r\n              <th>\r\n                <span class=\"float-right\">Sales</span>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(item, index) in data\" :key=\"index\">\r\n              <th>{{item.date}}</th>\r\n              <td class=\"text-center\">{{item.total_orders}}</td>\r\n              <td class=\"text-center\">{{item.total_products}}</td>\r\n              <td>\r\n                <span class=\"float-right\">{{displayNumberWithComma(item.total_earnings)}}</span>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n            <tr>\r\n              <th>Total</th>\r\n              <th class=\"text-center\"></th>\r\n              <th class=\"text-center\"></th>\r\n              <th>\r\n                <span class=\"float-right\">$ {{displayNumberWithComma(total)}}</span>\r\n              </th>\r\n            </tr>\r\n          </tfoot>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  created() {\r\n    this.getData();\r\n    this.getOrganization();\r\n  },\r\n  data() {\r\n    return {\r\n      data: [],\r\n      total: 0,\r\n      yearLabel: \"\",\r\n      year: null,\r\n      filter_year: null,\r\n      options: {\r\n        format: \"YYYY\",\r\n        useCurrent: true,\r\n        allowInputToggle: true,\r\n        maxDate: moment()\r\n        // showTodayButton : true,\r\n      },\r\n      json_fields: {\r\n        \"Month\": \"date\",\r\n        \"Total Number of Orders\": \"total_orders\",\r\n        \"Total Number of Products Sold\": \"total_products\",\r\n        \"Sales\": {\r\n          field: 'total_earnings',\r\n          callback: (value) => {\r\n            return parseFloat(value).toFixed(2);\r\n          }\r\n        },\r\n      },\r\n       organization:[],\r\n      selectedOrganizationId:null,\r\n    };\r\n  },\r\n  methods: {\r\n       getOrganization(){\r\n        // atr_name_with_optionc\r\n        axios.get('/admin/api/data/getOrganization')\r\n        .then(res => {\r\n            this.organization = res.data;\r\n        })\r\n        .catch(err => {\r\n            console.error(err);\r\n        })\r\n    },\r\n    getData() {\r\n      axios\r\n        .post(\"/admin/api/reports/sales/yearly\")\r\n        .then(res => {\r\n          this.total = res.data.total_earnings;\r\n          this.data = res.data.data;\r\n          this.yearLabel = res.data.year;\r\n          this.year = res.data.year;\r\n          this.filter_year = res.data.year;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n\r\n    filter() {\r\n      axios\r\n        .post(\"/admin/api/reports/sales/yearly\", {\r\n          year: this.year\r\n        })\r\n        .then(res => {\r\n          this.total = res.data.total_earnings;\r\n          this.data = res.data.data;\r\n          this.yearLabel = res.data.year;\r\n          this.year = res.data.year;\r\n          this.filter_year = res.data.year;\r\n        })\r\n        .catch(err => {\r\n          console.error(err);\r\n        });\r\n    },\r\n\r\n    print() {\r\n      axios({\r\n          method: \"post\",\r\n          url: \"/admin/reports/generate/pdf/yearly\",\r\n          data: {\r\n            date: this.filter_year\r\n          },\r\n          responseType: \"arraybuffer\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/pdf\"\r\n          }\r\n        })\r\n        .then(response => {\r\n          const url = window.URL.createObjectURL(new Blob([response.data]));\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n          link.setAttribute(\"download\", \"yearly \" + this.filter_year + \".pdf\"); //or any other extension\r\n          document.body.appendChild(link);\r\n          link.click();\r\n        })\r\n        .catch(error => console.log(error));\r\n    },\r\n\r\n    displayNumberWithComma(value) {\r\n      var n = parseFloat(value).toFixed(2);\r\n      var withCommas = Number(n).toLocaleString(\"en\", {\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2\r\n      });\r\n      return withCommas;\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render, staticRenderFns } from \"./yearly.vue?vue&type=template&id=366dcd5a&\"\nimport script from \"./yearly.vue?vue&type=script&lang=js&\"\nexport * from \"./yearly.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}