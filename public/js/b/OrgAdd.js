(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"50IR":function(t,e,o){"use strict";var a=o("L6fZ");o.n(a).a},DvhW:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,".form-group[data-v-35269441] {\n  margin-bottom: 1rem;\n}\n.input-group-text[data-v-35269441] {\n  background: #d9dfe2;\n}\n.text-success[data-v-35269441] {\n  color: #339f25 !important;\n}\n.btn-success-1[data-v-35269441] {\n  color: #fff !important;\n  background-color: #339f25 !important;\n  border-color: #339f25 !important;\n}\n.btn-upload[data-v-35269441] {\n  margin-right: 10px;\n}\n.btn-upload i[data-v-35269441] {\n  font-size: 50px;\n}\n.btn-success-2[data-v-35269441] {\n  color: gray !important;\n  background-color: rgba(51, 159, 37, 0.3) !important;\n  border-color: rgba(51, 159, 37, 0.5) !important;\n}\n#preview img[data-v-35269441] {\n  width: 110px;\n  height: 90px;\n  object-fit: cover;\n}",""])},FKLN:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"\n.vs__dropdown-toggle {\n\tborder-radius: 0 !important;\n}\n.vs__search {\n\tline-height: 1.5;\n}\n",""])},L6fZ:function(t,e,o){var a=o("FKLN");"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,r);a.locals&&(t.exports=a.locals)},RnHZ:function(t,e,o){"use strict";var a=o("mSnO");o.n(a).a},Xvx1:function(t,e,o){"use strict";o.r(e);var a=o("o0o1"),r=o.n(a),n={data:function(){return{MarkerLocation:{},center:{lat:43.2994285,lng:-74.217933}}},methods:{geocoding:function(t){var e=this;(new google.maps.Geocoder).geocode({address:t},(function(t,o){if("OK"==o&&t[0]){var a={lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()};e.center=a,e.MarkerLocation=a,e.$parent.org.lat=a.lat,e.$parent.org.lng=a.lng}}))},dragging:function(t,e,o){var a;a={lat:t.latLng.lat(),lng:t.latLng.lng()},this.$parent.org.lat=a.lat,this.$parent.org.lng=a.lng}}},s=o("KHd+"),i=Object(s.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{width:"100%",height:"300px"}},[o("gmap-map",{ref:"xyz",staticStyle:{width:"100%",height:"100%"},attrs:{center:t.center,zoom:8,options:{zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,fullscreenControl:!0}}},[o("gmap-marker",{attrs:{position:t.MarkerLocation,clickable:!0,draggable:!0,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"},on:{drag:function(e){return t.dragging(e,!1)}}},[o("gmap-info-window",{attrs:{options:{pixelOffset:{width:0,height:0},content:"Drag me!",zIndex:2}}})],1)],1)],1)}),[],!1,null,null,null).exports,l=o("j0Az");function c(t,e,o,a,r,n,s){try{var i=t[n](s),l=i.value}catch(t){return void o(t)}i.done?e(l):Promise.resolve(l).then(a,r)}function u(t){return function(){var e=this,o=arguments;return new Promise((function(a,r){var n=t.apply(e,o);function s(t){c(n,a,r,s,i,"next",t)}function i(t){c(n,a,r,s,i,"throw",t)}s(void 0)}))}}var m={components:{OrgMap:i},data:function(){return{org:{name:"",email:"",optionc_id:"",type:"1",lat:"",lng:"",street:"",cityprov:"",state:"",zipcode:"",contact_land:"",contact_mobile:"",contact_title:"",contact_fname:"",contact_lname:"",contact_suffix:"",diocese:"",website:"",logo:null},states:[],cities:[],LogoPreview:null,defaultCountry:"US",results:{},results2:{},errors:new l.a}},created:function(){this.getStates()},methods:{onlyNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&t.preventDefault()},openMap:function(){var t=this.org.street+", "+this.org.cityprov+", "+this.org.state+", "+this.org.zipcode;this.$refs.refOrgMap.geocoding(t)},onUpdate:function(t){this.results=t},onUpdate2:function(t){this.results2=t},onFileChange:function(t){var e=t.target.files[0];this.org.logo=e,this.LogoPreview=URL.createObjectURL(e)},getStates:function(){var t=this;axios.get("/states").then((function(e){t.states=e.data})).catch((function(t){console.error(t)}))},fetchOptions:function(t,e){var o=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){o.getCities(t)}),300)},getCities:function(){var t=arguments,e=this;return u(r.a.mark((function o(){var a,n;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:null,n={search:a},o.next=4,axios({method:"get",url:"/data/searchcities",params:n}).then((function(t){e.cities=t.data}));case 4:case"end":return o.stop()}}),o)})))()},addOrganization:function(){var t=this,e=new FormData;for(var o in this.org)console.log(o),"logo"==o?null!=this.org[o]&&e.append(o,this.org[o]):e.append(o,this.org[o]);axios.post("/admin/api/addOrganization",e).then((function(t){window.location.href="/admin/organization"})).catch((function(e){console.error(e),e.response&&(t.errors.record(e.response.data.errors),t.showErrorMessage(t.errors.getArrayOfMessages()),window.scrollTo(0,0))}))},showErrorMessage:function(t){this.$events.fire("showErrorMessage",t)}},computed:{loadlist:function(){var t=(this.currentPage-1)*this.perPage,e=t+this.perPage;return this.searchedCustomers.slice(t,e)},rows:function(){return this.searchedCustomers.length}}},d=(o("50IR"),o("RnHZ"),Object(s.a)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"d-flex flex-column min-vh-100"},[t._m(0),t._v(" "),o("div",{staticClass:"row mt-4",staticStyle:{"font-family":"Source Sans Pro, sans-serif !important"}},[o("div",{staticClass:"col-md-7"},[o("div",{staticClass:"form-group"},[t._m(1),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.name,expression:"org.name"}],staticClass:"form-control rounded-0",attrs:{id:"name",name:"name",type:"text",placeholder:""},domProps:{value:t.org.name},on:{input:function(e){e.target.composing||t.$set(t.org,"name",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[t._m(2),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.email,expression:"org.email"}],staticClass:"form-control rounded-0",attrs:{id:"email",name:"email",type:"email",placeholder:"example@gmail.com"},domProps:{value:t.org.email},on:{input:function(e){e.target.composing||t.$set(t.org,"email",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("OptionC ID")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.optionc_id,expression:"org.optionc_id"}],staticClass:"form-control rounded-0",attrs:{id:"optionc_id",name:"optionc_id",type:"text"},domProps:{value:t.org.optionc_id},on:{keypress:t.onlyNumber,input:function(e){e.target.composing||t.$set(t.org,"optionc_id",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("Organization Type")]),t._v(" "),o("br"),t._v(" "),o("div",{staticClass:"custom-control custom-radio custom-control-inline"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.type,expression:"org.type"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"customRadioInline1",name:"customRadioInline1",value:"1"},domProps:{checked:t._q(t.org.type,"1")},on:{change:function(e){return t.$set(t.org,"type","1")}}}),t._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"customRadioInline1"}},[t._v("Parish/Church")])]),t._v(" "),o("div",{staticClass:"custom-control custom-radio custom-control-inline"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.type,expression:"org.type"}],staticClass:"custom-control-input",attrs:{type:"radio",id:"customRadioInline2",name:"customRadioInline1",value:"2"},domProps:{checked:t._q(t.org.type,"2")},on:{change:function(e){return t.$set(t.org,"type","2")}}}),t._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"customRadioInline2"}},[t._v("School")])])]),t._v(" "),t._m(3),t._v(" "),o("div",{staticClass:"form-group"},[t._m(4),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.street,expression:"org.street"}],staticClass:"form-control rounded-0",attrs:{id:"type",name:"type",type:"text"},domProps:{value:t.org.street},on:{input:function(e){e.target.composing||t.$set(t.org,"street",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[t._m(5),t._v(" "),o("v-select",{attrs:{options:t.cities,multiple:!1,disabled:!1,clearable:!0,searchable:!0,filterable:!0,taggable:!0,"no-drop":!1,"push-tags":!0,"select-on-tab":!0},on:{search:t.fetchOptions},model:{value:t.org.cityprov,callback:function(e){t.$set(t.org,"cityprov",e)},expression:"org.cityprov"}})],1),t._v(" "),o("div",{staticClass:"form-group"},[t._m(6),t._v(" "),o("region-select",{attrs:{country:"United States",className:"form-control rounded-0",countryName:!0,regionName:!0,region:t.org.state,placeholder:"Select State"},model:{value:t.org.state,callback:function(e){t.$set(t.org,"state",e)},expression:"org.state"}})],1),t._v(" "),o("div",{staticClass:"form-group"},[t._m(7),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.zipcode,expression:"org.zipcode"}],staticClass:"form-control rounded-0",attrs:{type:"text"},domProps:{value:t.org.zipcode},on:{input:function(e){e.target.composing||t.$set(t.org,"zipcode",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[t._m(8),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.lat,expression:"org.lat"}],staticClass:"form-control rounded-0",attrs:{placeholder:"Latitude",type:"text",readonly:""},domProps:{value:t.org.lat},on:{input:function(e){e.target.composing||t.$set(t.org,"lat",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.lng,expression:"org.lng"}],staticClass:"form-control rounded-0",attrs:{placeholder:"Longitude",type:"text",readonly:""},domProps:{value:t.org.lng},on:{input:function(e){e.target.composing||t.$set(t.org,"lng",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"col-4"},[o("button",{staticClass:"btn btn-info",on:{click:function(e){return t.openMap()}}},[o("i",{staticClass:"fas fa-map-marker-alt mr-2"}),t._v(" Set Map\n\t\t\t\t\t\t\tLocation\n\t\t\t\t\t\t")])])])]),t._v(" "),o("div",{staticClass:"mt-3"},[o("OrgMap",{ref:"refOrgMap"})],1),t._v(" "),t._m(9),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("Landline")]),t._v(" "),o("vue-phone-number-input",{class:"rounded-0",attrs:{"default-country-code":t.defaultCountry,"no-country-selector":"",error:0==t.results.isValid,translations:{phoneNumberLabel:"Landline Number"}},on:{update:t.onUpdate},model:{value:t.org.contact_land,callback:function(e){t.$set(t.org,"contact_land",e)},expression:"org.contact_land"}}),t._v(" "),o("label",{staticClass:"text-light",class:0==t.results.isValid?"d-none":"d-block"},[t._v(".")]),t._v(" "),o("label",{staticClass:"text-danger",class:0!=t.results.isValid?"d-none":"d-block"},[t._v("Contact Number is not valid in US.")])],1),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("Mobile")]),t._v(" "),o("vue-phone-number-input",{attrs:{"default-country-code":t.defaultCountry,"no-country-selector":"",error:0==t.results2.isValid},on:{update:t.onUpdate2},model:{value:t.org.contact_mobile,callback:function(e){t.$set(t.org,"contact_mobile",e)},expression:"org.contact_mobile"}}),t._v(" "),o("label",{staticClass:"text-light",class:0==t.results2.isValid?"d-none":"d-block"},[t._v(".")]),t._v(" "),o("label",{staticClass:"text-danger",class:0!=t.results2.isValid?"d-none":"d-block"},[t._v("Contact Number is not valid in US.")])],1),t._v(" "),t._m(10),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("Title")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.contact_title,expression:"org.contact_title"}],staticClass:"form-control rounded-0",attrs:{type:"text"},domProps:{value:t.org.contact_title},on:{input:function(e){e.target.composing||t.$set(t.org,"contact_title",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("First Name")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.contact_fname,expression:"org.contact_fname"}],staticClass:"form-control rounded-0",attrs:{type:"text"},domProps:{value:t.org.contact_fname},on:{input:function(e){e.target.composing||t.$set(t.org,"contact_fname",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("Last Name")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.contact_lname,expression:"org.contact_lname"}],staticClass:"form-control rounded-0",attrs:{type:"text"},domProps:{value:t.org.contact_lname},on:{input:function(e){e.target.composing||t.$set(t.org,"contact_lname",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("Suffix")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.contact_suffix,expression:"org.contact_suffix"}],staticClass:"form-control rounded-0",attrs:{type:"text"},domProps:{value:t.org.contact_suffix},on:{input:function(e){e.target.composing||t.$set(t.org,"contact_suffix",e.target.value)}}})]),t._v(" "),t._m(11),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("Diocese")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.diocese,expression:"org.diocese"}],staticClass:"form-control rounded-0",attrs:{type:"text"},domProps:{value:t.org.diocese},on:{input:function(e){e.target.composing||t.$set(t.org,"diocese",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"name"}},[t._v("Website")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.org.website,expression:"org.website"}],staticClass:"form-control rounded-0",attrs:{type:"text"},domProps:{value:t.org.website},on:{input:function(e){e.target.composing||t.$set(t.org,"website",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"exampleFormControlFile1"}},[t._v("Logo")]),t._v(" "),o("input",{staticClass:"form-control-file",attrs:{type:"file",id:"exampleFormControlFile1",accept:"image/png, image/jpeg, image/jpg"},on:{change:t.onFileChange}}),t._v(" "),t.LogoPreview?o("img",{staticClass:"mt-1 mb-3",staticStyle:{width:"150px",height:"110px"},attrs:{src:t.LogoPreview,alt:""}}):t._e()])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-7"},[o("hr"),t._v(" "),o("button",{staticClass:"mr-2 btn btn-success-1 rounded-0 float-right",on:{click:function(e){return t.addOrganization()}}},[o("i",{staticClass:"fas fa-save mr-3"}),t._v(" Save\n\t\t\t")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h2",{staticClass:"card-title mb-0"},[e("i",{staticClass:"fas fa-sitemap mr-3"}),this._v(" Add New Organization\n\t\t\t")])]),this._v(" "),e("div",{staticClass:"col-md-6"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"name"}},[this._v("Organization Name (Parish/School)\n\t\t\t\t\t"),e("span",{staticClass:"text-danger font-weight-bold"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"name"}},[this._v("Email (must be unique)\n\t\t\t\t\t"),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-5 mb-1"},[e("h4",[this._v("Address")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"name"}},[this._v("Street "),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"name"}},[this._v("Town/County/City "),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"name"}},[this._v("State "),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"name"}},[this._v("Zipcode "),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"name"}},[this._v("Map Location "),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-5 mb-1"},[e("h4",[this._v("Contact Numbers")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-5 mb-1"},[e("h4",[this._v("Contact Person")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mt-5 mb-1"},[e("h4",[this._v("Others")])])}],!1,null,"35269441",null));e.default=d.exports},j0Az:function(t,e,o){"use strict";function a(t,e){for(var o=0;o<e.length;o++){var a=e[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}o.d(e,"a",(function(){return r}));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,o,r;return e=t,(o=[{key:"get",value:function(t){if(this.errors[t])return this.errors[t][0]}},{key:"record",value:function(t){this.errors=t}},{key:"clear",value:function(t){delete this.errors[t]}},{key:"has",value:function(t){return this.errors.hasOwnProperty(t)}},{key:"getAllMessages",value:function(){var t="";if(Object.keys(this.errors).length>0==1)for(var e=0,o=Object.keys(this.errors);e<o.length;e++){var a=o[e];t+=this.get(a)}return t}},{key:"getArrayOfMessages",value:function(){var t=[];if(Object.keys(this.errors).length>0==1)for(var e=0,o=Object.keys(this.errors);e<o.length;e++){var a=o[e];t.push(this.get(a))}return t}},{key:"any",value:function(){return Object.keys(this.errors).length>0}}])&&a(e.prototype,o),r&&a(e,r),t}()},mSnO:function(t,e,o){var a=o("DvhW");"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(a,r);a.locals&&(t.exports=a.locals)}}]);
//# sourceMappingURL=OrgAdd.js.map