{"version":3,"sources":["webpack:///./resources/js/backend/components/settings/tabTerms.vue?2b88","webpack:///./resources/js/backend/components/settings/tabTerms.vue?a3eb","webpack:///resources/js/backend/components/settings/tabTerms.vue","webpack:///./resources/js/backend/components/settings/tabTerms.vue","webpack:///./resources/js/backend/errorClass.js"],"names":["props","data","title","content","errors","displayImage","methods","save","LoadingOverlay","axios","showErrorMessage","this","$events","fire","showSuccessMessage","cancel","store","terms","image_link","$","summernote","document","getElementById","value","onFileChange","URL","createObjectURL","file","onContentChange","console","log","created","mounted","ready","placeholder","tabsize","toolbar","component","_vm","_h","$createElement","_c","_self","_m","_v","staticClass","attrs","on","$event","preventDefault","staticStyle","domProps","Errors","field","hasOwnProperty","str","Object","keys","length","key","get","arr","push"],"mappings":"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","file":"js/b/tabTerms.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 mt-2\"},[_c('form',{attrs:{\"id\":\"termsForm\",\"name\":\"termsForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.save()}}},[_c('div',{staticClass:\"form-group w-50\"},[_c('label',{staticClass:\"font-weight-bold\"},[_vm._v(\"Background Image\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('img',{staticClass:\"mb-3\",staticStyle:{\"width\":\"100%\",\"height\":\"200px\",\"object-fit\":\"cover\"},attrs:{\"src\":_vm.displayImage}}),_vm._v(\" \"),_c('div',{staticClass:\"custom-file mb-3\"},[_c('input',{staticClass:\"custom-file-input\",attrs:{\"type\":\"file\",\"id\":\"background_image\",\"name\":\"background_image\"},on:{\"change\":_vm.onFileChange}}),_vm._v(\" \"),_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":\"image_path\"}},[_vm._v(\"Choose file...\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"font-weight-bold\"},[_vm._v(\"Title\")]),_vm._v(\" \"),_c('textarea',{attrs:{\"id\":\"terms_title\",\"name\":\"title\"},domProps:{\"value\":_vm.title}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"font-weight-bold\",attrs:{\"for\":\"content\"}},[_vm._v(\"Content\")]),_vm._v(\" \"),_c('textarea',{attrs:{\"id\":\"terms_content\",\"name\":\"content\"},domProps:{\"value\":_vm.content},on:{\"change\":_vm.onContentChange}})]),_vm._v(\" \"),_c('div',{staticClass:\"float-right\"},[_c('button',{staticClass:\"btn btn-danger mr-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.cancel()}}},[_vm._v(\"CANCEL\")])]),_vm._v(\" \"),_vm._m(1)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('h5',[_c('b',[_vm._v(\"Terms Content Settings\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"float-right\"},[_c('button',{staticClass:\"btn btn-success mr-2\"},[_vm._v(\"SAVE\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabTerms.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tabTerms.vue?vue&type=script&lang=js&\"","\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <h5>\r\n          <b>Terms Content Settings</b>\r\n        </h5>\r\n      </div>\r\n      <div class=\"col-md-6\"></div>\r\n    </div>\r\n    <br />\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 mt-2\">\r\n        <form id=\"termsForm\" name=\"termsForm\" @submit.prevent=\"save()\">\r\n          <div class=\"form-group w-50\">\r\n            <label class=\"font-weight-bold\">Background Image</label>\r\n            <br />\r\n            <img\r\n              :src=\"displayImage\"\r\n              class=\"mb-3\"\r\n              style=\"width:100%; height:200px; object-fit: cover;\"\r\n            />\r\n            <div class=\"custom-file mb-3\">\r\n              <input\r\n                @change=\"onFileChange\"\r\n                type=\"file\"\r\n                class=\"custom-file-input\"\r\n                id=\"background_image\"\r\n                name=\"background_image\"\r\n              />\r\n              <label class=\"custom-file-label\" for=\"image_path\">Choose file...</label>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label class=\"font-weight-bold\">Title</label>\r\n            <textarea :value=\"title\" id=\"terms_title\" name=\"title\"></textarea>\r\n          </div>\r\n\r\n          <div class=\"form-group\">\r\n            <label for=\"content\" class=\"font-weight-bold\">Content</label>\r\n            <textarea :value=\"content\" @change=\"onContentChange\" id=\"terms_content\" name=\"content\"></textarea>\r\n          </div>\r\n\r\n          <div class=\"float-right\">\r\n            <button type=\"button\" @click=\"cancel()\" class=\"btn btn-danger mr-2\">CANCEL</button>\r\n          </div>\r\n\r\n          <div class=\"float-right\">\r\n            <button class=\"btn btn-success mr-2\">SAVE</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Errors from \"../../errorClass\";\r\n\r\nexport default {\r\n  props: [\"store\"],\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      content: \"\",\r\n      errors: new Errors(),\r\n      displayImage: \"/img/no-product-image.png\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    save() {\r\n      LoadingOverlay();\r\n\r\n      let myForm = document.getElementById(\"termsForm\");\r\n      let formData = new FormData(myForm);\r\n\r\n      axios\r\n        .post(\"/admin/settings/contents/termsSubmit\", formData, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        })\r\n        .then((res) => {\r\n          //   this.showSuccessMessage(res.data);\r\n          //   window.scrollTo(0, 0);\r\n          //   LoadingOverlayHide();\r\n          window.location.href = res.data;\r\n        })\r\n        .catch((err) => {\r\n          this.errors.record(err.response.data.errors);\r\n          this.showErrorMessage(this.errors.getArrayOfMessages());\r\n          window.scrollTo(0, 0);\r\n          LoadingOverlayHide();\r\n        });\r\n    },\r\n\r\n    showErrorMessage(errors) {\r\n      this.$events.fire(\"showErrorMessage\", errors);\r\n    },\r\n\r\n    showSuccessMessage(errors) {\r\n      this.$events.fire(\"showSuccessMessage\", errors);\r\n    },\r\n\r\n    cancel() {\r\n      if (this.store.terms != null) {\r\n        if (this.store.terms.image_link != null) {\r\n          this.displayImage = this.store.terms.image_link;\r\n        } else {\r\n          this.displayImage = \"/img/no-product-image.png\";\r\n        }\r\n\r\n        $(\"#terms_title\").summernote(\"code\", this.store.terms.title);\r\n        $(\"#terms_content\").summernote(\"code\", this.store.terms.content);\r\n        document.getElementById(\"background_image\").value = null;\r\n      } else {\r\n        $(\"#terms_title\").summernote(\"code\", \"\");\r\n        $(\"#terms_content\").summernote(\"code\", \"\");\r\n        this.displayImage = \"/img/no-product-image.png\";\r\n        document.getElementById(\"background_image\").value = null;\r\n      }\r\n    },\r\n    onFileChange(e) {\r\n      const file = e.target.files[0];\r\n      this.displayImage = URL.createObjectURL(file);\r\n    },\r\n\r\n    onContentChange() {\r\n      console.log(\"content change\");\r\n    },\r\n  },\r\n\r\n  created() {\r\n    if (this.store.terms != null) {\r\n      this.title = this.store.terms.title;\r\n      this.content = this.store.terms.content;\r\n      if (this.store.terms.image_link == null) {\r\n        this.displayImage = \"/img/no-product-image.png\";\r\n      } else {\r\n        this.displayImage = this.store.terms.image_link;\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    $(document).ready(function () {\r\n      $(\"#terms_title\").summernote({\r\n        placeholder: \"Title\",\r\n        tabsize: 1,\r\n        toolbar: [\r\n          [\"style\", [\"style\"]],\r\n          [\"font\", [\"bold\", \"underline\", \"clear\"]],\r\n          [\"para\", [\"paragraph\"]],\r\n          [\"view\", [\"fullscreen\", \"codeview\", \"help\"]],\r\n        ],\r\n        // height: 120,\r\n      });\r\n\r\n      $(\"#terms_content\").summernote({\r\n        placeholder: \"Content\",\r\n        tabsize: 10,\r\n        // height: 400,\r\n      });\r\n    });\r\n  },\r\n};\r\n</script>\r\n","import { render, staticRenderFns } from \"./tabTerms.vue?vue&type=template&id=b18d3ee0&\"\nimport script from \"./tabTerms.vue?vue&type=script&lang=js&\"\nexport * from \"./tabTerms.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default class Errors {\n    constructor() {\n        this.errors = {};\n    }\n\n    get(field) {\n        // console.log(\"getting this field\" + field)\n        if (this.errors[field]) {\n            return this.errors[field][0];\n        }\n    }\n\n    record(errors) {\n        this.errors = errors;\n    }\n\n    clear(field) {\n        delete this.errors[field];\n    }\n\n    has(field) {\n        return this.errors.hasOwnProperty(field);\n    }\n\n    getAllMessages() {\n        let str = \"\";\n        if (Object.keys(this.errors).length > 0 == true) {\n            const keys = Object.keys(this.errors);\n            for (const key of keys) {\n                str = str + this.get(key);\n                +\", \";\n            }\n        }\n        return str;\n    }\n\n    getArrayOfMessages() {\n        let arr = [];\n        if (Object.keys(this.errors).length > 0 == true) {\n            const keys = Object.keys(this.errors);\n            for (const key of keys) {\n                // let obj = {\n                //   msg: this.get(key),\n                // };\n                arr.push(this.get(key));\n            }\n        }\n        return arr;\n    }\n\n    any() {\n        return Object.keys(this.errors).length > 0;\n    }\n}\n"],"sourceRoot":""}