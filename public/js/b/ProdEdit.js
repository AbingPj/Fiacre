(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"5aaN":function(t,e,r){"use strict";var s=r("T6rk");r.n(s).a},HwHb:function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,".form-group[data-v-d5f61b00] {\n  margin-bottom: 2rem;\n}\n.input-group-text[data-v-d5f61b00] {\n  background: #d9dfe2;\n}\n.text-success[data-v-d5f61b00] {\n  color: #339f25 !important;\n}\n.btn-success[data-v-d5f61b00] {\n  color: #fff !important;\n  background-color: #339f25 !important;\n  border-color: #339f25 !important;\n}\n.btn-success-1[data-v-d5f61b00] {\n  color: #fff !important;\n  background-color: #339f25 !important;\n  border-color: #339f25 !important;\n}\n.btn-success-2[data-v-d5f61b00] {\n  color: gray !important;\n  background-color: rgba(51, 159, 37, 0.3) !important;\n  border-color: rgba(51, 159, 37, 0.5) !important;\n}\n.btn-upload[data-v-d5f61b00] {\n  margin-right: 10px;\n}\n.btn-upload i[data-v-d5f61b00] {\n  font-size: 50px;\n}\n#preview img[data-v-d5f61b00] {\n  width: 110px;\n  height: 90px;\n  object-fit: cover;\n}",""])},T6rk:function(t,e,r){var s=r("HwHb");"string"==typeof s&&(s=[[t.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(s,o);s.locals&&(t.exports=s.locals)},j0Az:function(t,e,r){"use strict";function s(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}r.d(e,"a",(function(){return o}));var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,r,o;return e=t,(r=[{key:"get",value:function(t){if(this.errors[t])return this.errors[t][0]}},{key:"record",value:function(t){this.errors=t}},{key:"clear",value:function(t){delete this.errors[t]}},{key:"has",value:function(t){return this.errors.hasOwnProperty(t)}},{key:"getAllMessages",value:function(){var t="";if(Object.keys(this.errors).length>0==1)for(var e=0,r=Object.keys(this.errors);e<r.length;e++){var s=r[e];t+=this.get(s)}return t}},{key:"getArrayOfMessages",value:function(){var t=[];if(Object.keys(this.errors).length>0==1)for(var e=0,r=Object.keys(this.errors);e<r.length;e++){var s=r[e];t.push(this.get(s))}return t}},{key:"any",value:function(){return Object.keys(this.errors).length>0}}])&&s(e.prototype,r),o&&s(e,o),t}()},qfzv:function(t,e,r){"use strict";r.r(e);var s=r("j0Az"),o={props:["propsproduct","propscategories","action"],data:function(){return{product:{},categories:{},url:null,selectedCategory:null,csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),subcategories:[],selectedSubCategory:null,selectedCategoryName2:"",errors:new s.a}},created:function(){this.categories=this.propscategories,this.product=this.propsproduct,this.url=this.product.image_link,this.selectedCategory=this.propsproduct.category_id,this.selectedCategory&&this.categorySelectionChange(!0)},methods:{save:function(){var t=this;LoadingOverlay();var e=this.action,r=document.getElementById("myForm2"),s=new FormData(r);s.append("product_id",this.product.id),axios.post(e,s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),window.location.href=t.data})).catch((function(e){t.errors.record(e.response.data.errors),t.showErrorMessage(t.errors.getArrayOfMessages()),window.scrollTo(0,0),LoadingOverlayHide()}))},showErrorMessage:function(t){this.$events.fire("showErrorMessage",t)},categorySelectionChange:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];axios.get("/api/admin/subcategory/"+this.selectedCategory).then((function(r){t.subcategories=r.data.sub_categories,t.selectedCategoryName2=r.data.category.name,t.selectedSubCategory=e?t.product.sub_category_id:null,console.log(t.subcategories)})).catch((function(t){console.error(t)}))},archive:function(){this.$refs.archive_modal.product=this.product,$("#archiveModal").modal("show")},onFileChange:function(t){console.log(t);var e=t.target.files[0];this.url=URL.createObjectURL(e)},updateVisible:function(t){console.log(t),t.is_visible=!t.is_visible},preview:function(){console.log(this.product),this.$refs.preview_modal.product=this.product,this.$refs.preview_modal.preview_image=this.url,this.$refs.preview_modal.category=this.selectedCategoryName,$("#previewModal").modal("show")},onlyNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&46!==e&&t.preventDefault()}},computed:{selectedCategoryName:function(){var t=this;return null==this.selectedCategory?"":this.propscategories.find((function(e){return e.id===t.selectedCategory})).name}}},a=(r("5aaN"),r("KHd+")),i=Object(a.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("form",{attrs:{id:"myForm2",name:"myForm2"},on:{submit:function(e){return e.preventDefault(),t.save()}}},[r("div",{staticClass:"d-flex flex-column min-vh-100"},[r("div",{staticClass:"container"},[t._m(0),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-7 col-sm-12 p-2 m-2 border"},[r("div",{staticClass:"d-flex"},[r("div",[r("button",{staticClass:"btn btn-success btn-upload",attrs:{type:"button"},on:{click:function(e){return t.$refs.image_file_input2.click()}}},[r("i",{staticClass:"fas fa-camera-retro"}),t._v(" "),r("br"),t._v("Upload Image\n                    ")]),t._v(" "),r("input",{ref:"image_file_input2",staticClass:"d-none",attrs:{type:"file",name:"image_file"},on:{change:t.onFileChange}})]),t._v(" "),r("div",[r("div",{attrs:{id:"preview"}},[r("img",{attrs:{src:t.url}})])])])])]),t._v(" "),r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-md-7"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[t._v("Name")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control rounded-0",attrs:{id:"name",name:"name",type:"text",placeholder:"Product Name"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"description"}},[t._v("Description")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control rounded-0",attrs:{id:"description",name:"description",rows:"6"},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"sku"}},[t._v("SKU")]),t._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"sku",name:"sku",type:"text",placeholder:'ex. "PA0001", "1A0002"'},domProps:{value:t.product.sku}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"unit"}},[t._v("Unit")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.unit,expression:"product.unit"}],staticClass:"form-control rounded-0",attrs:{id:"unit",name:"unit",type:"text",placeholder:'ex. "Pack", "Kilo", "Pc", "12oz", "Doz" ...'},domProps:{value:t.product.unit},on:{input:function(e){e.target.composing||t.$set(t.product,"unit",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"category"}},[t._v("Category")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control",attrs:{id:"category",name:"category"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedCategory=e.target.multiple?r:r[0]},function(e){return t.categorySelectionChange()}]}},[r("option",{attrs:{value:"null",disabled:""}},[t._v("Select Category")]),t._v(" "),t._l(t.propscategories,(function(e,s){return r("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"category"}},[t._v("Sub Categories of "+t._s(t.selectedCategoryName2))]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSubCategory,expression:"selectedSubCategory"}],staticClass:"form-control",attrs:{id:"sub_category",name:"sub_category"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedSubCategory=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"null",disabled:""}},[t._v("Select Sub Category")]),t._v(" "),t._l(t.subcategories,(function(e,s){return r("option",{key:s,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"tags"}},[t._v("Tags")]),t._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"tags",name:"tags",type:"text",disabled:"",placeholder:'ex. "Fresh", "Red", "Green", "Citrus", ... '},domProps:{value:t.product.tags}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"unit"}},[t._v("Season")]),t._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"season",name:"season",type:"text",placeholder:'ex. "Winter", "Summer", "Spring", ...'},domProps:{value:t.product.season}})])]),t._v(" "),r("div",{staticClass:"col-md-5"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"price"}},[t._v("Regular Price")]),t._v(" "),r("div",{staticClass:"input-group rounded-0"},[t._m(1),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control rounded-0",attrs:{id:"price",name:"price",type:"text",placeholder:'ex. "10.50"'},domProps:{value:t.product.price},on:{keypress:t.onlyNumber,input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"member_price"}},[t._v("Member Price")]),t._v(" "),r("div",{staticClass:"input-group"},[t._m(2),t._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"member_price",name:"member_price",type:"text",placeholder:'ex. "10.00"'},domProps:{value:t.product.member_price},on:{keypress:t.onlyNumber}})])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"wholesale_price"}},[t._v("Wholesale Price")]),t._v(" "),r("div",{staticClass:"input-group"},[t._m(3),t._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"wholesale_price",name:"wholesale_price",type:"text",placeholder:'ex. "9.50"'},domProps:{value:t.product.wholesale_price},on:{keypress:t.onlyNumber}})])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"discount_price"}},[t._v("Discount Price")]),t._v(" "),r("div",{staticClass:"input-group"},[t._m(4),t._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"discount_price",name:"discount_price",type:"text",placeholder:'ex. "8.00"',disabled:""},domProps:{value:t.product.discount_price},on:{keypress:t.onlyNumber}})])]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"minorder"}},[t._v("Minimum Order")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.minorder,expression:"product.minorder"}],staticClass:"form-control rounded-0",attrs:{id:"minorder",name:"minorder",type:"text",placeholder:'ex. "1"',disabled:""},domProps:{value:t.product.minorder},on:{keypress:t.onlyNumber,input:function(e){e.target.composing||t.$set(t.product,"minorder",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"maxorder"}},[t._v("Maximum Order")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.product.maxorder,expression:"product.maxorder"}],staticClass:"form-control rounded-0",attrs:{id:"maxorder",name:"maxorder",type:"text",placeholder:'ex. "100"',disabled:""},domProps:{value:t.product.maxorder},on:{keypress:t.onlyNumber,input:function(e){e.target.composing||t.$set(t.product,"maxorder",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"maxorder"}},[t._v("Visibility")]),t._v(" "),r("div",{staticClass:"custom-control custom-switch",on:{click:function(e){return t.updateVisible(t.product)}}},[r("input",{staticClass:"custom-control-input bg-success",attrs:{type:"checkbox",id:"visible",name:"visible"},domProps:{checked:1==t.product.is_visible}}),t._v(" "),r("label",{staticClass:"custom-control-label"},[t._v(t._s(1==t.product.is_visible?"show":"hide"))])])])]),t._v(" "),r("div",{staticClass:"col-sm-12"},[r("a",{staticClass:"mr-2 btn btn-success-1 rounded-0",on:{click:function(e){return t.preview()}}},[r("i",{staticClass:"far fa-eye"}),t._v(" Preview\n                ")]),t._v(" "),t._m(5),t._v(" "),r("a",{staticClass:"rounded-0 mr-2 btn btn-success-2",on:{click:function(e){return t.archive()}}},[r("i",{staticClass:"fas fa-archive"}),t._v(" Archive\n                ")])])])])])])])]),t._v(" "),r("admin-products-preview-modal",{ref:"preview_modal"}),t._v(" "),r("admin-products-archive-modal",{ref:"archive_modal"})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h2",{staticClass:"card-title mb-0"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"mr-2"},[e("a",{staticClass:"btn btn-success float-right rounded-0 text-light",attrs:{href:"/admin/products"}},[e("i",{staticClass:"fas fa-chevron-circle-left"})])]),this._v(" "),e("div",[this._v("Products")])])]),this._v(" "),e("br"),this._v(" "),e("h3",{staticClass:"text-success"},[e("b",[this._v("PRODUCT INFORMATION")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text rounded-0"},[this._v("$")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text rounded-0"},[this._v("$")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text rounded-0"},[this._v("$")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text rounded-0"},[this._v("$")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"rounded-0 mr-2 btn btn-success-2",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-save"}),this._v(" Save\n                ")])}],!1,null,"d5f61b00",null);e.default=i.exports}}]);
//# sourceMappingURL=ProdEdit.js.map