(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{ME3s:function(e,t,r){"use strict";var s=r("mh0/");r.n(s).a},j0Az:function(e,t,r){"use strict";function s(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}r.d(t,"a",(function(){return a}));var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errors={}}var t,r,a;return t=e,(r=[{key:"get",value:function(e){if(this.errors[e])return this.errors[e][0]}},{key:"record",value:function(e){this.errors=e}},{key:"clear",value:function(e){delete this.errors[e]}},{key:"has",value:function(e){return this.errors.hasOwnProperty(e)}},{key:"getAllMessages",value:function(){var e="";if(Object.keys(this.errors).length>0==1)for(var t=0,r=Object.keys(this.errors);t<r.length;t++){var s=r[t];e+=this.get(s)}return e}},{key:"getArrayOfMessages",value:function(){var e=[];if(Object.keys(this.errors).length>0==1)for(var t=0,r=Object.keys(this.errors);t<r.length;t++){var s=r[t];e.push(this.get(s))}return e}},{key:"any",value:function(){return Object.keys(this.errors).length>0}}])&&s(t.prototype,r),a&&s(t,a),e}()},khWb:function(e,t,r){(e.exports=r("I1BE")(!1)).push([e.i,".form-group[data-v-e2c5445a] {\n  margin-bottom: 2rem;\n}\n.input-group-text[data-v-e2c5445a] {\n  background: #d9dfe2;\n}\n.text-success[data-v-e2c5445a] {\n  color: #339f25 !important;\n}\n.btn-success[data-v-e2c5445a] {\n  color: #fff !important;\n  background-color: #339f25 !important;\n  border-color: #339f25 !important;\n}\n.btn-success-1[data-v-e2c5445a] {\n  color: #fff !important;\n  background-color: #339f25 !important;\n  border-color: #339f25 !important;\n}\n.btn-success-2[data-v-e2c5445a] {\n  color: gray !important;\n  background-color: rgba(51, 159, 37, 0.3) !important;\n  border-color: rgba(51, 159, 37, 0.5) !important;\n}\n.btn-upload[data-v-e2c5445a] {\n  margin-right: 10px;\n}\n.btn-upload i[data-v-e2c5445a] {\n  font-size: 50px;\n}\n#preview img[data-v-e2c5445a] {\n  width: 110px;\n  height: 90px;\n  object-fit: cover;\n}",""])},"mh0/":function(e,t,r){var s=r("khWb");"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(s,a);s.locals&&(e.exports=s.locals)},qfzv:function(e,t,r){"use strict";r.r(t);var s=r("j0Az"),a={props:["propsproduct","propscategories","action"],data:function(){return{product:{},categories:{},url:null,selectedCategory:null,csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),subcategories:[],selectedSubCategory:null,selectedCategoryName2:"",errors:new s.a}},created:function(){this.categories=this.propscategories,this.product=this.propsproduct,this.url=this.product.image_link,this.selectedCategory=this.propsproduct.category_id,this.selectedCategory&&this.categorySelectionChange(!0)},methods:{onlyForCurrency:function(e){var t=e.keyCode?e.keyCode:e.which;!(t<48||t>57)||46===t&&-1==this.product.fundraise_percentage.indexOf(".")||e.preventDefault(),null!=this.product.fundraise_percentage&&this.product.fundraise_percentage.indexOf(".")>-1&&this.product.fundraise_percentage.split(".")[1].length>1&&e.preventDefault()},save:function(){var e=this;LoadingOverlay();var t=this.action,r=document.getElementById("myForm2"),s=new FormData(r);s.append("product_id",this.product.id),axios.post(t,s,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e),window.location.href=e.data})).catch((function(t){e.errors.record(t.response.data.errors),e.showErrorMessage(e.errors.getArrayOfMessages()),window.scrollTo(0,0),LoadingOverlayHide()}))},showErrorMessage:function(e){this.$events.fire("showErrorMessage",e)},categorySelectionChange:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];axios.get("/api/admin/subcategory/"+this.selectedCategory).then((function(r){e.subcategories=r.data.sub_categories,e.selectedCategoryName2=r.data.category.name,e.selectedSubCategory=t?e.product.sub_category_id:null,console.log(e.subcategories)})).catch((function(e){console.error(e)}))},archive:function(){this.$refs.archive_modal.product=this.product,$("#archiveModal").modal("show")},onFileChange:function(e){console.log(e);var t=e.target.files[0];this.url=URL.createObjectURL(t)},updateVisible:function(e){console.log(e),e.is_visible=!e.is_visible},preview:function(){console.log(this.product),this.$refs.preview_modal.product=this.product,this.$refs.preview_modal.preview_image=this.url,this.$refs.preview_modal.category=this.selectedCategoryName,$("#previewModal").modal("show")},onlyNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&46!==t&&e.preventDefault()}},computed:{selectedCategoryName:function(){var e=this;return null==this.selectedCategory?"":this.propscategories.find((function(t){return t.id===e.selectedCategory})).name}}},o=(r("ME3s"),r("KHd+")),i=Object(o.a)(a,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{attrs:{id:"myForm2",name:"myForm2"},on:{submit:function(t){return t.preventDefault(),e.save()}}},[r("div",{staticClass:"d-flex flex-column min-vh-100"},[r("div",{staticClass:"container"},[e._m(0),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-7 col-sm-12 p-2 m-2 border"},[r("div",{staticClass:"d-flex"},[r("div",[r("button",{staticClass:"btn btn-success btn-upload",attrs:{type:"button"},on:{click:function(t){return e.$refs.image_file_input2.click()}}},[r("i",{staticClass:"fas fa-camera-retro"}),e._v(" "),r("br"),e._v("Upload Image\n                    ")]),e._v(" "),r("input",{ref:"image_file_input2",staticClass:"d-none",attrs:{type:"file",name:"image_file"},on:{change:e.onFileChange}})]),e._v(" "),r("div",[r("div",{attrs:{id:"preview"}},[r("img",{attrs:{src:e.url}})])])])])]),e._v(" "),r("div",{staticClass:"row mt-4"},[r("div",{staticClass:"col-md-7"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"name"}},[e._v("Name")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.product.name,expression:"product.name"}],staticClass:"form-control rounded-0",attrs:{id:"name",name:"name",type:"text",placeholder:"Product Name"},domProps:{value:e.product.name},on:{input:function(t){t.target.composing||e.$set(e.product,"name",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"description"}},[e._v("Description")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.product.description,expression:"product.description"}],staticClass:"form-control rounded-0",attrs:{id:"description",name:"description",rows:"6"},domProps:{value:e.product.description},on:{input:function(t){t.target.composing||e.$set(e.product,"description",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"sku"}},[e._v("SKU")]),e._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"sku",name:"sku",type:"text",placeholder:'ex. "PA0001", "1A0002"'},domProps:{value:e.product.sku}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"unit"}},[e._v("Unit")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.product.unit,expression:"product.unit"}],staticClass:"form-control rounded-0",attrs:{id:"unit",name:"unit",type:"text",placeholder:'ex. "Pack", "Kilo", "Pc", "12oz", "Doz" ...'},domProps:{value:e.product.unit},on:{input:function(t){t.target.composing||e.$set(e.product,"unit",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"category"}},[e._v("Category")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control",attrs:{id:"category",name:"category"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedCategory=t.target.multiple?r:r[0]},function(t){return e.categorySelectionChange()}]}},[r("option",{attrs:{value:"null",disabled:""}},[e._v("Select Category")]),e._v(" "),e._l(e.propscategories,(function(t,s){return r("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"category"}},[e._v("Sub Categories of "+e._s(e.selectedCategoryName2))]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedSubCategory,expression:"selectedSubCategory"}],staticClass:"form-control",attrs:{id:"sub_category",name:"sub_category"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.selectedSubCategory=t.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"null",disabled:""}},[e._v("Select Sub Category")]),e._v(" "),e._l(e.subcategories,(function(t,s){return r("option",{key:s,domProps:{value:t.id}},[e._v(e._s(t.name))])}))],2)]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"tags"}},[e._v("Tags")]),e._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"tags",name:"tags",type:"text",disabled:"",placeholder:'ex. "Fresh", "Red", "Green", "Citrus", ... '},domProps:{value:e.product.tags}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"unit"}},[e._v("Season")]),e._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"season",name:"season",type:"text",placeholder:'ex. "Winter", "Summer", "Spring", ...'},domProps:{value:e.product.season}})])]),e._v(" "),r("div",{staticClass:"col-md-5"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"price"}},[e._v("Fundraise Percentage")]),e._v(" "),r("div",{staticClass:"input-group rounded-0"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.product.fundraise_percentage,expression:"product.fundraise_percentage"}],staticClass:"form-control rounded-0",attrs:{id:"fundraise_percentage",name:"fundraise_percentage",type:"text",placeholder:""},domProps:{value:e.product.fundraise_percentage},on:{keypress:e.onlyForCurrency,input:function(t){t.target.composing||e.$set(e.product,"fundraise_percentage",t.target.value)}}}),e._v(" "),e._m(1)])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"price"}},[e._v("Regular Price")]),e._v(" "),r("div",{staticClass:"input-group rounded-0"},[e._m(2),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.product.price,expression:"product.price"}],staticClass:"form-control rounded-0",attrs:{id:"price",name:"price",type:"text",placeholder:'ex. "10.50"'},domProps:{value:e.product.price},on:{keypress:e.onlyNumber,input:function(t){t.target.composing||e.$set(e.product,"price",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"member_price"}},[e._v("Member Price")]),e._v(" "),r("div",{staticClass:"input-group"},[e._m(3),e._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"member_price",name:"member_price",type:"text",placeholder:'ex. "10.00"'},domProps:{value:e.product.member_price},on:{keypress:e.onlyNumber}})])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"wholesale_price"}},[e._v("Wholesale Price")]),e._v(" "),r("div",{staticClass:"input-group"},[e._m(4),e._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"wholesale_price",name:"wholesale_price",type:"text",placeholder:'ex. "9.50"'},domProps:{value:e.product.wholesale_price},on:{keypress:e.onlyNumber}})])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"discount_price"}},[e._v("Discount Price")]),e._v(" "),r("div",{staticClass:"input-group"},[e._m(5),e._v(" "),r("input",{staticClass:"form-control rounded-0",attrs:{id:"discount_price",name:"discount_price",type:"text",placeholder:'ex. "8.00"',disabled:""},domProps:{value:e.product.discount_price},on:{keypress:e.onlyNumber}})])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"minorder"}},[e._v("Minimum Order")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.product.minorder,expression:"product.minorder"}],staticClass:"form-control rounded-0",attrs:{id:"minorder",name:"minorder",type:"text",placeholder:'ex. "1"',disabled:""},domProps:{value:e.product.minorder},on:{keypress:e.onlyNumber,input:function(t){t.target.composing||e.$set(e.product,"minorder",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"maxorder"}},[e._v("Maximum Order")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.product.maxorder,expression:"product.maxorder"}],staticClass:"form-control rounded-0",attrs:{id:"maxorder",name:"maxorder",type:"text",placeholder:'ex. "100"',disabled:""},domProps:{value:e.product.maxorder},on:{keypress:e.onlyNumber,input:function(t){t.target.composing||e.$set(e.product,"maxorder",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"maxorder"}},[e._v("Visibility")]),e._v(" "),r("div",{staticClass:"custom-control custom-switch",on:{click:function(t){return e.updateVisible(e.product)}}},[r("input",{staticClass:"custom-control-input bg-success",attrs:{type:"checkbox",id:"visible",name:"visible"},domProps:{checked:1==e.product.is_visible}}),e._v(" "),r("label",{staticClass:"custom-control-label"},[e._v(e._s(1==e.product.is_visible?"show":"hide"))])])])]),e._v(" "),r("div",{staticClass:"col-sm-12"},[r("a",{staticClass:"mr-2 btn btn-success-1 rounded-0",on:{click:function(t){return e.preview()}}},[r("i",{staticClass:"far fa-eye"}),e._v(" Preview\n                ")]),e._v(" "),e._m(6),e._v(" "),r("a",{staticClass:"rounded-0 mr-2 btn btn-success-2",on:{click:function(t){return e.archive()}}},[r("i",{staticClass:"fas fa-archive"}),e._v(" Archive\n                ")])])])])])])])]),e._v(" "),r("admin-products-preview-modal",{ref:"preview_modal"}),e._v(" "),r("admin-products-archive-modal",{ref:"archive_modal"})],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("h2",{staticClass:"card-title mb-0"},[t("div",{staticClass:"d-flex"},[t("div",{staticClass:"mr-2"},[t("a",{staticClass:"btn btn-success float-right rounded-0 text-light",attrs:{href:"/admin/products"}},[t("i",{staticClass:"fas fa-chevron-circle-left"})])]),this._v(" "),t("div",[this._v("Products")])])]),this._v(" "),t("br"),this._v(" "),t("h3",{staticClass:"text-success"},[t("b",[this._v("PRODUCT INFORMATION")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text"},[this._v("%")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text rounded-0"},[this._v("$")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text rounded-0"},[this._v("$")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text rounded-0"},[this._v("$")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text rounded-0"},[this._v("$")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"rounded-0 mr-2 btn btn-success-2",attrs:{type:"submit"}},[t("i",{staticClass:"fas fa-save"}),this._v(" Save\n                ")])}],!1,null,"e2c5445a",null);t.default=i.exports}}]);
//# sourceMappingURL=ProdEdit.js.map