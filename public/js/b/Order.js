(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"9Wm2":function(t,e,a){var s=a("qN1I");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},qN1I:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".btn-success[data-v-5303e058] {\n  color: #fff !important;\n  background-color: #339f25 !important;\n  border-color: #339f25 !important;\n}",""])},vrgv:function(t,e,a){"use strict";var s=a("9Wm2");a.n(s).a},wenz:function(t,e,a){"use strict";a.r(e);var s={props:["propsorders"],data:function(){return{orders:[],data:{},search:"",search_input:"",filterby:"all",week_date:null,week_first_day:null,week_last_day:null,month_date:null,option_week:{format:"MMMM DD, YYYY",useCurrent:!0,allowInputToggle:!0,maxDate:moment()},option_month:{format:"MMMM YYYY",useCurrent:!0,allowInputToggle:!0,maxDate:moment()},json_fields:{"Order Id":"id","Order Date":"atr_date_label","Customer Name":{field:"user",callback:function(t){return t.full_name}},"Order Cost":"atr_subscription_overall_total_amount_f","Organization ID":"organization.org_optionc_id"}}},created:function(){this.getAllDataInitialize()},mounted:function(){},methods:{filterSelectionChange:function(){"all"==this.filterby||"weekly"==this.filterby?(this.week_date=moment().format("MMMM DD, YYYY"),this.month_date=moment().format("MMMM YYYY"),this.getResults()):"monthly"==this.filterby&&(this.month_date=moment().format("MMMM YYYY"),this.getResults())},filterByMonth:function(){this.getResults()},filterByWeek:function(){this.getResults()},getResults:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;"all"==this.filterby&&(t=""!=this.search?{search:this.search,page:e}:{page:e},this.getAllData(t)),"weekly"==this.filterby&&(t={page:e,search:this.search,date:this.week_date},this.getWeeklyData(t)),"monthly"==this.filterby&&(t={page:e,search:this.search,date:this.month_date},console.log(this.month_date),this.getMonthlyData(t))},getAllDataInitialize:function(){var t=this;axios({method:"get",url:"/api/admin/orders",params:{page:1}}).then((function(e){t.data=e.data,t.orders=e.data.data,$(document).ready((function(){$("#customers-table").DataTable({lengthMenu:[[10,25,50,-1],[10,25,50,"All"]],iDisplayLength:-1,order:[[0,"desc"]]})}))}))},getAllData:function(t){var e=this;axios({method:"get",url:"/api/admin/orders",params:t}).then((function(t){e.data=t.data,e.orders=t.data.data}))},getWeeklyData:function(t){var e=this;axios({method:"get",url:"/api/admin/orders/weekly",params:t}).then((function(t){e.data=t.data.pagination,e.orders=t.data.pagination.data,e.week_first_day=t.data.from,e.week_last_day=t.data.to}))},getMonthlyData:function(t){var e=this;axios({method:"get",url:"/api/admin/orders/monthly",params:t}).then((function(t){e.data=t.data.pagination,e.orders=t.data.pagination.data}))},btnSearch:function(){this.search=this.search_input,this.getResults()}}},n=(a("vrgv"),a("KHd+")),i=Object(n.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column min-vh-100"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h2",{staticClass:"card-title mb-0"},[t._v("\n\t\t\t\tOrders\n\t\t\t\t"),a("download-excel",{staticClass:"btn btn-success float-right mx-1",attrs:{header:["Orders"],fields:t.json_fields,data:t.orders,type:"xls",name:"orders.xls",worksheet:"Orders"}},[a("i",{staticClass:"fas fa-file-excel"}),t._v("\n\t\t\t\t\tXLS\n\t\t\t\t")]),t._v(" "),a("download-excel",{staticClass:"btn btn-success float-right mx-1",attrs:{header:["Orders"],fields:t.json_fields,data:t.orders,type:"csv",name:"orders.xls",worksheet:"Orders"}},[a("i",{staticClass:"fas fa-file-csv"}),t._v("\n\t\t\t\t\tCSV\n\t\t\t\t")])],1)]),t._v(" "),a("div",{staticClass:"col-md-6"})]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_input,expression:"search_input"}],staticClass:"form-control rounded-0",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search_input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.btnSearch()},input:function(e){e.target.composing||(t.search_input=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-success rounded-0",on:{click:function(e){return t.btnSearch()}}},[t._v("\n\t\t\t\t\t\tSearch\n\t\t\t\t\t")])])])])]),t._v(" "),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterby,expression:"filterby"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.filterby=e.target.multiple?a:a[0]},t.filterSelectionChange]}},[a("option",{attrs:{value:"all"}},[t._v("Default")]),t._v(" "),a("option",{attrs:{value:"weekly"}},[t._v("Weekly")]),t._v(" "),a("option",{attrs:{value:"monthly"}},[t._v("Monthly")])])]),t._v(" "),a("div",{staticClass:"col-md-3",class:"weekly"==t.filterby?"d-block":"d-none"},[a("div",{staticClass:"input-group"},[a("date-picker",{ref:"week_date",attrs:{id:"date-time-input-week",wrap:!0,config:t.option_week},on:{"dp-change":t.filterByWeek},model:{value:t.week_date,callback:function(e){t.week_date=e},expression:"week_date"}}),t._v(" "),t._m(0)],1)]),t._v(" "),a("div",{staticClass:"col-md-3",class:"monthly"==t.filterby?"d-block":"d-none"},[a("div",{staticClass:"input-group"},[a("date-picker",{ref:"month_date",attrs:{id:"date-time-input-month",wrap:!0,config:t.option_month},on:{"dp-change":t.filterByMonth},model:{value:t.month_date,callback:function(e){t.month_date=e},expression:"month_date"}}),t._v(" "),t._m(1)],1)])]),t._v(" "),"weekly"==t.filterby?a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h5",[t._v("("+t._s(t.week_first_day)+" - "+t._s(t.week_last_day)+")")])])]):t._e(),t._v(" "),"monthly"==t.filterby?a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h5",[t._v("("+t._s(t.month_date)+")")])])]):t._e(),t._v(" "),a("div",{staticClass:"row mt-4",staticStyle:{"font-family":"Source Sans Pro, sans-serif !important"}},[a("div",{staticClass:"col-lg-12 col-md-12"},[a("table",{staticClass:"table table-hover",attrs:{id:"customers-table"}},[t._m(2),t._v(" "),a("tbody",t._l(t.orders,(function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.id))]),t._v(" "),a("td",[t._v(t._s(e.atr_date_label))]),t._v(" "),a("td",[t._v(t._s(e.user.full_name))]),t._v(" "),a("td",[t._v("\n\t\t\t\t\t\t\t$ "+t._s(e.atr_subscription_overall_total_amount_f)+"\n\t\t\t\t\t\t")]),t._v(" "),a("td",[t._v(t._s(e.organization.org_optionc_id))]),t._v(" "),a("td",[a("a",{staticClass:"btn btn-sm btn-success",attrs:{href:"/admin/orders/"+e.id}},[t._v("Voew Order")])])])})),0)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary datepickerbutton",attrs:{type:"button",title:"Toggle"}},[e("i",{staticClass:"far fa-calendar"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary datepickerbutton",attrs:{type:"button",title:"Toggle"}},[e("i",{staticClass:"far fa-calendar"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Order ID#")]),t._v(" "),a("th",[t._v("Order Date")]),t._v(" "),a("th",[t._v("Customer")]),t._v(" "),a("th",[t._v("Order Cost")]),t._v(" "),a("th",[t._v("Organization ID")]),t._v(" "),a("th",[t._v("Actions")])])])}],!1,null,"5303e058",null);e.default=i.exports}}]);
//# sourceMappingURL=Order.js.map