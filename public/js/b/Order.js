(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"7HQG":function(t,e,a){"use strict";var s=a("pAsH");a.n(s).a},SaGn:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".btn-success[data-v-31f1ad53] {\n  color: #fff !important;\n  background-color: #339f25 !important;\n  border-color: #339f25 !important;\n}",""])},pAsH:function(t,e,a){var s=a("SaGn");"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,i);s.locals&&(t.exports=s.locals)},wenz:function(t,e,a){"use strict";a.r(e);var s={props:["propsorders"],data:function(){return{orders:[],data:{},search:"",search_input:"",filterby:"all",week_date:null,week_first_day:null,week_last_day:null,month_date:null,option_week:{format:"MMMM DD, YYYY",useCurrent:!0,allowInputToggle:!0,maxDate:moment()},option_month:{format:"MMMM YYYY",useCurrent:!0,allowInputToggle:!0,maxDate:moment()}}},created:function(){this.getResults()},methods:{filterSelectionChange:function(){"all"==this.filterby||"weekly"==this.filterby?(this.week_date=moment().format("MMMM DD, YYYY"),this.month_date=moment().format("MMMM YYYY"),this.getResults()):"monthly"==this.filterby&&(this.month_date=moment().format("MMMM YYYY"),this.getResults())},filterByMonth:function(){this.getResults()},filterByWeek:function(){this.getResults()},getResults:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;"all"==this.filterby&&(t=""!=this.search?{search:this.search,page:e}:{page:e},this.getAllData(t)),"weekly"==this.filterby&&(t={page:e,search:this.search,date:this.week_date},this.getWeeklyData(t)),"monthly"==this.filterby&&(t={page:e,search:this.search,date:this.month_date},console.log(this.month_date),this.getMonthlyData(t))},getAllData:function(t){var e=this;axios({method:"get",url:"/api/admin/orders",params:t}).then((function(t){e.data=t.data,e.orders=t.data.data}))},getWeeklyData:function(t){var e=this;axios({method:"get",url:"/api/admin/orders/weekly",params:t}).then((function(t){e.data=t.data.pagination,e.orders=t.data.pagination.data,e.week_first_day=t.data.from,e.week_last_day=t.data.to}))},getMonthlyData:function(t){var e=this;axios({method:"get",url:"/api/admin/orders/monthly",params:t}).then((function(t){e.data=t.data.pagination,e.orders=t.data.pagination.data}))},btnSearch:function(){this.search=this.search_input,this.getResults()}}},i=(a("7HQG"),a("KHd+")),n=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column min-vh-100"},[t._m(0),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8"},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_input,expression:"search_input"}],staticClass:"form-control rounded-0",attrs:{type:"text",placeholder:"Search"},domProps:{value:t.search_input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.btnSearch()},input:function(e){e.target.composing||(t.search_input=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-success rounded-0",on:{click:function(e){return t.btnSearch()}}},[t._v("Search")])])])])]),t._v(" "),a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-md-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterby,expression:"filterby"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.filterby=e.target.multiple?a:a[0]},t.filterSelectionChange]}},[a("option",{attrs:{value:"all"}},[t._v("Default")]),t._v(" "),a("option",{attrs:{value:"weekly"}},[t._v("Weekly")]),t._v(" "),a("option",{attrs:{value:"monthly"}},[t._v("Monthly")])])]),t._v(" "),a("div",{staticClass:"col-md-3",class:"weekly"==t.filterby?"d-block":"d-none"},[a("div",{staticClass:"input-group"},[a("date-picker",{ref:"week_date",attrs:{id:"date-time-input-week",wrap:!0,config:t.option_week},on:{"dp-change":t.filterByWeek},model:{value:t.week_date,callback:function(e){t.week_date=e},expression:"week_date"}}),t._v(" "),t._m(1)],1)]),t._v(" "),a("div",{staticClass:"col-md-3",class:"monthly"==t.filterby?"d-block":"d-none"},[a("div",{staticClass:"input-group"},[a("date-picker",{ref:"month_date",attrs:{id:"date-time-input-month",wrap:!0,config:t.option_month},on:{"dp-change":t.filterByMonth},model:{value:t.month_date,callback:function(e){t.month_date=e},expression:"month_date"}}),t._v(" "),t._m(2)],1)])]),t._v(" "),"weekly"==t.filterby?a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h5",[t._v("("+t._s(t.week_first_day)+" - "+t._s(t.week_last_day)+")")])])]):t._e(),t._v(" "),"monthly"==t.filterby?a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col"},[a("h5",[t._v("("+t._s(t.month_date)+")")])])]):t._e(),t._v(" "),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-lg-8 col-md-8"},[0==t.orders.length?a("div",[a("h4",[t._v("No Orders Yet")])]):a("div",[a("ul",{staticClass:"list-group rounded-0"},t._l(t.orders,(function(e,s){return a("li",{key:s,staticClass:"list-group-item d-flex"},[a("div",{},[a("img",{staticStyle:{width:"100px",height:"80px","object-fit":"cover"},attrs:{src:0!=e.order_by?e.user.atr_image_link:e.retailer.atr_image_link}})]),t._v(" "),a("div",{staticClass:"w-25 ml-3"},[a("p",[a("b",[0!=e.order_by?a("span",[t._v(t._s(e.user.full_name))]):a("span",[t._v(t._s(e.retailer.full_name))])]),t._v(" "),0==e.order_by?a("span",[t._v("(Retailer)")]):t._e(),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("span",{staticStyle:{"font-size":"20px"}},[a("b",[t._v("$ "+t._s(e.atr_overall_total_f))])])])]),t._v(" "),a("div",{staticClass:"ml-auto w-25 text-right"},[a("p",[a("b",[t._v("Order No. "+t._s(e.id))]),t._v(" "),a("br"),t._v("\n                "+t._s(e.atr_date_label)+"\n                "),a("br"),t._v(" "),a("a",{staticClass:"text-success",attrs:{href:"/admin/orders/"+e.id}},[t._v("View Order")])])])])})),0),t._v(" "),a("div",{staticClass:"mt-5"},[a("pagination",{attrs:{data:t.data,limit:5,size:"small",align:"left"},on:{"pagination-change-page":t.getResults}})],1)])]),t._v(" "),t._m(3)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("h2",{staticClass:"card-title mb-0"},[this._v("Orders")])]),this._v(" "),e("div",{staticClass:"col-md-6"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary datepickerbutton",attrs:{type:"button",title:"Toggle"}},[e("i",{staticClass:"far fa-calendar"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary datepickerbutton",attrs:{type:"button",title:"Toggle"}},[e("i",{staticClass:"far fa-calendar"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-lg-4 col-md-4"},[a("div",{staticClass:"p-5",staticStyle:{height:"400px"}},[a("h3",[t._v("Quick Details")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("h4",[a("i",{staticClass:"fas fa-sync-alt text-success"}),t._v("\n          1 orders\n          "),a("span",{staticClass:"text-secondary"},[t._v("Awaiting Process")])]),t._v(" "),a("br"),t._v(" "),a("h4",[a("i",{staticClass:"fas fa-pause text-warning"}),t._v("\n          1 orders\n          "),a("span",{staticClass:"text-secondary"},[t._v("On Hold")])]),t._v(" "),a("br"),t._v(" "),a("h4",[a("i",{staticClass:"fas fa-truck-pickup text-info"}),t._v("\n          1 orders\n          "),a("span",{staticClass:"text-secondary"},[t._v("On Ready")])])])])}],!1,null,"31f1ad53",null);e.default=n.exports}}]);
//# sourceMappingURL=Order.js.map