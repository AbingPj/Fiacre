(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{E0Iw:function(t,s,e){"use strict";e.r(s);var a={props:["customer_id"],data:function(){return{data:[],user:[],json_fields:{"Order #":"id",Date:"date",Status:"atr_status_label"}}},created:function(){this.getData()},methods:{getData:function(){var t=this;axios.get("/admin/reports/orders/customers/"+this.customer_id).then((function(s){t.data=s.data.data,t.user=s.data.user})).catch((function(t){console.error(t)}))},print:function(){var t=this.user.full_name;console.log(t),LoadingOverlay(),axios({method:"post",url:"/admin/generate/pdf/customer-orders",data:{customer_id:this.customer_id},responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/pdf"}}).then((function(s){var e=window.URL.createObjectURL(new Blob([s.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",t+" orders.pdf"),document.body.appendChild(a),a.click(),LoadingOverlayHide()})).catch((function(t){return console.log(t)}))}}},r=e("KHd+"),n=Object(r.a)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"d-flex flex-column min-vh-100"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("h2",{staticClass:"card-title mb-0"},[t._v("\n        Orders by "+t._s(t.user.full_name)+"\n        "),e("button",{staticClass:"btn btn-success float-right",attrs:{type:"button"},on:{click:function(s){return t.print()}}},[e("i",{staticClass:"fas fa-print"}),t._v(" Print\n        ")]),t._v(" "),e("download-excel",{staticClass:"btn btn-success float-right mr-2",attrs:{footer:["total Orders: "+t.data.length],header:["Customer Orders","order by "+t.user.full_name],fields:t.json_fields,data:t.data,type:"xls",name:"customerorders.xls",worksheet:t.user.full_name}},[e("i",{staticClass:"fas fa-file-excel"}),t._v("\n          XLS\n        ")]),t._v(" "),e("download-excel",{staticClass:"btn btn-success float-right mr-2",attrs:{footer:["total Orders: "+t.data.length],header:["Customer Orders","order by "+t.user.full_name],fields:t.json_fields,data:t.data,type:"csv",name:"customerorders.csv",worksheet:t.user.full_name}},[e("i",{staticClass:"fas fa-file-csv"}),t._v("\n          CSV\n        ")])],1)]),t._v(" "),e("div",{staticClass:"col-md-6"})]),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-8"},[e("table",{staticClass:"table table-hover"},[t._m(0),t._v(" "),e("tbody",t._l(t.data,(function(s,a){return e("tr",{key:a},[e("td",[t._v(t._s(s.id))]),t._v(" "),e("td",[t._v(t._s(s.date))]),t._v(" "),e("td",[t._v(t._s(s.atr_status_label))]),t._v(" "),e("td",[e("a",{staticClass:"btn btn-sm btn-info",attrs:{href:"/admin/orders/"+s.id}},[t._v("Details")]),t._v(" "),e("a",{staticClass:"btn btn-sm btn-success",attrs:{href:s.url_for_print}},[e("i",{staticClass:"fas fa-print"}),t._v(" Print")])])])})),0),t._v(" "),e("tfoot",[e("th"),t._v(" "),e("th"),t._v(" "),e("th",[t._v("Total Orders")]),t._v(" "),e("th",[t._v(t._s(t.data.length))])])])])])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",[this._v("Order #")]),this._v(" "),s("th",[this._v("Date")]),this._v(" "),s("th",[this._v("Status")]),this._v(" "),s("th")])])}],!1,null,null,null);s.default=n.exports}}]);
//# sourceMappingURL=RepOCShow.js.map