(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{HIUB:function(t,a,e){"use strict";e.r(a);var s={created:function(){this.getData()},data:function(){return{data:[],total:0,fromLabel:null,toLabel:null,startDate:null,endDate:null,filter_startDate:null,filter_endDate:null,total_orders:0,configs:{start:{format:"MMMM DD, YYYY",useCurrent:!0,allowInputToggle:!0,maxDate:moment()},end:{format:"MMMM DD, YYYY",useCurrent:!0,allowInputToggle:!0,minDate:!1,maxDate:moment()}},json_fields:{Date:"date","Total Number of Products Sold":"total_products","Total Number of Orders":"total_orders"}}},methods:{onStartChange:function(t){this.$set(this.configs.end,"minDate",t.date||null)},onEndChange:function(t){this.$set(this.configs.start,"maxDate",t.date||null)},getData:function(){var t=this;axios.post("/admin/api/reports/productsorders/custom").then((function(a){t.total=a.data.total_earnings,t.total_orders=a.data.total_orders,t.data=a.data.data,t.startDate=a.data.from_label,t.endDate=a.data.to_label,t.fromLabel=a.data.from_label,t.toLabel=a.data.to_label,t.filter_startDate=a.data.from_label,t.filter_endDate=a.data.to_label})).catch((function(t){console.error(t)}))},filter:function(){var t=this;axios.post("/admin/api/reports/productsorders/custom",{from:this.startDate,to:this.endDate}).then((function(a){t.total=a.data.total_earnings,t.total_orders=a.data.total_orders,t.data=a.data.data,t.startDate=a.data.from_label,t.endDate=a.data.to_label,t.fromLabel=a.data.from_label,t.toLabel=a.data.to_label,t.filter_startDate=a.data.from_label,t.filter_endDate=a.data.to_label})).catch((function(t){console.error(t)}))},print:function(){axios({method:"post",url:"/admin/generate/products-order/pdf/custom",data:{from:this.filter_startDate,to:this.filter_endDate},responseType:"arraybuffer",headers:{"Content-Type":"application/json",Accept:"application/pdf"}}).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),e=document.createElement("a");e.href=a,e.setAttribute("download","custom.pdf"),document.body.appendChild(e),e.click()})).catch((function(t){return console.log(t)}))},displayNumberWithComma:function(t){var a=parseFloat(t).toFixed(2);return Number(a).toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2})}}},r=e("KHd+"),o=Object(r.a)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h3",[e("button",{staticClass:"btn btn-success float-right",attrs:{type:"button"},on:{click:function(a){return t.print()}}},[e("i",{staticClass:"fas fa-print"}),t._v(" Print\n        ")]),t._v(" "),e("download-excel",{staticClass:"btn btn-success float-right mr-2",attrs:{footer:["total: "+t.total_orders],header:"Products Orders Report ("+t.fromLabel.replace(/,/g,".")+" - "+t.toLabel.replace(/,/g,".")+")",fields:t.json_fields,data:t.data,type:"xls",name:"po.xls",worksheet:"Custom"}},[e("i",{staticClass:"fas fa-file-excel"}),t._v("\n          XLS\n        ")]),t._v(" "),e("download-excel",{staticClass:"btn btn-success float-right mr-2",attrs:{footer:["total: "+t.total_orders],header:"Products Orders Report ("+t.fromLabel.replace(/,/g,".")+" - "+t.toLabel.replace(/,/g,".")+")",fields:t.json_fields,data:t.data,type:"csv",name:"po.csv",worksheet:"Custom"}},[e("i",{staticClass:"fas fa-file-csv"}),t._v("\n          CSV\n        ")])],1),t._v(" "),e("h4",[t._v(t._s(t.fromLabel)+" - "+t._s(t.toLabel))])])]),t._v(" "),e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"input-group"},[t._m(0),t._v(" "),e("date-picker",{ref:"startDate",attrs:{id:"date-time-input",wrap:!0,config:t.configs.start},on:{"dp-change":t.onStartChange},model:{value:t.startDate,callback:function(a){t.startDate=a},expression:"startDate"}}),t._v(" "),t._m(1)],1)]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"input-group"},[t._m(2),t._v(" "),e("date-picker",{ref:"endDate",attrs:{id:"date-time-input",wrap:!0,config:t.configs.end},on:{"dp-change":t.onEndChange},model:{value:t.endDate,callback:function(a){t.endDate=a},expression:"endDate"}}),t._v(" "),t._m(3)],1)]),t._v(" "),e("div",{staticClass:"col-md-2"},[e("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.filter()}}},[e("i",{staticClass:"fas fa-filter"}),t._v(" Filter\n      ")])])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-10"},[e("div",{staticStyle:{"min-height":"300px"}},[e("table",{staticClass:"table table-hover table-sm"},[t._m(4),t._v(" "),e("tbody",t._l(t.data,(function(a,s){return e("tr",{key:s},[e("th",[t._v(t._s(a.date))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(a.total_products))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(a.total_orders))])])})),0),t._v(" "),e("tfoot",[e("tr",[e("th",[t._v("Total")]),t._v(" "),e("th",{staticClass:"text-center"}),t._v(" "),e("th",{staticClass:"text-center"},[t._v(t._s(t.total_orders))])])])])])])])])}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[this._v("From")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-secondary datepickerbutton",attrs:{type:"button",title:"Toggle"}},[a("i",{staticClass:"far fa-calendar"})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[this._v("To")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-secondary datepickerbutton",attrs:{type:"button",title:"Toggle"}},[a("i",{staticClass:"far fa-calendar"})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("tr",[a("th",[this._v("Date")]),this._v(" "),a("th",{staticClass:"text-center"},[this._v("Total No. Products Sold")]),this._v(" "),a("th",{staticClass:"text-center"},[this._v("Total No. Orders")])])])}],!1,null,null,null);a.default=o.exports}}]);
//# sourceMappingURL=RepProdCustom.js.map