{"version":3,"sources":["webpack:///./resources/js/backend/components/emailcustomer/index.vue?e6d1","webpack:///./resources/js/backend/components/emailcustomer/index.vue?61a8","webpack:///./resources/js/backend/components/emailcustomer/index.vue?0de4","webpack:///./resources/js/backend/errorClass.js","webpack:///./resources/js/backend/components/emailcustomer/index.vue?17a1","webpack:///./resources/js/backend/components/emailcustomer/index.vue?5f45","webpack:///resources/js/backend/components/emailcustomer/index.vue","webpack:///./resources/js/backend/components/emailcustomer/index.vue"],"names":["content","module","i","options","transform","undefined","locals","exports","push","Errors","this","errors","field","hasOwnProperty","str","Object","keys","length","key","get","arr","props","data","email","subject","myHTML","created","propemail","mounted","$","document","ready","summernote","placeholder","tabsize","height","toolbar","methods","selectCustomer","modal","sendEmail","LoadingOverlay","axios","showErrorMessage","$events","fire","component","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","on","$event","preventDefault","directives","name","rawName","value","expression","domProps","target","composing"],"mappings":"6FAAA,uBAAgZ,G,qBCChZ,IAAIA,EAAU,EAAQ,QAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAACC,EAAOC,EAAIF,EAAS,MAOhE,IAAIG,EAAU,CAAC,KAAM,EAErB,eAPIC,EAQJ,gBAAqBC,GAER,EAAQ,OAAR,CAAsEL,EAASG,GAEzFH,EAAQM,SAAQL,EAAOM,QAAUP,EAAQM,S,sBCjBlCL,EAAOM,QAAU,EAAQ,OAAR,EAAkE,IAKrFC,KAAK,CAACP,EAAOC,EAAI,uWAA4W,M,8OCLhXO,E,WACjB,c,4FAAc,SACVC,KAAKC,OAAS,G,mDAGdC,GAEA,GAAIF,KAAKC,OAAOC,GACZ,OAAOF,KAAKC,OAAOC,GAAO,K,6BAI3BD,GACHD,KAAKC,OAASA,I,4BAGZC,UACKF,KAAKC,OAAOC,K,0BAGnBA,GACA,OAAOF,KAAKC,OAAOE,eAAeD,K,uCAIlC,IAAIE,EAAM,GACV,GAAIC,OAAOC,KAAKN,KAAKC,QAAQM,OAAS,GAAK,EAEvC,IADA,IACA,MADaF,OAAOC,KAAKN,KAAKC,QAC9B,eAAwB,CAAnB,IAAMO,EAAG,KACVJ,GAAYJ,KAAKS,IAAID,GAI7B,OAAOJ,I,2CAIP,IAAIM,EAAM,GACV,GAAIL,OAAOC,KAAKN,KAAKC,QAAQM,OAAS,GAAK,EAEvC,IADA,IACA,MADaF,OAAOC,KAAKN,KAAKC,QAC9B,eAAwB,CAAnB,IAAMO,EAAG,KAIVE,EAAIZ,KAAKE,KAAKS,IAAID,IAG1B,OAAOE,I,4BAIP,OAAOL,OAAOC,KAAKN,KAAKC,QAAQM,OAAS,O,0ECnDjD,I,YCAiN,ECiDjN,CACEI,MAAO,CAAC,aACRC,KAFF,WAGI,MAAO,CACLC,MAAO,KACPC,QAAS,KACTC,OAAQ,GACRd,OAAQ,IAAI,EAAlB,IAGEe,QAVF,WAWIhB,KAAKa,MAAQb,KAAKiB,WAEpBC,QAbF,WAcIC,EAAEC,UAAUC,OAAM,WAEhBF,EAAE,uBAAuBG,WAAW,CAClCC,YAAa,eACbC,QAAS,EACTC,OAAQ,IACRC,QAAS,CACjB,oBACA,sCACA,oBACA,iCACA,oBACA,sCACA,iDAKEC,QAAS,CACPC,eADJ,WAEMT,EAAE,yBAAyBU,MAAM,SAEnCC,UAJJ,WAIA,WACMC,iBAEA,IAAN,oCACA,kBAGMC,MACN,6BACQ,QAAR,CACU,eAAV,yBAGA,kBACQ,QAAR,OACQ,OAAR,iCARA,OAWA,YACQ,QAAR,SACQ,EAAR,sCACQ,EAAR,gDACQ,OAAR,cACQ,yBAIJC,iBA/BJ,SA+BA,GAEMjC,KAAKkC,QAAQC,KAAK,mBAAoBlC,M,wBC1GxCmC,EAAY,YACd,GHTW,WAAa,IAAIC,EAAIrC,KAASsC,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iCAAiC,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACL,EAAIM,GAAG,GAAGN,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,OAAO,CAACK,MAAM,CAAC,GAAK,SAAS,KAAO,UAAUC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBX,EAAIP,eAAe,CAACU,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,yBAAyBG,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIT,oBAAoB,CAACS,EAAIO,GAAG,6BAA6BP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACK,MAAM,CAAC,IAAM,KAAK,CAACR,EAAIO,GAAG,aAAaP,EAAIO,GAAG,KAAKJ,EAAG,QAAQ,CAACS,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOf,EAAS,MAAEgB,WAAW,UAAUX,YAAY,eAAeG,MAAM,CAAC,KAAO,QAAQ,KAAO,SAASS,SAAS,CAAC,MAASjB,EAAS,OAAGS,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOQ,OAAOC,YAAqBnB,EAAIxB,MAAMkC,EAAOQ,OAAOH,aAAYf,EAAIO,GAAG,KAAKP,EAAIM,GAAG,GAAGN,EAAIO,GAAG,KAAKP,EAAIM,GAAG,GAAGN,EAAIO,GAAG,KAAKP,EAAIM,GAAG,WAAWN,EAAIO,GAAG,KAAKJ,EAAG,wBAAwB,KAC5lC,CAAC,WAAa,IAAiBF,EAATtC,KAAgBuC,eAAmBC,EAAnCxC,KAA0CyC,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,KAAK,CAACE,YAAY,mBAAmB,CAAvK1C,KAA4K4C,GAAG,sBAA/K5C,KAAyM4C,GAAG,KAAKJ,EAAG,MAAM,CAACE,YAAY,gBAAgB,WAAa,IAAiBJ,EAATtC,KAAgBuC,eAAmBC,EAAnCxC,KAA0CyC,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACK,MAAM,CAAC,IAAM,KAAK,CAAjI7C,KAAsI4C,GAAG,aAAzI5C,KAA0J4C,GAAG,KAAKJ,EAAG,QAAQ,CAACE,YAAY,eAAeG,MAAM,CAAC,KAAO,UAAU,KAAO,aAAa,WAAa,IAAiBP,EAATtC,KAAgBuC,eAAmBC,EAAnCxC,KAA0CyC,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAA9GxC,KAAmH4C,GAAG,cAAtH5C,KAAwI4C,GAAG,KAAKJ,EAAG,WAAW,CAACK,MAAM,CAAC,GAAK,qBAAqB,KAAO,gBAAgB,WAAa,IAAiBP,EAATtC,KAAgBuC,eAAmBC,EAAnCxC,KAA0CyC,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,+BAA+B,CAACF,EAAG,IAAI,CAACE,YAAY,4BAAhL1C,KAAgN4C,GAAG,8BGW//B,EACA,KACA,KACA,MAIa,UAAAR,E","file":"js/b/EmailCustomer.js","sourcesContent":["import mod from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/style-loader/index.js!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n/* @import \\\"./plugin/css/summernote-bs4.min.css\\\"; */\\n/* @import \\\"../../plugin/css/summernote-bs4.min.css\\\"; */\\n\", \"\"]);\n\n// exports\n","export default class Errors {\n    constructor() {\n        this.errors = {};\n    }\n\n    get(field) {\n        // console.log(\"getting this field\" + field)\n        if (this.errors[field]) {\n            return this.errors[field][0];\n        }\n    }\n\n    record(errors) {\n        this.errors = errors;\n    }\n\n    clear(field) {\n        delete this.errors[field];\n    }\n\n    has(field) {\n        return this.errors.hasOwnProperty(field);\n    }\n\n    getAllMessages() {\n        let str = \"\";\n        if (Object.keys(this.errors).length > 0 == true) {\n            const keys = Object.keys(this.errors);\n            for (const key of keys) {\n                str = str + this.get(key);\n                +\", \";\n            }\n        }\n        return str;\n    }\n\n    getArrayOfMessages() {\n        let arr = [];\n        if (Object.keys(this.errors).length > 0 == true) {\n            const keys = Object.keys(this.errors);\n            for (const key of keys) {\n                // let obj = {\n                //   msg: this.get(key),\n                // };\n                arr.push(this.get(key));\n            }\n        }\n        return arr;\n    }\n\n    any() {\n        return Object.keys(this.errors).length > 0;\n    }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-column min-vh-100\"},[_c('div',{staticClass:\"container\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-10 mt-5\"},[_c('form',{attrs:{\"id\":\"myForm\",\"name\":\"myForm\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.sendEmail()}}},[_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-sm btn-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.selectCustomer()}}},[_vm._v(\"Select Customer Email\")])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Send To\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"name\":\"email\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_vm._m(3)])])])]),_vm._v(\" \"),_c('select-emails-modal')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6\"},[_c('h2',{staticClass:\"card-title mb-0\"},[_vm._v(\"Email Customer\")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-md-6\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"\"}},[_vm._v(\"Subject\")]),_vm._v(\" \"),_c('input',{staticClass:\"form-control\",attrs:{\"name\":\"subject\",\"type\":\"text\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Content:\")]),_vm._v(\" \"),_c('textarea',{attrs:{\"id\":\"summernote_content\",\"name\":\"content\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-success float-right\"},[_c('i',{staticClass:\"fas fa-paper-plane mr-2\"}),_vm._v(\" Send\\n            \")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"d-flex flex-column min-vh-100\">\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <h2 class=\"card-title mb-0\">Email Customer</h2>\n        </div>\n        <div class=\"col-md-6\"></div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-md-10 mt-5\">\n          <form id=\"myForm\" name=\"myForm\" @submit.prevent=\"sendEmail()\">\n            <div class=\"form-group\">\n              <button\n                type=\"button\"\n                class=\"btn btn-sm btn-success\"\n                @click=\"selectCustomer()\"\n              >Select Customer Email</button>\n            </div>\n            <div class=\"form-group\">\n              <label for>Send To</label>\n              <input v-model=\"email\" type=\"email\" name=\"email\" class=\"form-control\" />\n            </div>\n            <div class=\"form-group\">\n              <label for>Subject</label>\n              <input name=\"subject\" type=\"text\" class=\"form-control\" />\n            </div>\n            <div class=\"form-group\">\n              <label>Content:</label>\n              <!-- <wysiwyg v-model=\"myHTML\" /> -->\n\n              <textarea id=\"summernote_content\" name=\"content\"></textarea>\n            </div>\n            <div class=\"form-group\">\n              <button class=\"btn btn-success float-right\">\n                <i class=\"fas fa-paper-plane mr-2\"></i> Send\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n    <select-emails-modal></select-emails-modal>\n  </div>\n</template>\n<script>\n// import summernote from \"../../plugin/summernote-bs4.min.js\";\nimport Errors from \"../../errorClass\";\n\nexport default {\n  props: [\"propemail\"],\n  data() {\n    return {\n      email: null,\n      subject: null,\n      myHTML: \"\",\n      errors: new Errors(),\n    };\n  },\n  created() {\n    this.email = this.propemail;\n  },\n  mounted() {\n    $(document).ready(function () {\n\n      $(\"#summernote_content\").summernote({\n        placeholder: \"Content here\",\n        tabsize: 2,\n        height: 120,\n        toolbar: [\n          [\"style\", [\"style\"]],\n          [\"font\", [\"bold\", \"underline\", \"clear\"]],\n          [\"color\", [\"color\"]],\n          [\"para\", [\"ul\", \"ol\", \"paragraph\"]],\n          [\"table\", [\"table\"]],\n          [\"insert\", [\"link\", \"picture\", \"video\"]],\n          [\"view\", [\"fullscreen\", \"codeview\", \"help\"]],\n        ],\n      });\n    });\n  },\n  methods: {\n    selectCustomer() {\n      $(\"#selectCustomersModal\").modal(\"show\");\n    },\n    sendEmail() {\n      LoadingOverlay();\n\n      let myForm = document.getElementById(\"myForm\");\n      let formData = new FormData(myForm);\n      //   formData.append(\"content\", this.myHTML);\n\n      axios\n        .post(\"/admin/emails/send\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then((res) => {\n          console.log(res);\n          window.location.href = \"/admin/emails\";\n          //   LoadingOverlayHide();\n        })\n        .catch((err) => {\n          console.error(err);\n          this.errors.record(err.response.data.errors);\n          this.showErrorMessage(this.errors.getArrayOfMessages());\n          window.scrollTo(0, 0);\n          LoadingOverlayHide();\n        });\n    },\n\n    showErrorMessage(errors) {\n      //   console.log(shit);\n      this.$events.fire(\"showErrorMessage\", errors);\n    },\n  },\n};\n</script>\n\n\n<style>\n/* @import \"./plugin/css/summernote-bs4.min.css\"; */\n/* @import \"../../plugin/css/summernote-bs4.min.css\"; */\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0921139e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}