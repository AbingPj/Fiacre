(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{CVMQ:function(t,a,e){"use strict";e.r(a);var n={components:{"products-page-order-summary":function(){return e.e(83).then(e.bind(null,"JnnL"))},"products-page-modal":function(){return e.e(82).then(e.bind(null,"eGzH"))},"products-warning-modal":function(){return e.e(86).then(e.bind(null,"ViSy"))},"products-user-balance-mobile":function(){return e.e(85).then(e.bind(null,"rfDc"))},"products-user-balance":function(){return e.e(84).then(e.bind(null,"3jrq"))},"products-list":function(){return e.e(87).then(e.bind(null,"aNv2"))},"products-grid":function(){return e.e(81).then(e.bind(null,"hpOJ"))}},props:["propproducts","propcategories","guest","user","wholesaler_minimum_order_amount"],data:function(){return{search:"",display:"box",products:[],cart:[],categories:[],selectedCategory:"All",image_sample:"/img/sunfarmacy/products/Group17.png",searchedProducts:[],laravelData:{},category:"All",name:"",btn:"search",org_id:null,org_name:null}},created:function(){LoadingOverlay(),this.getResults();var t=this.propcategories;this.categories=t},mounted:function(){},methods:{searchBarChange:function(){this.btn="search"},removeSearchFilter:function(){this.name="",this.search="",this.getResults(),this.btn="search"},removeCategoryFilter:function(){this.category="All",this.selectedCategory="All",this.getResults()},resetFilter:function(){this.name="",this.category="All",this.selectedCategory="All",this.getResults()},categoryChange:function(t){LoadingOverlay(),window.scrollTo(0,0),"All"===t?(this.category="All",this.getResults()):(this.category=t.id,this.getResults())},getResults:function(){var t,a=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t=""!=this.name&&"All"!=this.category?{category:this.category,name:this.name,page:e,org_id:this.org_id}:""!=this.name?{name:this.name,page:e,org_id:this.org_id}:"All"!=this.category?{category:this.category,page:e,org_id:this.org_id}:{page:e,org_id:this.org_id},axios({method:"get",url:"/data/products",params:t}).then((function(t){a.laravelData=t.data;var e=t.data.data;1==a.guest?a.getCart(e):(console.log("oyee"),a.getCart2(e)),LoadingOverlayHide()}))},getCart:function(t){var a=this;if(this.ifCartExpired())this.cart=[],localStorage.setItem("cart",JSON.stringify(this.cart)),localStorage.setItem("cart_badge",this.cart.length),this.products=t;else{var e=JSON.parse(localStorage.getItem("cart")||"null")||[];this.cart=e,localStorage.setItem("cart_badge",this.cart.length),t.forEach((function(t){a.cart.forEach((function(a){t.id==a.id&&(t.selected=!0)}))})),this.products=t}},getCart2:function(t){var a=this;axios.get("/cart/getUserCartDetails/".concat(this.user.id,"/").concat(this.org_id)).then((function(e){var n=e.data;a.cart=[],n.forEach((function(t){t.atr_details.qty=t.qty,a.cart.push(t.atr_details)})),t.forEach((function(t){a.cart.forEach((function(a){t.id==a.id&&(t.selected=!0)}))})),a.products=t})).catch((function(e){console.error(e),a.products=t}))},updateProductPrice:function(t){var a=this.user.customer_role,e=2==a?t.member_price:3==a?t.wholesale_price:t.price;return this.displayNumberWithComma(e)},searchProduct:function(){LoadingOverlay(),window.scrollTo(0,0),this.btn="clear",this.name=this.search,this.category="All",this.selectedCategory="All",this.getResults()},showAddToCartModal:function(t){this.$refs.productmodal.product=t,this.$refs.productmodal.guest=this.guest,this.$refs.productmodal.category=t.category,this.$refs.productmodal.sub_category=t.sub_category,this.$refs.productmodal.customer_role=this.user.customer_role,$("#addToCartModal").modal("show")},setDisplay:function(t){this.display=t},removeItemInCart:function(t){var a=this;1==this.guest?(this.products.forEach((function(a){a.id==t.id&&(a.selected=!1,a.qty=1)})),this.cart.splice(this.cart.findIndex((function(a){return a.id===t.id})),1),localStorage.setItem("cart",JSON.stringify(this.cart)),localStorage.setItem("cart_badge",this.cart.length),this.$events.fire("updateCartBadge","update cart"),this.setCartExpiry(864e5)):(LoadingOverlay(),axios.post("/cart/removeProductOfUserCart/".concat(this.user.id,"/").concat(this.org_id,"/").concat(t.id)).then((function(e){a.$events.fire("updateCartBadge3",e.data),LoadingOverlayHide(),a.products.forEach((function(a){a.id==t.id&&(a.selected=!1,a.qty=1)})),a.cart.splice(a.cart.findIndex((function(a){return a.id===t.id})),1)})).catch((function(t){LoadingOverlayHide(),console.error(t)})))},addtoCart:function(t){var a=this;if(t.selected=!0,1==this.guest)1==t.selected?(this.cart.push(t),localStorage.setItem("cart",JSON.stringify(this.cart))):(this.cart.splice(this.cart.findIndex((function(a){return a.id===t.id})),1),localStorage.setItem("cart",JSON.stringify(this.cart))),localStorage.setItem("cart_badge",this.cart.length),this.setCartExpiry(864e5),this.$events.fire("updateCartBadge","update cart");else{var e={user_id:this.user.id,org_id:this.org_id,product_id:t.id,qty:t.qty,price:t.price,product_details:t};LoadingOverlay(),axios.post("/cart/addToCart",e).then((function(e){console.log(e),a.$events.fire("updateCartBadge3",e.data),a.cart.push(t),LoadingOverlayHide()})).catch((function(t){console.error(t),LoadingOverlayHide(),alert("Something went wrong! Please Contat Support. "+t)}))}return t},setCartExpiry:function(t){var a=(new Date).getTime()+t;localStorage.setItem("cart_expiry",a)},ifCartExpired:function(){var t=localStorage.getItem("cart_expiry");if(!t)return!0;var a=JSON.parse(t);return(new Date).getTime()>a},updateQty:function(t){return 1==t.selected&&(this.cart.push(t),localStorage.setItem("cart",JSON.stringify(this.cart))),localStorage.setItem("cart_badge",this.cart.length),this.setCartExpiry(864e5),t},displayNumberWithComma:function(t){var a=parseFloat(t).toFixed(2);return Number(a).toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2})}}},i=(e("Ls7k"),e("KHd+")),r=Object(i.a)(n,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"margin-content-2"},[e("div",{staticClass:"container search-container"},[e("div",{staticClass:"row"},[e("div",{class:"box"==t.display?"col-md-8 col-lg-9":"col-md-8"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4 col-md-12 col-sm-12 col-12"},[e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control search-inpt",attrs:{type:"text",placeholder:"Search","aria-describedby":"button-addon2"},domProps:{value:t.search},on:{keyup:[function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchProduct()},function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"delete",[8,46],a.key,["Backspace","Delete","Del"])?null:t.searchBarChange()}],keypress:function(a){return t.searchBarChange()},input:function(a){a.target.composing||(t.search=a.target.value)}}}),t._v(" "),e("div",{staticClass:"input-group-append"},["search"===this.btn?e("button",{staticClass:"btn btn-outline-success search-btn",attrs:{type:"button",id:"button-addon2"},on:{click:function(a){return t.searchProduct()}}},[e("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})]):e("button",{staticClass:"btn btn-outline-success search-btn-2",attrs:{type:"button",id:"button-addon2"},on:{click:function(a){return t.removeSearchFilter()}}},[e("i",{staticClass:"fas fa-times-circle",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),e("div",{staticClass:"col-lg-4 col-md-9 col-sm-9 col-9"},[e("div",{staticClass:"form-group search-cat-cont"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control search-cat",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedCategory=a.target.multiple?e:e[0]},function(a){return t.categoryChange(t.selectedCategory)}]}},[e("option",{attrs:{disabled:"",selected:""}},[t._v("Choose Categories")]),t._v(" "),e("option",{attrs:{value:"All"}},[t._v("All")]),t._v(" "),t._l(t.categories,(function(a){return e("option",{key:a.id,domProps:{value:a}},[t._v(t._s(a.name))])}))],2)])]),t._v(" "),e("div",{staticClass:"col-lg-4 col-md-3 col-sm-3 col-3"},[e("div",{staticClass:"d-flex flex-row-reverse display-cont"},[e("button",{staticClass:"btn btn-outline-success",style:"box"==t.display?"background-color:#339f25; color:white;":"",attrs:{id:"dispaly-grid"},on:{click:function(a){return t.setDisplay("box")}}},[e("i",{staticClass:"fa fa-th",attrs:{"aria-hidden":"true"}})]),t._v(" "),e("button",{staticClass:"btn btn-outline-success mr-2",style:"list"==t.display?"background-color:#339f25; color:white;":"",attrs:{id:"display-list"},on:{click:function(a){return t.setDisplay("list")}}},[e("i",{staticClass:"fa fa-th-list",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),e("div",{staticClass:"text-left mt-1"},[""!=this.name?e("span",[e("button",{staticClass:"btn btn-secondary btn-sm filter-btn",attrs:{type:"button"},on:{click:function(a){return t.removeSearchFilter()}}},[t._v('\n              "'+t._s(t.name)+'"\n              '),e("i",{staticClass:"fas fa-times-circle"})])]):t._e(),t._v(" "),"All"!=this.selectedCategory?e("span",[e("button",{staticClass:"btn btn-secondary btn-sm filter-btn",attrs:{type:"button"},on:{click:function(a){return t.removeCategoryFilter()}}},[t._v('\n              "'+t._s(t.selectedCategory.name)+'"\n              '),e("i",{staticClass:"fas fa-times-circle"})])]):t._e()])]),t._v(" "),e("div",{class:"box"==t.display?"col-md-4 col-lg-3":"col-md-4"},[e("h6",{staticClass:"text-success"},[t._v(t._s(t.org_name))])])])]),t._v(" "),e("div",{class:"box"==t.display?"container-fluid con-f-margin":"container"},[e("div",{staticClass:"row"},[e("div",{class:"box"==t.display?"col-md-8 col-lg-9 p-0":"col-md-8 p-0"},[0==t.products.length?e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"text-center mt-5"},[""!=this.name&&"All"!=this.selectedCategory?e("div",[t._v('\n                  No Products Found with "'+t._s(this.name)+'" and Category "'+t._s(this.selectedCategory.name)+'".\n                  '),e("div",{staticClass:"text-primary",on:{click:function(a){return t.resetFilter()}}},[e("u",[t._v("Reset Filter / Return to Products")])])]):""!=this.name?e("div",[t._v('\n                  No Products Found with "'+t._s(this.name)+'".\n                  '),e("div",{staticClass:"text-primary",on:{click:function(a){return t.resetFilter()}}},[e("u",[t._v("Reset Filter / Return to Products")])])]):"All"!=this.category?e("div",[t._v('\n                  No Products Found with Category "'+t._s(this.selectedCategory.name)+'".\n                  '),e("div",{staticClass:"text-primary",on:{click:function(a){return t.resetFilter()}}},[e("u",[t._v("Reset Filter / Return to Products")])])]):e("div",[t._v("No Products Yet.")])])])])]):t._e(),t._v(" "),e("products-list",{attrs:{products:t.products,display:t.display,customer_role:t.user.customer_role}}),t._v(" "),e("products-grid",{ref:"productsgrid",attrs:{products:t.products,display:t.display,customer_role:t.user.customer_role}}),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("pagination",{attrs:{data:t.laravelData,limit:5,size:"small",align:"center"},on:{"pagination-change-page":t.getResults}})],1),t._v(" "),e("div",{class:"box"==t.display?"col-md-4 col-lg-3 p-0":"col-md-4 p-0"},[e("products-page-order-summary",{attrs:{cart:t.cart,customer_role:t.user.customer_role,minimum:t.wholesaler_minimum_order_amount,guest:t.guest}})],1)])]),t._v(" "),e("div",{class:"box"==t.display?"container-fluid con-f-margin":"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("products-page-modal",{ref:"productmodal"}),t._v(" "),e("products-warning-modal",{attrs:{minimum:t.wholesaler_minimum_order_amount}}),t._v(" "),e("EnterOptionCModal",{attrs:{guest:t.guest,user:t.user}})],1)])])])}),[],!1,null,"d038a0d0",null);a.default=r.exports},EIoD:function(t,a,e){var n=e("PQG3");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};e("aET+")(n,i);n.locals&&(t.exports=n.locals)},Ls7k:function(t,a,e){"use strict";var n=e("EIoD");e.n(n).a},PQG3:function(t,a,e){(t.exports=e("I1BE")(!1)).push([t.i,".con-f-margin[data-v-d038a0d0] {\n  padding-right: 100px;\n  padding-left: 1000px;\n  margin-right: auto;\n  margin-left: auto;\n}\n@media (min-width: 768px) and (max-width: 1455px) {\n.con-f-margin[data-v-d038a0d0] {\n    padding-right: 25px;\n    padding-left: 0px;\n}\n}\n@media (min-width: 1456px) {\n.con-f-margin[data-v-d038a0d0] {\n    padding-right: 50px;\n    padding-left: 0px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1570px) {\n.con-f-margin[data-v-d038a0d0] {\n    padding-right: 50px;\n    padding-left: 50px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1600px) {\n.con-f-margin[data-v-d038a0d0] {\n    padding-right: 75px;\n    padding-left: 75px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1700px) {\n.con-f-margin[data-v-d038a0d0] {\n    padding-right: 100px;\n    padding-left: 100px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1750px) {\n.con-f-margin[data-v-d038a0d0] {\n    padding-right: 125px;\n    padding-left: 125px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1800px) {\n.con-f-margin[data-v-d038a0d0] {\n    padding-right: 150px;\n    padding-left: 150px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1850px) {\n.con-f-margin[data-v-d038a0d0] {\n    padding-right: 165px;\n    padding-left: 165px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 2000px) {\n.con-f-margin[data-v-d038a0d0] {\n    padding-right: 175px;\n    padding-left: 175px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.con-f-margin[data-v-d038a0d0] {\n    margin-top: -20px;\n    padding-right: 15px;\n    padding-left: 15px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n.margin-content-2[data-v-d038a0d0] {\n  margin-top: 3rem;\n  margin-bottom: 3rem;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.margin-content-2[data-v-d038a0d0] {\n    margin-top: 0;\n}\n}\n.filter-btn[data-v-d038a0d0] {\n  padding: 0px 5px;\n  font-size: 13px;\n  border-radius: 1rem;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container[data-v-d038a0d0] {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 93px;\n    padding-top: 10px;\n    padding-bottom: 5px;\n    background-color: white;\n    z-index: 4;\n}\n}\n.search-container .search-inpt[data-v-d038a0d0] {\n  border-radius: 100px 0px 0px 100px;\n  border: 1px solid #339f25;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-inpt[data-v-d038a0d0] {\n    height: 30px;\n}\n}\n.search-container .search-btn[data-v-d038a0d0] {\n  border-radius: 0px 100px 100px 0px;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-btn[data-v-d038a0d0] {\n    height: 30px;\n    font-size: 10px;\n}\n}\n.search-container .search-btn-2[data-v-d038a0d0] {\n  border-radius: 0px 100px 100px 0px;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-btn-2[data-v-d038a0d0] {\n    height: 30px;\n    font-size: 10px;\n}\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-cat-cont[data-v-d038a0d0] {\n    margin-bottom: 0px;\n}\n}\n.search-container .search-cat-cont .search-cat[data-v-d038a0d0] {\n  border-radius: 100px;\n  border: 1px solid #339f25;\n  padding: 0px 10px 0px 10px;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-cat-cont .search-cat[data-v-d038a0d0] {\n    height: 30px;\n    font-size: 10px;\n}\n}\n.search-container .display-cont #display-list.btn[data-v-d038a0d0] {\n  border-radius: 48%;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .display-cont #display-list.btn[data-v-d038a0d0] {\n    padding: 1px 5px 1px 5px;\n}\n}\n.search-container .display-cont #dispaly-grid.btn[data-v-d038a0d0] {\n  border-radius: 48%;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .display-cont #dispaly-grid.btn[data-v-d038a0d0] {\n    padding: 1px 5px 1px 5px;\n}\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .display-cont[data-v-d038a0d0] {\n    height: 30px;\n}\n}",""])}}]);
//# sourceMappingURL=products.js.map