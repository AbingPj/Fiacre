(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{CVMQ:function(t,a,n){"use strict";n.r(a);var e={components:{"products-page-order-summary":function(){return n.e(81).then(n.bind(null,"JnnL"))},"products-page-modal":function(){return n.e(80).then(n.bind(null,"eGzH"))},"products-warning-modal":function(){return n.e(84).then(n.bind(null,"ViSy"))},"products-user-balance-mobile":function(){return n.e(83).then(n.bind(null,"rfDc"))},"products-user-balance":function(){return n.e(82).then(n.bind(null,"3jrq"))},"products-list":function(){return n.e(85).then(n.bind(null,"aNv2"))},"products-grid":function(){return n.e(79).then(n.bind(null,"hpOJ"))}},props:["propproducts","propcategories","guest","user","wholesaler_minimum_order_amount"],data:function(){return{search:"",display:"box",products:[],cart:[],categories:[],selectedCategory:"All",image_sample:"/img/sunfarmacy/products/Group17.png",searchedProducts:[],laravelData:{},category:"All",name:"",btn:"search",org_id:null,org_name:null}},created:function(){LoadingOverlay(),this.getResults();var t=this.propcategories;this.categories=t},mounted:function(){},methods:{searchBarChange:function(){this.btn="search"},removeSearchFilter:function(){this.name="",this.search="",this.getResults(),this.btn="search"},removeCategoryFilter:function(){this.category="All",this.selectedCategory="All",this.getResults()},resetFilter:function(){this.name="",this.category="All",this.selectedCategory="All",this.getResults()},categoryChange:function(t){LoadingOverlay(),window.scrollTo(0,0),"All"===t?(this.category="All",this.getResults()):(this.category=t.id,this.getResults())},getResults:function(){var t,a=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t=""!=this.name&&"All"!=this.category?{category:this.category,name:this.name,page:n,org_id:this.org_id}:""!=this.name?{name:this.name,page:n,org_id:this.org_id}:"All"!=this.category?{category:this.category,page:n,org_id:this.org_id}:{page:n,org_id:this.org_id},axios({method:"get",url:"/data/products",params:t}).then((function(t){a.laravelData=t.data;var n=t.data.data;console.log(),a.getCart(n),LoadingOverlayHide()}))},getCart:function(t){var a=this;if(this.ifCartExpired())this.cart=[],localStorage.setItem("cart",JSON.stringify(this.cart)),localStorage.setItem("cart_badge",this.cart.length),this.products=t;else{var n=JSON.parse(localStorage.getItem("cart")||"null")||[];this.cart=n,localStorage.setItem("cart_badge",this.cart.length),t.forEach((function(t){a.cart.forEach((function(a){t.id==a.id&&(t.selected=!0)}))})),this.products=t}},updateProductPrice:function(t){var a=this.user.customer_role,n=2==a?t.member_price:3==a?t.wholesale_price:t.price;return this.displayNumberWithComma(n)},searchProduct:function(){LoadingOverlay(),window.scrollTo(0,0),this.btn="clear",this.name=this.search,this.category="All",this.selectedCategory="All",this.getResults()},showAddToCartModal:function(t){this.$refs.productmodal.product=t,this.$refs.productmodal.category=t.category,this.$refs.productmodal.sub_category=t.sub_category,this.$refs.productmodal.customer_role=this.user.customer_role,$("#addToCartModal").modal("show")},setDisplay:function(t){this.display=t},removeItemInCart:function(t){this.products.forEach((function(a){a.id==t.id&&(a.selected=!1,a.qty=1)})),this.cart.splice(this.cart.findIndex((function(a){return a.id===t.id})),1),localStorage.setItem("cart",JSON.stringify(this.cart)),localStorage.setItem("cart_badge",this.cart.length),this.$events.fire("updateCartBadge","update cart"),this.setCartExpiry(864e5)},addtoCart:function(t){return t.selected=!0,1==t.selected?(this.cart.push(t),localStorage.setItem("cart",JSON.stringify(this.cart))):(this.cart.splice(this.cart.findIndex((function(a){return a.id===t.id})),1),localStorage.setItem("cart",JSON.stringify(this.cart))),localStorage.setItem("cart_badge",this.cart.length),this.setCartExpiry(864e5),this.$events.fire("updateCartBadge","update cart"),t},setCartExpiry:function(t){var a=(new Date).getTime()+t;localStorage.setItem("cart_expiry",a)},ifCartExpired:function(){var t=localStorage.getItem("cart_expiry");if(!t)return!0;var a=JSON.parse(t);return(new Date).getTime()>a},updateQty:function(t){return 1==t.selected&&(this.cart.push(t),localStorage.setItem("cart",JSON.stringify(this.cart))),localStorage.setItem("cart_badge",this.cart.length),this.setCartExpiry(864e5),t},displayNumberWithComma:function(t){var a=parseFloat(t).toFixed(2);return Number(a).toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2})}}},i=(n("uSAV"),n("KHd+")),r=Object(i.a)(e,(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"margin-content-2"},[n("div",{staticClass:"container search-container"},[n("div",{staticClass:"row"},[n("div",{class:"box"==t.display?"col-md-8 col-lg-9":"col-md-8"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-4 col-md-12 col-sm-12 col-12"},[n("div",{staticClass:"input-group mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control search-inpt",attrs:{type:"text",placeholder:"Search","aria-describedby":"button-addon2"},domProps:{value:t.search},on:{keyup:[function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchProduct()},function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"delete",[8,46],a.key,["Backspace","Delete","Del"])?null:t.searchBarChange()}],keypress:function(a){return t.searchBarChange()},input:function(a){a.target.composing||(t.search=a.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append"},["search"===this.btn?n("button",{staticClass:"btn btn-outline-success search-btn",attrs:{type:"button",id:"button-addon2"},on:{click:function(a){return t.searchProduct()}}},[n("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})]):n("button",{staticClass:"btn btn-outline-success search-btn-2",attrs:{type:"button",id:"button-addon2"},on:{click:function(a){return t.removeSearchFilter()}}},[n("i",{staticClass:"fas fa-times-circle",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),n("div",{staticClass:"col-lg-4 col-md-9 col-sm-9 col-9"},[n("div",{staticClass:"form-group search-cat-cont"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control search-cat",on:{change:[function(a){var n=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedCategory=a.target.multiple?n:n[0]},function(a){return t.categoryChange(t.selectedCategory)}]}},[n("option",{attrs:{disabled:"",selected:""}},[t._v("Choose Categories")]),t._v(" "),n("option",{attrs:{value:"All"}},[t._v("All")]),t._v(" "),t._l(t.categories,(function(a){return n("option",{key:a.id,domProps:{value:a}},[t._v(t._s(a.name))])}))],2)])]),t._v(" "),n("div",{staticClass:"col-lg-4 col-md-3 col-sm-3 col-3"},[n("div",{staticClass:"d-flex flex-row-reverse display-cont"},[n("button",{staticClass:"btn btn-outline-success",style:"box"==t.display?"background-color:#339f25; color:white;":"",attrs:{id:"dispaly-grid"},on:{click:function(a){return t.setDisplay("box")}}},[n("i",{staticClass:"fa fa-th",attrs:{"aria-hidden":"true"}})]),t._v(" "),n("button",{staticClass:"btn btn-outline-success mr-2",style:"list"==t.display?"background-color:#339f25; color:white;":"",attrs:{id:"display-list"},on:{click:function(a){return t.setDisplay("list")}}},[n("i",{staticClass:"fa fa-th-list",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),n("div",{staticClass:"text-left mt-1"},[""!=this.name?n("span",[n("button",{staticClass:"btn btn-secondary btn-sm filter-btn",attrs:{type:"button"},on:{click:function(a){return t.removeSearchFilter()}}},[t._v('\n              "'+t._s(t.name)+'"\n              '),n("i",{staticClass:"fas fa-times-circle"})])]):t._e(),t._v(" "),"All"!=this.selectedCategory?n("span",[n("button",{staticClass:"btn btn-secondary btn-sm filter-btn",attrs:{type:"button"},on:{click:function(a){return t.removeCategoryFilter()}}},[t._v('\n              "'+t._s(t.selectedCategory.name)+'"\n              '),n("i",{staticClass:"fas fa-times-circle"})])]):t._e()])]),t._v(" "),n("div",{class:"box"==t.display?"col-md-4 col-lg-3":"col-md-4"},[n("h6",{staticClass:"text-success"},[t._v(t._s(t.org_name))])])])]),t._v(" "),n("div",{class:"box"==t.display?"container-fluid con-f-margin":"container"},[n("div",{staticClass:"row"},[n("div",{class:"box"==t.display?"col-md-8 col-lg-9 p-0":"col-md-8 p-0"},[0==t.products.length?n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-center mt-5"},[""!=this.name&&"All"!=this.selectedCategory?n("div",[t._v('\n                  No Products Found with "'+t._s(this.name)+'" and Category "'+t._s(this.selectedCategory.name)+'".\n                  '),n("div",{staticClass:"text-primary",on:{click:function(a){return t.resetFilter()}}},[n("u",[t._v("Reset Filter / Return to Products")])])]):""!=this.name?n("div",[t._v('\n                  No Products Found with "'+t._s(this.name)+'".\n                  '),n("div",{staticClass:"text-primary",on:{click:function(a){return t.resetFilter()}}},[n("u",[t._v("Reset Filter / Return to Products")])])]):"All"!=this.category?n("div",[t._v('\n                  No Products Found with Category "'+t._s(this.selectedCategory.name)+'".\n                  '),n("div",{staticClass:"text-primary",on:{click:function(a){return t.resetFilter()}}},[n("u",[t._v("Reset Filter / Return to Products")])])]):n("div",[t._v("No Products Yet.")])])])])]):t._e(),t._v(" "),n("products-list",{attrs:{products:t.products,display:t.display,customer_role:t.user.customer_role}}),t._v(" "),n("products-grid",{ref:"productsgrid",attrs:{products:t.products,display:t.display,customer_role:t.user.customer_role}}),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("pagination",{attrs:{data:t.laravelData,limit:5,size:"small",align:"center"},on:{"pagination-change-page":t.getResults}})],1),t._v(" "),n("div",{class:"box"==t.display?"col-md-4 col-lg-3 p-0":"col-md-4 p-0"},[n("products-page-order-summary",{attrs:{cart:t.cart,customer_role:t.user.customer_role,minimum:t.wholesaler_minimum_order_amount,guest:t.guest}})],1)])]),t._v(" "),n("div",{class:"box"==t.display?"container-fluid con-f-margin":"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("products-page-modal",{ref:"productmodal"}),t._v(" "),n("products-warning-modal",{attrs:{minimum:t.wholesaler_minimum_order_amount}}),t._v(" "),n("EnterOptionCModal",{attrs:{guest:t.guest,user:t.user}})],1)])])])}),[],!1,null,"4457c7f6",null);a.default=r.exports},KRWt:function(t,a,n){var e=n("jsSQ");"string"==typeof e&&(e=[[t.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(e,i);e.locals&&(t.exports=e.locals)},jsSQ:function(t,a,n){(t.exports=n("I1BE")(!1)).push([t.i,".con-f-margin[data-v-4457c7f6] {\n  padding-right: 100px;\n  padding-left: 1000px;\n  margin-right: auto;\n  margin-left: auto;\n}\n@media (min-width: 768px) and (max-width: 1455px) {\n.con-f-margin[data-v-4457c7f6] {\n    padding-right: 25px;\n    padding-left: 0px;\n}\n}\n@media (min-width: 1456px) {\n.con-f-margin[data-v-4457c7f6] {\n    padding-right: 50px;\n    padding-left: 0px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1570px) {\n.con-f-margin[data-v-4457c7f6] {\n    padding-right: 50px;\n    padding-left: 50px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1600px) {\n.con-f-margin[data-v-4457c7f6] {\n    padding-right: 75px;\n    padding-left: 75px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1700px) {\n.con-f-margin[data-v-4457c7f6] {\n    padding-right: 100px;\n    padding-left: 100px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1750px) {\n.con-f-margin[data-v-4457c7f6] {\n    padding-right: 125px;\n    padding-left: 125px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1800px) {\n.con-f-margin[data-v-4457c7f6] {\n    padding-right: 150px;\n    padding-left: 150px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1850px) {\n.con-f-margin[data-v-4457c7f6] {\n    padding-right: 165px;\n    padding-left: 165px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 2000px) {\n.con-f-margin[data-v-4457c7f6] {\n    padding-right: 175px;\n    padding-left: 175px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.con-f-margin[data-v-4457c7f6] {\n    margin-top: -20px;\n    padding-right: 15px;\n    padding-left: 15px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n.margin-content-2[data-v-4457c7f6] {\n  margin-top: 3rem;\n  margin-bottom: 3rem;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.margin-content-2[data-v-4457c7f6] {\n    margin-top: 0;\n}\n}\n.filter-btn[data-v-4457c7f6] {\n  padding: 0px 5px;\n  font-size: 13px;\n  border-radius: 1rem;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container[data-v-4457c7f6] {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 93px;\n    padding-top: 10px;\n    padding-bottom: 5px;\n    background-color: white;\n    z-index: 4;\n}\n}\n.search-container .search-inpt[data-v-4457c7f6] {\n  border-radius: 100px 0px 0px 100px;\n  border: 1px solid #339f25;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-inpt[data-v-4457c7f6] {\n    height: 30px;\n}\n}\n.search-container .search-btn[data-v-4457c7f6] {\n  border-radius: 0px 100px 100px 0px;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-btn[data-v-4457c7f6] {\n    height: 30px;\n    font-size: 10px;\n}\n}\n.search-container .search-btn-2[data-v-4457c7f6] {\n  border-radius: 0px 100px 100px 0px;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-btn-2[data-v-4457c7f6] {\n    height: 30px;\n    font-size: 10px;\n}\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-cat-cont[data-v-4457c7f6] {\n    margin-bottom: 0px;\n}\n}\n.search-container .search-cat-cont .search-cat[data-v-4457c7f6] {\n  border-radius: 100px;\n  border: 1px solid #339f25;\n  padding: 0px 10px 0px 10px;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-cat-cont .search-cat[data-v-4457c7f6] {\n    height: 30px;\n    font-size: 10px;\n}\n}\n.search-container .display-cont #display-list.btn[data-v-4457c7f6] {\n  border-radius: 48%;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .display-cont #display-list.btn[data-v-4457c7f6] {\n    padding: 1px 5px 1px 5px;\n}\n}\n.search-container .display-cont #dispaly-grid.btn[data-v-4457c7f6] {\n  border-radius: 48%;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .display-cont #dispaly-grid.btn[data-v-4457c7f6] {\n    padding: 1px 5px 1px 5px;\n}\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .display-cont[data-v-4457c7f6] {\n    height: 30px;\n}\n}",""])},uSAV:function(t,a,n){"use strict";var e=n("KRWt");n.n(e).a}}]);
//# sourceMappingURL=products.js.map