(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{CVMQ:function(t,e,a){"use strict";a.r(e);var n={components:{"products-page-order-summary":function(){return a.e(81).then(a.bind(null,"JnnL"))},"products-warning-modal":function(){return a.e(84).then(a.bind(null,"ViSy"))},"products-user-balance-mobile":function(){return a.e(83).then(a.bind(null,"rfDc"))},"products-user-balance":function(){return a.e(82).then(a.bind(null,"3jrq"))},"products-list":function(){return a.e(85).then(a.bind(null,"aNv2"))},"products-grid":function(){return a.e(80).then(a.bind(null,"hpOJ"))}},props:["propproducts","propcategories","guest","user","wholesaler_minimum_order_amount"],data:function(){return{search:"",display:"list",products:[],cart:[],categories:[],selectedCategory:"All",image_sample:"/img/sunfarmacy/products/Group17.png",searchedProducts:[],laravelData:{},category:"All",name:"",btn:"search",org_id:null,org_name:null}},created:function(){LoadingOverlay(),this.getResults();var t=this.propcategories;this.categories=t},mounted:function(){},methods:{searchBarChange:function(){this.btn="search"},removeSearchFilter:function(){this.name="",this.search="",this.getResults(),this.btn="search"},removeCategoryFilter:function(){this.category="All",this.selectedCategory="All",this.getResults()},resetFilter:function(){this.name="",this.category="All",this.selectedCategory="All",this.getResults()},categoryChange:function(t){LoadingOverlay(),window.scrollTo(0,0),"All"===t?(this.category="All",this.getResults()):(this.category=t.id,this.getResults())},getResults:function(){var t,e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t=""!=this.name&&"All"!=this.category?{category:this.category,name:this.name,page:a,org_id:this.org_id}:""!=this.name?{name:this.name,page:a,org_id:this.org_id}:"All"!=this.category?{category:this.category,page:a,org_id:this.org_id}:{page:a,org_id:this.org_id},axios({method:"get",url:"/data/products",params:t}).then((function(t){e.laravelData=t.data;var a=t.data.data;1==e.guest?e.getCart(a):(console.log("oyee"),e.getCart2(a)),LoadingOverlayHide()}))},getCart:function(t){var e=this;if(this.ifCartExpired())this.cart=[],localStorage.setItem("cart",JSON.stringify(this.cart)),localStorage.setItem("cart_badge",this.cart.length),this.products=t;else{var a=JSON.parse(localStorage.getItem("cart")||"null")||[];this.cart=a,localStorage.setItem("cart_badge",this.cart.length),t.forEach((function(t){e.cart.forEach((function(e){t.id==e.id&&(t.selected=!0)}))})),this.products=t}},getCart2:function(t){var e=this;axios.get("/cart/getUserCartDetails/".concat(this.user.id,"/").concat(this.org_id)).then((function(a){var n=a.data;e.cart=[],n.forEach((function(t){t.atr_details.qty=t.qty,e.cart.push(t.atr_details)})),t.forEach((function(t){e.cart.forEach((function(e){t.id==e.id&&(t.selected=!0)}))})),e.products=t})).catch((function(a){console.error(a),e.products=t}))},updateProductPrice:function(t){var e=this.user.customer_role,a=2==e?t.member_price:3==e?t.wholesale_price:t.price;return this.displayNumberWithComma(a)},searchProduct:function(){LoadingOverlay(),window.scrollTo(0,0),this.btn="clear",this.name=this.search,this.category="All",this.selectedCategory="All",this.getResults()},showAddToCartModal:function(t){this.$refs.productmodal.showModal(t,this.guest,this.user.customer_role)},showAddToCartModalEdit:function(t){this.$refs.productmodalEdit.showModal(t,this.guest,this.user.customer_role)},setDisplay:function(t){this.display=t},removeItemInCart:function(t){var e=this;1==this.guest?(this.products.forEach((function(e){e.id==t.id&&(e.selected=!1,e.qty=1)})),this.cart.splice(this.cart.findIndex((function(e){return e.id===t.id})),1),localStorage.setItem("cart",JSON.stringify(this.cart)),localStorage.setItem("cart_badge",this.cart.length),this.$events.fire("updateCartBadge","update cart"),this.setCartExpiry(864e5)):(LoadingOverlay(),axios.post("/cart/removeProductOfUserCart/".concat(this.user.id,"/").concat(this.org_id,"/").concat(t.id)).then((function(a){e.$events.fire("updateCartBadge3",a.data),LoadingOverlayHide(),e.products.forEach((function(e){e.id==t.id&&(e.selected=!1,e.qty=1)})),e.cart.splice(e.cart.findIndex((function(e){return e.id===t.id})),1)})).catch((function(t){LoadingOverlayHide(),console.error(t)})))},updateProductDetails:function(t){if(0==this.guest){LoadingOverlay();var e={product_details:t,user_id:this.user.id,org_id:this.org_id};axios.post("/cart/updateProductDetails",e).then((function(t){console.log(t),LoadingOverlayHide()})).catch((function(t){console.error(t),LoadingOverlayHide(),alert("Something went wrong! Please Contat Support. "+t)}))}},updateProductQuantity:function(t){if(0==this.guest){LoadingOverlay();var e={product_details:t,user_id:this.user.id,org_id:this.org_id};axios.post("/cart/updateProductDetails",e).then((function(t){console.log(t),LoadingOverlayHide()})).catch((function(t){console.error(t),LoadingOverlayHide(),alert("Something went wrong! Please Contat Support. "+t)}))}},addQty:function(t){if(t.qty<t.maxorder+50)if(t.qty++,1==this.guest)localStorage.setItem("cart",JSON.stringify(this.cart)),this.setCartExpiry(864e5);else{LoadingOverlay();var e={product_details:t,user_id:this.user.id,org_id:this.org_id};axios.post("/cart/updateQuantity",e).then((function(t){console.log(t),LoadingOverlayHide()})).catch((function(e){t.qty--,console.error(e),LoadingOverlayHide(),alert("Something went wrong! Please Contat Support. "+e)}))}},subQty:function(t){if(t.qty>1)if(t.qty--,1==this.guest)localStorage.setItem("cart",JSON.stringify(this.cart)),this.setCartExpiry(864e5);else{LoadingOverlay();var e={product_details:t,user_id:this.user.id,org_id:this.org_id};axios.post("/cart/updateQuantity",e).then((function(t){console.log(t),LoadingOverlayHide()})).catch((function(e){t.qty++,console.error(e),LoadingOverlayHide(),alert("Something went wrong! Please Contat Support. "+e)}))}},addtoCart:function(t,e,a){var n=this;if(t.selected=!0,1==this.guest)1==t.selected?(this.cart.push(t),localStorage.setItem("cart",JSON.stringify(this.cart))):(this.cart.splice(this.cart.findIndex((function(e){return e.id===t.id})),1),localStorage.setItem("cart",JSON.stringify(this.cart))),localStorage.setItem("cart_badge",this.cart.length),this.setCartExpiry(864e5),this.$events.fire("updateCartBadge","update cart");else{var i=JSON.stringify(t),r=JSON.parse(i);1==t.is_bundle&&(r.selected_products=e,r.atr_orginal_selected_products=a);var s={user_id:this.user.id,org_id:this.org_id,product_id:t.id,qty:t.qty,price:t.price,product_details:r,original_selected_products:a};LoadingOverlay(),axios.post("/cart/addToCart",s).then((function(t){console.log(t),n.$events.fire("updateCartBadge3",t.data),n.cart.push(r),LoadingOverlayHide()})).catch((function(t){console.error(t),LoadingOverlayHide(),alert("Something went wrong! Please Contat Support. "+t)}))}return t},setCartExpiry:function(t){var e=(new Date).getTime()+t;localStorage.setItem("cart_expiry",e)},ifCartExpired:function(){var t=localStorage.getItem("cart_expiry");if(!t)return!0;var e=JSON.parse(t);return(new Date).getTime()>e},updateQty:function(t){return 1==t.selected&&(this.cart.push(t),localStorage.setItem("cart",JSON.stringify(this.cart))),localStorage.setItem("cart_badge",this.cart.length),this.setCartExpiry(864e5),t},displayNumberWithComma:function(t){var e=parseFloat(t).toFixed(2);return Number(e).toLocaleString("en",{minimumFractionDigits:2,maximumFractionDigits:2})}}},i=(a("LRYz"),a("KHd+")),r=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"margin-content-2"},[a("div",{staticClass:"container search-container"},[a("div",{staticClass:"row"},[a("div",{class:"box"==t.display?"col-md-8 col-lg-9":"col-md-8"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 col-md-12 col-sm-12 col-12"},[a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control search-inpt",attrs:{type:"text",placeholder:"Search","aria-describedby":"button-addon2"},domProps:{value:t.search},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.searchBarChange()}],keypress:function(e){return t.searchBarChange()},input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},["search"===this.btn?a("button",{staticClass:"btn btn-outline-success search-btn",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.searchProduct()}}},[a("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})]):a("button",{staticClass:"btn btn-outline-success search-btn-2",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.removeSearchFilter()}}},[a("i",{staticClass:"fas fa-times-circle",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-9 col-sm-9 col-9"},[a("div",{staticClass:"form-group search-cat-cont"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategory,expression:"selectedCategory"}],staticClass:"form-control search-cat",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedCategory=e.target.multiple?a:a[0]},function(e){return t.categoryChange(t.selectedCategory)}]}},[a("option",{attrs:{disabled:"",selected:""}},[t._v("Choose Categories")]),t._v(" "),a("option",{attrs:{value:"All"}},[t._v("All")]),t._v(" "),t._l(t.categories,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(t._s(e.name))])}))],2)])]),t._v(" "),a("div",{staticClass:"col-lg-4 col-md-3 col-sm-3 col-3"},[a("div",{staticClass:"d-flex flex-row-reverse display-cont"},[a("button",{staticClass:"btn btn-outline-success",style:"box"==t.display?"background-color:#339f25; color:white;":"",attrs:{id:"dispaly-grid"},on:{click:function(e){return t.setDisplay("box")}}},[a("i",{staticClass:"fa fa-th",attrs:{"aria-hidden":"true"}})]),t._v(" "),a("button",{staticClass:"btn btn-outline-success mr-2",style:"list"==t.display?"background-color:#339f25; color:white;":"",attrs:{id:"display-list"},on:{click:function(e){return t.setDisplay("list")}}},[a("i",{staticClass:"fa fa-th-list",attrs:{"aria-hidden":"true"}})])])])]),t._v(" "),a("div",{staticClass:"text-left mt-1"},[""!=this.name?a("span",[a("button",{staticClass:"btn btn-secondary btn-sm filter-btn",attrs:{type:"button"},on:{click:function(e){return t.removeSearchFilter()}}},[t._v('\n              "'+t._s(t.name)+'"\n              '),a("i",{staticClass:"fas fa-times-circle"})])]):t._e(),t._v(" "),"All"!=this.selectedCategory?a("span",[a("button",{staticClass:"btn btn-secondary btn-sm filter-btn",attrs:{type:"button"},on:{click:function(e){return t.removeCategoryFilter()}}},[t._v('\n              "'+t._s(t.selectedCategory.name)+'"\n              '),a("i",{staticClass:"fas fa-times-circle"})])]):t._e()])]),t._v(" "),a("div",{class:"box"==t.display?"col-md-4 col-lg-3":"col-md-4"},[a("h6",{staticClass:"text-success"},[t._v(t._s(t.org_name))])])])]),t._v(" "),a("div",{class:"box"==t.display?"container-fluid con-f-margin":"container"},[a("div",{staticClass:"row"},[a("div",{class:"box"==t.display?"col-md-8 col-lg-9 p-0":"col-md-8 p-0"},[0==t.products.length?a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"text-center mt-5"},[""!=this.name&&"All"!=this.selectedCategory?a("div",[t._v('\n                  No Products Found with "'+t._s(this.name)+'" and Category "'+t._s(this.selectedCategory.name)+'".\n                  '),a("div",{staticClass:"text-primary",on:{click:function(e){return t.resetFilter()}}},[a("u",[t._v("Reset Filter / Return to Products")])])]):""!=this.name?a("div",[t._v('\n                  No Products Found with "'+t._s(this.name)+'".\n                  '),a("div",{staticClass:"text-primary",on:{click:function(e){return t.resetFilter()}}},[a("u",[t._v("Reset Filter / Return to Products")])])]):"All"!=this.category?a("div",[t._v('\n                  No Products Found with Category "'+t._s(this.selectedCategory.name)+'".\n                  '),a("div",{staticClass:"text-primary",on:{click:function(e){return t.resetFilter()}}},[a("u",[t._v("Reset Filter / Return to Products")])])]):a("div",[t._v("No Products Yet.")])])])])]):t._e(),t._v(" "),a("products-list",{attrs:{products:t.products,display:t.display,customer_role:t.user.customer_role}}),t._v(" "),a("products-grid",{ref:"productsgrid",attrs:{products:t.products,display:t.display,customer_role:t.user.customer_role}}),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("pagination",{attrs:{data:t.laravelData,limit:5,size:"small",align:"center"},on:{"pagination-change-page":t.getResults}})],1),t._v(" "),a("div",{class:"box"==t.display?"col-md-4 col-lg-3 p-0":"col-md-4 p-0"},[a("products-page-order-summary",{attrs:{cart:t.cart,customer_role:t.user.customer_role,minimum:t.wholesaler_minimum_order_amount,guest:t.guest}})],1)])]),t._v(" "),a("div",{class:"box"==t.display?"container-fluid con-f-margin":"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("ProductsPageModal",{ref:"productmodal",attrs:{guest:t.guest}}),t._v(" "),a("ProductsModalEdit",{ref:"productmodalEdit",attrs:{guest:t.guest}}),t._v(" "),a("products-warning-modal",{attrs:{minimum:t.wholesaler_minimum_order_amount}}),t._v(" "),a("EnterOptionCModal",{attrs:{guest:t.guest,user:t.user}})],1)])])])}),[],!1,null,"375e4d73",null);e.default=r.exports},LRYz:function(t,e,a){"use strict";var n=a("hCZL");a.n(n).a},"O+b3":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".con-f-margin[data-v-375e4d73] {\n  padding-right: 100px;\n  padding-left: 1000px;\n  margin-right: auto;\n  margin-left: auto;\n}\n@media (min-width: 768px) and (max-width: 1455px) {\n.con-f-margin[data-v-375e4d73] {\n    padding-right: 25px;\n    padding-left: 0px;\n}\n}\n@media (min-width: 1456px) {\n.con-f-margin[data-v-375e4d73] {\n    padding-right: 50px;\n    padding-left: 0px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1570px) {\n.con-f-margin[data-v-375e4d73] {\n    padding-right: 50px;\n    padding-left: 50px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1600px) {\n.con-f-margin[data-v-375e4d73] {\n    padding-right: 75px;\n    padding-left: 75px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1700px) {\n.con-f-margin[data-v-375e4d73] {\n    padding-right: 100px;\n    padding-left: 100px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1750px) {\n.con-f-margin[data-v-375e4d73] {\n    padding-right: 125px;\n    padding-left: 125px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1800px) {\n.con-f-margin[data-v-375e4d73] {\n    padding-right: 150px;\n    padding-left: 150px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 1850px) {\n.con-f-margin[data-v-375e4d73] {\n    padding-right: 165px;\n    padding-left: 165px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 2000px) {\n.con-f-margin[data-v-375e4d73] {\n    padding-right: 175px;\n    padding-left: 175px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.con-f-margin[data-v-375e4d73] {\n    margin-top: -20px;\n    padding-right: 15px;\n    padding-left: 15px;\n    margin-right: auto;\n    margin-left: auto;\n}\n}\n.margin-content-2[data-v-375e4d73] {\n  margin-top: 3rem;\n  margin-bottom: 3rem;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.margin-content-2[data-v-375e4d73] {\n    margin-top: 0;\n}\n}\n.filter-btn[data-v-375e4d73] {\n  padding: 0px 5px;\n  font-size: 13px;\n  border-radius: 1rem;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container[data-v-375e4d73] {\n    position: -webkit-sticky;\n    position: sticky;\n    top: 93px;\n    padding-top: 10px;\n    padding-bottom: 5px;\n    background-color: white;\n    z-index: 4;\n}\n}\n.search-container .search-inpt[data-v-375e4d73] {\n  border-radius: 100px 0px 0px 100px;\n  border: 1px solid #339f25;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-inpt[data-v-375e4d73] {\n    height: 30px;\n}\n}\n.search-container .search-btn[data-v-375e4d73] {\n  border-radius: 0px 100px 100px 0px;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-btn[data-v-375e4d73] {\n    height: 30px;\n    font-size: 10px;\n}\n}\n.search-container .search-btn-2[data-v-375e4d73] {\n  border-radius: 0px 100px 100px 0px;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-btn-2[data-v-375e4d73] {\n    height: 30px;\n    font-size: 10px;\n}\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-cat-cont[data-v-375e4d73] {\n    margin-bottom: 0px;\n}\n}\n.search-container .search-cat-cont .search-cat[data-v-375e4d73] {\n  border-radius: 100px;\n  border: 1px solid #339f25;\n  padding: 0px 10px 0px 10px;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .search-cat-cont .search-cat[data-v-375e4d73] {\n    height: 30px;\n    font-size: 10px;\n}\n}\n.search-container .display-cont #display-list.btn[data-v-375e4d73] {\n  border-radius: 48%;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .display-cont #display-list.btn[data-v-375e4d73] {\n    padding: 1px 5px 1px 5px;\n}\n}\n.search-container .display-cont #dispaly-grid.btn[data-v-375e4d73] {\n  border-radius: 48%;\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .display-cont #dispaly-grid.btn[data-v-375e4d73] {\n    padding: 1px 5px 1px 5px;\n}\n}\n@media (min-width: 300px) and (max-width: 767px) {\n.search-container .display-cont[data-v-375e4d73] {\n    height: 30px;\n}\n}",""])},hCZL:function(t,e,a){var n=a("O+b3");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(t.exports=n.locals)}}]);
//# sourceMappingURL=products.js.map