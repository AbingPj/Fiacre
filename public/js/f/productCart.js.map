{"version":3,"sources":["webpack:///./resources/js/frontend/components/cart.vue?d526","webpack:///resources/js/frontend/components/cart.vue","webpack:///./resources/js/frontend/components/cart.vue?cca2","webpack:///./resources/js/frontend/components/cart.vue"],"names":["component","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","checkoutPage","staticStyle","attrs","_v","_s","cart_badge"],"mappings":"mGAAA,I,sWCiBA,ICjB0M,EDiB1M,CACA,OACA,QACA,aACA,kCACA,eACA,UACA,SACA,gBAEA,KAVA,WAWA,OACA,QACA,WACA,gBAGA,UACA,WADA,WAEA,QAMA,KACA,OALA,EADA,cACA,iBAEA,kBAIA,IAEA,WAGA,QAhCA,WAuCA,GANA,qCAGA,oCAGA,cACA,8BACA,aACA,uDACA,oDACA,gBAEA,mBAEA,CACA,2BACA,qBACA,mBACA,kBACA,wBACA,0BACA,6BACA,2CACA,0CACA,YAEA,kDACA,YAEA,wDACA,YAEA,qBAEA,oBACA,qBAGQ,EAAR,sBACA,0BACA,+BAIA,SACA,aADA,WAGA,kCAGA,cANA,WAOA,0CACA,MACA,SAEA,oBAEA,OADA,UACA,aAKA,QAlBA,WAkBA,qHACA,kBADA,gCAGA,iDAHA,gDAGA,GAHA,OAEA,EAFA,KAIA,SACA,iDALA,8CAQA,SA1BA,WA0BA,kHACA,uBACA,MACA,IADA,iCACA,UADA,YACA,IACA,kBACA,wBAHA,OAKA,YACA,oBARA,8CAWA,SArCA,SAqCA,+GACA,MACA,IADA,iCACA,UADA,YACA,IACA,kBACA,wBAHA,OAKA,YACA,oBAPA,+CAWA,QACA,gBADA,SACA,GACA,eACA,gBAEA,iBALA,SAKA,GACA,eACA,iBAEA,iBATA,SASA,GACA,oBAEA,iBAZA,SAYA,GACA,oB,YErJIA,EAAY,YACd,GHRW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIS,kBAAkB,CAACL,EAAG,IAAI,CAACE,YAAY,WAAWI,YAAY,CAAC,QAAU,QAAQ,CAACN,EAAG,IAAI,CAACE,YAAY,mBAAmBI,YAAY,CAAC,YAAY,OAAO,MAAQ,YAAY,CAACN,EAAG,OAAO,CAACE,YAAY,+BAA+BI,YAAY,CAAC,YAAY,QAAQC,MAAM,CAAC,GAAK,oBAAoB,CAACX,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIc,uBACpd,IGUpB,EACA,KACA,KACA,MAIa,UAAAf,E","file":"js/f/productCart.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"nav-item cart-item\",on:{\"click\":function($event){return _vm.checkoutPage()}}},[_c('a',{staticClass:\"nav-link\",staticStyle:{\"padding\":\"0px\"}},[_c('i',{staticClass:\"fas fa-cart-plus\",staticStyle:{\"font-size\":\"30px\",\"color\":\"#339f25\"}},[_c('span',{staticClass:\"badge badge-danger align-top\",staticStyle:{\"font-size\":\"10px\"},attrs:{\"id\":\"sunfarm-badge-1\"}},[_vm._v(_vm._s(_vm.cart_badge))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<li class=\"nav-item cart-item\" @click=\"checkoutPage()\">\r\n\t\t<a style=\"padding: 0px\" class=\"nav-link\">\r\n\t\t\t<!-- <img src=\"/img/sunfarmacy/Icon-awesome-cart-plus.svg\" style=\"width:auto; height:30px;\" /> -->\r\n\t\t\t<i class=\"fas fa-cart-plus\" style=\"font-size: 30px; color: #339f25\">\r\n\t\t\t\t<span\r\n\t\t\t\t\tstyle=\"font-size: 10px\"\r\n\t\t\t\t\tid=\"sunfarm-badge-1\"\r\n\t\t\t\t\tclass=\"badge badge-danger align-top\"\r\n\t\t\t\t\t>{{ cart_badge }}</span\r\n\t\t\t\t>\r\n\t\t\t</i>\r\n\t\t</a>\r\n\t</li>\r\n</template>\r\n<script>\r\n\timport cookies from \"js-cookie\";\r\n\texport default {\r\n\t\tprops: [\r\n\t\t\t\"guest\",\r\n\t\t\t\"clear_cart\",\r\n\t\t\t\"wholesaler_minimum_order_amount\",\r\n\t\t\t\"guest_status\",\r\n\t\t\t\"user_id\",\r\n\t\t\t\"org_id\",\r\n\t\t\t\"organization\",\r\n\t\t],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcart: [],\r\n\t\t\t\tmessage: \"\",\r\n\t\t\t\tcountFromDB: 0,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tcart_badge() {\r\n\t\t\t\tvar length = 0;\r\n\t\t\t\tif (this.guest == 1) {\r\n\t\t\t\t\tlength = this.cart.length;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlength = this.countFromDB;\r\n\t\t\t\t}\r\n\t\t\t\tvar badge = \"\";\r\n\t\t\t\tif (length != 0) {\r\n\t\t\t\t\tvar badge = length;\r\n\t\t\t\t}\r\n\t\t\t\treturn badge;\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif (this.guest_status != \"guest-checkout\") {\r\n\t\t\t\t//  loadingOverlay().cancel(spinHandle);\r\n\t\t\t\t//  LoadingOverlay();\r\n\t\t\t\tloadingOverlay().cancel(spinHandle);\r\n\t\t\t}\r\n\r\n\t\t\tif (this.guest == 1) {\r\n\t\t\t\tif (this.clear_cart == \"clearcart\") {\r\n\t\t\t\t\tthis.cart = [];\r\n\t\t\t\t\tlocalStorage.setItem(\"cart\", JSON.stringify(this.cart));\r\n\t\t\t\t\tlocalStorage.setItem(\"cart_badge\", this.cart.length);\r\n\t\t\t\t\tthis.getCart();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.getCart();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar ff_org_id = cookies.get(\"ff-org-id\");\r\n\t\t\t\tif (this.organization) {\r\n\t\t\t\t\tif (ff_org_id != this.org_id) {\r\n\t\t\t\t\t\tconsole.log(\"if\");\r\n\t\t\t\t\t\tcookies.remove(\"ff-org-id\");\r\n\t\t\t\t\t\tcookies.remove(\"ff-org-name\");\r\n\t\t\t\t\t\tcookies.remove(\"ff-org-address\");\r\n\t\t\t\t\t\tconst expiryTime = new Date(new Date().getTime() + 86400 * 1000);\r\n\t\t\t\t\t\tcookies.set(\"ff-org-id\", this.organization.id, {\r\n\t\t\t\t\t\t\texpires: expiryTime,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tcookies.set(\"ff-org-name\", this.organization.org_name, {\r\n\t\t\t\t\t\t\texpires: expiryTime,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tcookies.set(\"ff-org-address\", this.organization.atr_address, {\r\n\t\t\t\t\t\t\texpires: expiryTime,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.getCart2();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(\"else\");\r\n\t\t\t\t\t\tthis.getCart2();\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n                    cookies.remove(\"ff-org-id\");\r\n\t\t\t\t\t\tcookies.remove(\"ff-org-name\");\r\n\t\t\t\t\t\tcookies.remove(\"ff-org-address\");\r\n                }\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckoutPage() {\r\n\t\t\t\t//   window.location.href = \"/products/checkout\";\r\n\t\t\t\twindow.location.href = \"/products\";\r\n\t\t\t},\r\n\r\n\t\t\tifCartExpired() {\r\n\t\t\t\tconst itemStr = localStorage.getItem(\"cart_expiry\");\r\n\t\t\t\tif (!itemStr) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tconst item = JSON.parse(itemStr);\r\n\t\t\t\tconst now = new Date();\r\n\t\t\t\tif (now.getTime() > item) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tasync getCart() {\r\n\t\t\t\tif (!this.ifCartExpired()) {\r\n\t\t\t\t\tlet lastcart =\r\n\t\t\t\t\t\t(await JSON.parse(localStorage.getItem(\"cart\") || \"null\")) || [];\r\n\t\t\t\t\tthis.cart = lastcart;\r\n\t\t\t\t\tlocalStorage.setItem(\"cart_badge\", this.cart.length);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getCart2() {\r\n\t\t\t\tvar org_id = cookies.get(\"ff-org-id\");\r\n\t\t\t\taxios\r\n\t\t\t\t\t.get(`/cart/getUserCartCount/${this.user_id}/${org_id}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tthis.countFromDB = res.data;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync getCart3(data) {\r\n\t\t\t\taxios\r\n\t\t\t\t\t.get(`/cart/getUserCartCount/${this.user_id}/${data}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tthis.countFromDB = res.data;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tconsole.error(err);\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tevents: {\r\n\t\t\tupdateCartBadge(message) {\r\n\t\t\t\tthis.message = message;\r\n\t\t\t\tthis.getCart();\r\n\t\t\t},\r\n\t\t\tupdateCartBadge2(message) {\r\n\t\t\t\tthis.message = message;\r\n\t\t\t\tthis.getCart2();\r\n\t\t\t},\r\n\t\t\tupdateCartBadge3(message) {\r\n\t\t\t\tthis.countFromDB = message;\r\n\t\t\t},\r\n\t\t\tupdateCartBadge4(data) {\r\n\t\t\t\tthis.getCart3(data);\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=7ce4c55a&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}