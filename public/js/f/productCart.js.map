{"version":3,"sources":["webpack:///./resources/js/frontend/components/cart.vue?ae9a","webpack:///resources/js/frontend/components/cart.vue","webpack:///./resources/js/frontend/components/cart.vue?cca2","webpack:///./resources/js/frontend/components/cart.vue"],"names":["component","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","checkoutPage","staticStyle","attrs","_v","_s","cart_badge"],"mappings":"mGAAA,I,sWCiBA,ICjB0M,EDiB1M,CACA,OACA,QACA,aACA,kCACA,eACA,UACA,SACA,gBAEA,KAVA,WAWA,OACA,QACA,WACA,gBAGA,UACA,WADA,WAEA,QAMA,KACA,OALA,EADA,cACA,iBAEA,kBAIA,IAEA,WAGA,QAhCA,WAuCA,GANA,qCAGA,oCAGA,cACA,8BACA,aACA,uDACA,oDACA,gBAEA,mBAEA,CACA,2BACA,qBACA,mBACA,kBACA,wBACA,0BACA,6BACA,2CACA,0CACA,YAEA,kDACA,YAEA,wDACA,YAEA,qBAEA,oBACA,qBAGQ,EAAR,sBACA,0BACA,+BAIA,SACA,aADA,WAGA,kCAGA,cANA,WAOA,0CACA,MACA,SAEA,oBAEA,OADA,UACA,aAKA,QAlBA,WAkBA,qHACA,kBADA,gCAGA,iDAHA,gDAGA,GAHA,OAEA,EAFA,KAIA,SACA,iDALA,8CAQA,SA1BA,WA0BA,kHACA,uBACA,MACA,IADA,iCACA,UADA,YACA,IACA,kBACA,wBAHA,OAKA,YACA,oBARA,8CAWA,SArCA,SAqCA,+GACA,MACA,IADA,iCACA,UADA,YACA,IACA,kBACA,wBAHA,OAKA,YACA,oBAPA,+CAWA,QACA,gBADA,SACA,GACA,eACA,gBAEA,iBALA,SAKA,GACA,eACA,iBAEA,iBATA,SASA,GACA,oBAEA,iBAZA,SAYA,GACA,oB,YErJIA,EAAY,YACd,GHRW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACE,YAAY,qBAAqBC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIS,kBAAkB,CAACL,EAAG,IAAI,CAACE,YAAY,WAAWI,YAAY,CAAC,QAAU,QAAQ,CAACN,EAAG,IAAI,CAACE,YAAY,mBAAmBI,YAAY,CAAC,YAAY,OAAO,MAAQ,YAAY,CAACN,EAAG,OAAO,CAACE,YAAY,+BAA+BI,YAAY,CAAC,YAAY,QAAQC,MAAM,CAAC,GAAK,oBAAoB,CAACX,EAAIY,GAAGZ,EAAIa,GAAGb,EAAIc,uBACpd,IGUpB,EACA,KACA,KACA,MAIa,UAAAf,E","file":"js/f/productCart.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"nav-item cart-item\",on:{\"click\":function($event){return _vm.checkoutPage()}}},[_c('a',{staticClass:\"nav-link\",staticStyle:{\"padding\":\"0px\"}},[_c('i',{staticClass:\"fas fa-cart-plus\",staticStyle:{\"font-size\":\"30px\",\"color\":\"#339f25\"}},[_c('span',{staticClass:\"badge badge-danger align-top\",staticStyle:{\"font-size\":\"10px\"},attrs:{\"id\":\"sunfarm-badge-1\"}},[_vm._v(_vm._s(_vm.cart_badge))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<li class=\"nav-item cart-item\" @click=\"checkoutPage()\">\n\t\t<a style=\"padding: 0px\" class=\"nav-link\">\n\t\t\t<!-- <img src=\"/img/sunfarmacy/Icon-awesome-cart-plus.svg\" style=\"width:auto; height:30px;\" /> -->\n\t\t\t<i class=\"fas fa-cart-plus\" style=\"font-size: 30px; color: #339f25\">\n\t\t\t\t<span\n\t\t\t\t\tstyle=\"font-size: 10px\"\n\t\t\t\t\tid=\"sunfarm-badge-1\"\n\t\t\t\t\tclass=\"badge badge-danger align-top\"\n\t\t\t\t\t>{{ cart_badge }}</span\n\t\t\t\t>\n\t\t\t</i>\n\t\t</a>\n\t</li>\n</template>\n<script>\n\timport cookies from \"js-cookie\";\n\texport default {\n\t\tprops: [\n\t\t\t\"guest\",\n\t\t\t\"clear_cart\",\n\t\t\t\"wholesaler_minimum_order_amount\",\n\t\t\t\"guest_status\",\n\t\t\t\"user_id\",\n\t\t\t\"org_id\",\n\t\t\t\"organization\",\n\t\t],\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcart: [],\n\t\t\t\tmessage: \"\",\n\t\t\t\tcountFromDB: 0,\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\tcart_badge() {\n\t\t\t\tvar length = 0;\n\t\t\t\tif (this.guest == 1) {\n\t\t\t\t\tlength = this.cart.length;\n\t\t\t\t} else {\n\t\t\t\t\tlength = this.countFromDB;\n\t\t\t\t}\n\t\t\t\tvar badge = \"\";\n\t\t\t\tif (length != 0) {\n\t\t\t\t\tvar badge = length;\n\t\t\t\t}\n\t\t\t\treturn badge;\n\t\t\t},\n\t\t},\n\t\tcreated() {\n\t\t\tif (this.guest_status != \"guest-checkout\") {\n\t\t\t\t//  loadingOverlay().cancel(spinHandle);\n\t\t\t\t//  LoadingOverlay();\n\t\t\t\tloadingOverlay().cancel(spinHandle);\n\t\t\t}\n\n\t\t\tif (this.guest == 1) {\n\t\t\t\tif (this.clear_cart == \"clearcart\") {\n\t\t\t\t\tthis.cart = [];\n\t\t\t\t\tlocalStorage.setItem(\"cart\", JSON.stringify(this.cart));\n\t\t\t\t\tlocalStorage.setItem(\"cart_badge\", this.cart.length);\n\t\t\t\t\tthis.getCart();\n\t\t\t\t} else {\n\t\t\t\t\tthis.getCart();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar ff_org_id = cookies.get(\"ff-org-id\");\n\t\t\t\tif (this.organization) {\n\t\t\t\t\tif (ff_org_id != this.org_id) {\n\t\t\t\t\t\tconsole.log(\"if\");\n\t\t\t\t\t\tcookies.remove(\"ff-org-id\");\n\t\t\t\t\t\tcookies.remove(\"ff-org-name\");\n\t\t\t\t\t\tcookies.remove(\"ff-org-address\");\n\t\t\t\t\t\tconst expiryTime = new Date(new Date().getTime() + 86400 * 1000);\n\t\t\t\t\t\tcookies.set(\"ff-org-id\", this.organization.id, {\n\t\t\t\t\t\t\texpires: expiryTime,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcookies.set(\"ff-org-name\", this.organization.org_name, {\n\t\t\t\t\t\t\texpires: expiryTime,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcookies.set(\"ff-org-address\", this.organization.atr_address, {\n\t\t\t\t\t\t\texpires: expiryTime,\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.getCart2();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log(\"else\");\n\t\t\t\t\t\tthis.getCart2();\n\t\t\t\t\t}\n\t\t\t\t}else{\n                    cookies.remove(\"ff-org-id\");\n\t\t\t\t\t\tcookies.remove(\"ff-org-name\");\n\t\t\t\t\t\tcookies.remove(\"ff-org-address\");\n                }\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tcheckoutPage() {\n\t\t\t\t//   window.location.href = \"/products/checkout\";\n\t\t\t\twindow.location.href = \"/products\";\n\t\t\t},\n\n\t\t\tifCartExpired() {\n\t\t\t\tconst itemStr = localStorage.getItem(\"cart_expiry\");\n\t\t\t\tif (!itemStr) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tconst item = JSON.parse(itemStr);\n\t\t\t\tconst now = new Date();\n\t\t\t\tif (now.getTime() > item) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tasync getCart() {\n\t\t\t\tif (!this.ifCartExpired()) {\n\t\t\t\t\tlet lastcart =\n\t\t\t\t\t\t(await JSON.parse(localStorage.getItem(\"cart\") || \"null\")) || [];\n\t\t\t\t\tthis.cart = lastcart;\n\t\t\t\t\tlocalStorage.setItem(\"cart_badge\", this.cart.length);\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync getCart2() {\n\t\t\t\tvar org_id = cookies.get(\"ff-org-id\");\n\t\t\t\taxios\n\t\t\t\t\t.get(`/cart/getUserCartCount/${this.user_id}/${org_id}`)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tthis.countFromDB = res.data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tasync getCart3(data) {\n\t\t\t\taxios\n\t\t\t\t\t.get(`/cart/getUserCartCount/${this.user_id}/${data}`)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tthis.countFromDB = res.data;\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\t\t\t},\n\t\t},\n\t\tevents: {\n\t\t\tupdateCartBadge(message) {\n\t\t\t\tthis.message = message;\n\t\t\t\tthis.getCart();\n\t\t\t},\n\t\t\tupdateCartBadge2(message) {\n\t\t\t\tthis.message = message;\n\t\t\t\tthis.getCart2();\n\t\t\t},\n\t\t\tupdateCartBadge3(message) {\n\t\t\t\tthis.countFromDB = message;\n\t\t\t},\n\t\t\tupdateCartBadge4(data) {\n\t\t\t\tthis.getCart3(data);\n\t\t\t},\n\t\t},\n\t};\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=191784cc&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}