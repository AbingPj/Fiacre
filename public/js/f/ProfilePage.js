/*! For license information please see ProfilePage.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{DXFk:function(t,e,n){(t.exports=n("I1BE")(!1)).push([t.i,".s-user-type .md-radio[data-v-ce58a95c] {\n  display: flex;\n}\n.my-select[data-v-ce58a95c] {\n  padding: 0px;\n  margin: 0px;\n  border-top: 0px;\n  border-left: 0px;\n  border-right: 0px;\n}",""])},Hzhe:function(t,e,n){"use strict";n.r(e);var i=n("o0o1"),s=n.n(i),r=n("e7F3"),a=n("TJPC");function o(t,e,n,i,s,r,a){try{var o=t[r](a),c=o.value}catch(t){return void n(t)}o.done?e(c):Promise.resolve(c).then(i,s)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(i,s){var r=t.apply(e,n);function a(t){o(r,i,s,a,c,"next",t)}function c(t){o(r,i,s,a,c,"throw",t)}a(void 0)}))}}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object(r.c)("required",u(u({},a.c),{},{message:"This field is required"}));var m={components:{"cancel-membership-modal":function(){return n.e(69).then(n.bind(null,"yQ+E"))},"user-type-component":function(){return n.e(71).then(n.bind(null,"Vpm5"))},"card-holder":function(){return n.e(70).then(n.bind(null,"zd9h"))},"business-information":function(){return n.e(68).then(n.bind(null,"9dT4"))}},props:["propsuser","propscities","propsstates","action","propssunclub_choices","wholesaler_discount","cancel_action","cc_sc_action","cc_ws_action","ach_sc_action","ach_ws_action"],data:function(){return{profileImage:"/img/sunfarmacy/default-user.png",userType:"1",selectedAmount:1,billingType:"1",states:[],cities:[],selectedCity:"",selectedState:"",user:{},oraganization:{},sunclub_choices:[],sun_is_cancelled:0,expiration_date:"",edit:!1,csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),timer:null,cities2:[],selectedCity2:null,search_cities:[],searching_cities:"",value:null,countries:[],contactNumber2:null,results:{},defaultCountry:"US",countriesList:["US"],contactNumberType:"Home",editOrganization:!1,optionc_id:null}},created:function(){this.getStates(),this.user=this.propsuser,this.propsuser.organization&&(this.oraganization=this.propsuser.organization),this.profileImage=this.user.image_path,this.selectedCity=this.user.city,this.contactNumber2=this.user.contact_number,this.contactNumberType=this.user.contact_number_type,"CC"==this.user.billinginfo.CC_or_ACH?this.billingType="1":this.billingType="2",this.sunclub_choices=this.propssunclub_choices,this.selectedAmount=this.user.sunclub_choice_id,this.userType=""+this.user.customer_role,2==this.user.customer_role&&(this.sun_is_cancelled=this.user.sunclub.is_cancelled,this.expiration_date=this.user.sunclub.expiration_date)},computed:{getCities:function(){var t=this.propscities,e=this.selectedState;return t.filter((function(t){return t.state_id==e}))},bgetCities:function(){var t=this.propscities,e=this.bselectedState;return t.filter((function(t){return t.state_id==e}))}},methods:{submitOptionCId:function(){var t=this;LoadingOverlay();var e={optionc_id:this.optionc_id};axios.post("/api/UpdateSelectedOrganization2",e).then((function(t){window.location.href="/myprofile"})).catch((function(e){if(console.error(e),console.log(e.response.data.data_message),console.log(e.response),400==e.response.status){var n=[];n.push(e.response.data.data_message),t.showErrorMessage(n)}else t.errors.record(e.response.data.errors),t.showErrorMessage(t.errors.getArrayOfMessages());window.scrollTo(0,0),LoadingOverlayHide()}))},showErrorMessage:function(t){this.$events.fire("showErrorMessage",t)},onlyNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&t.preventDefault()},SelectOrganizationMOdalShow:function(){$("#selectOrganizationModal2").modal("show")},onUpdate:function(t){this.results=t},clickEdit:function(){this.edit=!0,this.$refs.cardholder.Cancel()},getCitiesForAutocomplete:function(t){var e=this;new Promise((function(n){window.setTimeout((function(){if(t){var i=t.toLowerCase();n(e.getCities2(i))}else e.getCities2()}),1e3)}))},getSearchCities:function(){var t=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){t.getCities2()}),700)},getCities2:function(){var t=arguments,e=this;return c(s.a.mark((function n(){var i,r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:null,r={search:i},n.next=4,axios({method:"get",url:"/data/searchcities",params:r}).then((function(t){e.cities2=t.data}));case 4:case"end":return n.stop()}}),n)})))()},getStates:function(){this.states=this.propsstates,this.bstates=this.propsstates},onFileChange:function(t){console.log(t);var e=t.target.files[0];this.profileImage=URL.createObjectURL(e)}}},p=(n("aJd0"),n("KHd+")),v=Object(p.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"flex-grow-1"},[n("b-container",{staticClass:"py-5"},[n("b-row",[n("b-col",{attrs:{md:"8"}},[n("div",{staticClass:"d-flex mb-3"},[n("div",{staticClass:"w-50"},[n("h3",[n("b",[t._v("PROFILE")])])])]),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"3"}},[n("div",{class:1==t.edit?"border border-info p-2":""},[n("img",{staticClass:"w-100",attrs:{src:t.profileImage}}),t._v(" "),n("md-field",[n("label",[t._v("Select image")]),t._v(" "),n("md-file",{attrs:{name:"image_file",disabled:1==!t.edit},on:{change:t.onFileChange}})],1)],1)]),t._v(" "),n("b-col",[n("div",{class:1==t.edit?"border border-info p-2":""},[n("h4",{staticClass:"font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\t\tUser Information\n\t\t\t\t\t\t\t\t\t\t"),n("button",{staticClass:"btn btn-success float-right",class:1==t.edit?"d-none":"",attrs:{type:"button"},on:{click:function(e){return t.clickEdit()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tEDIT\n\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),n("button",{staticClass:"btn btn-danger float-right",class:0==t.edit?"d-none":"",attrs:{type:"button"},on:{click:function(e){t.edit=!1}}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t")])]),t._v(" "),n("md-field",[n("label",[t._v("Email")]),t._v(" "),n("md-input",{attrs:{disabled:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"2"}},[n("md-field",[n("label",[t._v("Title")]),t._v(" "),n("md-select",{attrs:{name:"title"},model:{value:t.user.title,callback:function(e){t.$set(t.user,"title",e)},expression:"user.title"}},[n("md-option",{attrs:{value:"Mr."}},[t._v("Mr.")]),t._v(" "),n("md-option",{attrs:{value:"Ms."}},[t._v("Ms.")]),t._v(" "),n("md-option",{attrs:{value:"Mrs."}},[t._v("Mrs.")])],1)],1)],1),t._v(" "),n("b-col",{attrs:{md:"5"}},[n("md-field",[n("label",[t._v("Firt name")]),t._v(" "),n("md-input",{attrs:{name:"first_name",required:"",disabled:1==!t.edit},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"5"}},[n("md-field",[n("label",[t._v("Last name")]),t._v(" "),n("md-input",{attrs:{name:"last_name",required:"",disabled:1==!t.edit},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1)],1)],1),t._v(" "),n("md-field",[n("label",[t._v("Street Address")]),t._v(" "),n("md-input",{attrs:{name:"street_address",required:"",disabled:1==!t.edit},model:{value:t.user.street_address,callback:function(e){t.$set(t.user,"street_address",e)},expression:"user.street_address"}})],1),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"4"}},[n("md-autocomplete",{attrs:{"md-input-name":"city","md-options":t.cities2,disabled:1==!t.edit},on:{"md-changed":t.getCitiesForAutocomplete,"md-opened":t.getCitiesForAutocomplete},scopedSlots:t._u([{key:"md-autocomplete-item",fn:function(e){var n=e.item;return[t._v(t._s(n))]}}]),model:{value:t.user.city,callback:function(e){t.$set(t.user,"city",e)},expression:"user.city"}},[n("label",[t._v("Town/County/City")])])],1),t._v(" "),n("b-col",{attrs:{md:"4"}},[n("md-field",[n("label",{attrs:{for:"font"}},[t._v("State")]),t._v(" "),n("md-select",{attrs:{"md-dense":""},model:{value:t.user.state,callback:function(e){t.$set(t.user,"state",e)},expression:"user.state"}},t._l(t.states,(function(e,i){return n("md-option",{key:i,attrs:{value:e.id,disabled:1==!t.edit}},[t._v(t._s(e.name))])})),1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.state,expression:"user.state"}],attrs:{name:"state",type:"hidden"},domProps:{value:t.user.state},on:{input:function(e){e.target.composing||t.$set(t.user,"state",e.target.value)}}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"4"}},[n("md-field",[n("label",[t._v("Zip")]),t._v(" "),n("md-input",{attrs:{name:"zipcode",required:"",disabled:1==!t.edit},model:{value:t.user.zipcode,callback:function(e){t.$set(t.user,"zipcode",e)},expression:"user.zipcode"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("label",{staticClass:"text-left float-left"},[t._v("Contact Number")])])]),t._v(" "),n("div",{staticClass:"form-row"},[n("div",{staticClass:"form-group col-md-3"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.contactNumberType,expression:"contactNumberType"}],staticClass:"custom-select",attrs:{name:"contact_number_type",disabled:1==!t.edit},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.contactNumberType=e.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",value:"Home"}},[t._v("Home")]),t._v(" "),n("option",{attrs:{value:"Work"}},[t._v("Work")]),t._v(" "),n("option",{attrs:{value:"Cell"}},[t._v("Cell")])])]),t._v(" "),n("div",{staticClass:"form-group col-md-9"},[n("vue-phone-number-input",{attrs:{name:"contact_number","default-country-code":t.defaultCountry,"no-country-selector":"",disabled:1==!t.edit},on:{update:t.onUpdate},model:{value:t.contactNumber2,callback:function(e){t.contactNumber2=e},expression:"contactNumber2"}})],1)]),t._v(" "),1==t.edit?n("b-row",[n("b-col",{attrs:{md:"12"}},[n("br"),t._v(" "),n("br"),t._v(" "),n("p",[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\tBy clicking Submit, I confirm that the given\n\t\t\t\t\t\t\t\t\t\t\t\tinformation is true, complete and accurate.\n\t\t\t\t\t\t\t\t\t\t\t")]),t._v(" "),n("b-button",{staticClass:"float-right",attrs:{onclick:"LoadingOverlay()",type:"submit",variant:"success",disabled:0==t.results.isValid}},[t._v("Submit")])],1)],1):t._e()],1),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("card-holder",{ref:"cardholder",attrs:{propuser:t.user,billing_type:t.billingType,edit:t.edit,cc_sc_action:t.cc_sc_action,cc_ws_action:t.cc_ws_action,ach_sc_action:t.ach_sc_action,ach_ws_action:t.ach_ws_action}})],1)],1)],1),t._v(" "),n("b-col",{attrs:{md:"4"}},[n("md-card",{staticClass:"mb-4 mt-4"},[n("md-card-content",[t.editOrganization?n("div",{staticClass:"p-3"},[t._v("\n\t\t\t\t\t\t\t\t\tEnter Your Organization(School/Parish) ID:\n\t\t\t\t\t\t\t\t\t"),n("br"),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.optionc_id,expression:"optionc_id"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.optionc_id},on:{keypress:t.onlyNumber,input:function(e){e.target.composing||(t.optionc_id=e.target.value)}}}),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.editOrganization=!1}}},[t._v("\n\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),n("button",{staticClass:"btn btn-info btn-sm float-right",attrs:{type:"button"},on:{click:function(e){return t.submitOptionCId()}}},[t._v("\n\t\t\t\t\t\t\t\t\t\tSave Changes\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),n("br")]):n("div",{staticClass:"p-3"},[t._v("\n\t\t\t\t\t\t\t\t\tSelected Organization\n\t\t\t\t\t\t\t\t\t"),n("br"),t._v(" "),t.oraganization.org_name?n("span",[t._v("\n\t\t\t\t\t\t\t\t\t\tname: "),n("b",[t._v(t._s(t.oraganization.org_name))])]):t._e(),t._v(" "),n("br"),t._v(" "),t.oraganization.org_optionc_id?n("span",[t._v("\n\t\t\t\t\t\t\t\t\t\toptionC id:"),n("b",[t._v(t._s(t.oraganization.org_optionc_id))])]):t._e(),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){t.editOrganization=!0}}},[t._v("\n\t\t\t\t\t\t\t\t\t\tChange\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),n("br")])])],1)],1)],1)],1)],1)])}),[],!1,null,"ce58a95c",null);e.default=v.exports},TJPC:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}));var i={validate:function(t,e){var n=(void 0===e?{}:e).multiple,i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n&&!Array.isArray(t)&&(t=String(t).split(",").map((function(t){return t.trim()}))),Array.isArray(t)?t.every((function(t){return i.test(String(t))})):i.test(String(t))},params:[{name:"multiple",default:!1}]};function s(t){return null==t}function r(t){return Array.isArray(t)&&0===t.length}var a={validate:function(t,e){return t===e.other},params:[{name:"other"}]},o={validate:function(t,e){var n=(void 0===e?{allowFalse:!0}:e).allowFalse,i={valid:!1,required:!0};return s(t)||r(t)?i:!1!==t||n?(i.valid=!!String(t).trim().length,i):i},params:[{name:"allowFalse",default:!0}],computesRequired:!0}},W7z6:function(t,e,n){var i=n("DXFk");"string"==typeof i&&(i=[[t.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,s);i.locals&&(t.exports=i.locals)},aJd0:function(t,e,n){"use strict";var i=n("W7z6");n.n(i).a}}]);
//# sourceMappingURL=ProfilePage.js.map