(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{"+Q6S":function(e,t,s){"use strict";var i=s("RE6/");s.n(i).a},"8NoZ":function(e,t,s){(e.exports=s("I1BE")(!1)).push([e.i,".s-user-type .md-radio[data-v-77fc1b4a] {\n  display: flex;\n}\n.my-select[data-v-77fc1b4a] {\n  padding: 0px;\n  margin: 0px;\n  border-top: 0px;\n  border-left: 0px;\n  border-right: 0px;\n}",""])},Hzhe:function(e,t,s){"use strict";s.r(t);var i=s("o0o1"),n=s.n(i),r=s("e7F3"),a=s("TJPC");function c(e,t,s,i,n,r,a){try{var c=e[r](a),o=c.value}catch(e){return void s(e)}c.done?t(o):Promise.resolve(o).then(i,n)}function o(e){return function(){var t=this,s=arguments;return new Promise((function(i,n){var r=e.apply(t,s);function a(e){c(r,i,n,a,o,"next",e)}function o(e){c(r,i,n,a,o,"throw",e)}a(void 0)}))}}function l(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function u(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?l(Object(s),!0).forEach((function(t){d(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}Object(r.c)("required",u(u({},a.c),{},{message:"This field is required"}));var m={components:{"cancel-membership-modal":function(){return s.e(68).then(s.bind(null,"yQ+E"))},"user-type-component":function(){return s.e(70).then(s.bind(null,"Vpm5"))},"card-holder":function(){return s.e(69).then(s.bind(null,"zd9h"))},"business-information":function(){return s.e(67).then(s.bind(null,"9dT4"))}},props:["propsuser","propscities","propsstates","action","propssunclub_choices","wholesaler_discount","cancel_action","cc_sc_action","cc_ws_action","ach_sc_action","ach_ws_action"],data:function(){return{profileImage:"/img/sunfarmacy/default-user.png",userType:"1",selectedAmount:1,billingType:"1",states:[],cities:[],selectedCity:"",selectedState:"",user:{},sunclub_choices:[],sun_is_cancelled:0,expiration_date:"",edit:!1,csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),timer:null,cities2:[],selectedCity2:null,search_cities:[],searching_cities:"",value:null,countries:[],contactNumber2:null,results:{},defaultCountry:"US",countriesList:["US"],contactNumberType:"Home"}},created:function(){this.getStates(),this.user=this.propsuser,this.profileImage=this.user.image_path,this.selectedCity=this.user.city,this.contactNumber2=this.user.contact_number,this.contactNumberType=this.user.contact_number_type,"CC"==this.user.billinginfo.CC_or_ACH?this.billingType="1":this.billingType="2",this.sunclub_choices=this.propssunclub_choices,this.selectedAmount=this.user.sunclub_choice_id,this.userType=""+this.user.customer_role,2==this.user.customer_role&&(this.sun_is_cancelled=this.user.sunclub.is_cancelled,this.expiration_date=this.user.sunclub.expiration_date)},computed:{getCities:function(){var e=this.propscities,t=this.selectedState;return e.filter((function(e){return e.state_id==t}))},bgetCities:function(){var e=this.propscities,t=this.bselectedState;return e.filter((function(e){return e.state_id==t}))}},methods:{onUpdate:function(e){this.results=e},clickEdit:function(){this.edit=!0,this.$refs.cardholder.Cancel()},getCitiesForAutocomplete:function(e){var t=this;new Promise((function(s){window.setTimeout((function(){if(e){var i=e.toLowerCase();s(t.getCities2(i))}else t.getCities2()}),1e3)}))},getSearchCities:function(){var e=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){e.getCities2()}),700)},getCities2:function(){var e=arguments,t=this;return o(n.a.mark((function s(){var i,r;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:null,r={search:i},s.next=4,axios({method:"get",url:"/data/searchcities",params:r}).then((function(e){t.cities2=e.data}));case 4:case"end":return s.stop()}}),s)})))()},getStates:function(){this.states=this.propsstates,this.bstates=this.propsstates},onFileChange:function(e){console.log(e);var t=e.target.files[0];this.profileImage=URL.createObjectURL(t)}}},p=(s("+Q6S"),s("KHd+")),_=Object(p.a)(m,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"flex-grow-1"},[s("b-container",{staticClass:"py-5"},[s("b-row",[s("b-col",{attrs:{md:"8"}},[s("div",{staticClass:"d-flex mb-3"},[s("div",{staticClass:"w-50"},[s("h3",[s("b",[e._v("PROFILE")])])])]),e._v(" "),s("b-row",[s("b-col",{attrs:{md:"3"}},[s("div",{class:1==e.edit?"border border-info p-2":""},[s("img",{staticClass:"w-100",attrs:{src:e.profileImage}}),e._v(" "),s("md-field",[s("label",[e._v("Select image")]),e._v(" "),s("md-file",{attrs:{name:"image_file",disabled:1==!e.edit},on:{change:e.onFileChange}})],1)],1)]),e._v(" "),s("b-col",[s("div",{class:1==e.edit?"border border-info p-2":""},[s("h4",{staticClass:"font-weight-bold"},[e._v("\n                  User Information\n                  "),s("button",{staticClass:"btn btn-success float-right",class:1==e.edit?"d-none":"",attrs:{type:"button"},on:{click:function(t){return e.clickEdit()}}},[e._v("EDIT")]),e._v(" "),s("button",{staticClass:"btn btn-danger float-right",class:0==e.edit?"d-none":"",attrs:{type:"button"},on:{click:function(t){e.edit=!1}}},[e._v("Cancel")])]),e._v(" "),s("md-field",[s("label",[e._v("Email")]),e._v(" "),s("md-input",{attrs:{disabled:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),s("b-row",[s("b-col",{attrs:{md:"2"}},[s("md-field",[s("label",[e._v("Title")]),e._v(" "),s("md-select",{attrs:{name:"title"},model:{value:e.user.title,callback:function(t){e.$set(e.user,"title",t)},expression:"user.title"}},[s("md-option",{attrs:{value:"Mr."}},[e._v("Mr.")]),e._v(" "),s("md-option",{attrs:{value:"Ms."}},[e._v("Ms.")]),e._v(" "),s("md-option",{attrs:{value:"Mrs."}},[e._v("Mrs.")])],1)],1)],1),e._v(" "),s("b-col",{attrs:{md:"5"}},[s("md-field",[s("label",[e._v("Firt name")]),e._v(" "),s("md-input",{attrs:{name:"first_name",required:"",disabled:1==!e.edit},model:{value:e.user.first_name,callback:function(t){e.$set(e.user,"first_name",t)},expression:"user.first_name"}})],1)],1),e._v(" "),s("b-col",{attrs:{md:"5"}},[s("md-field",[s("label",[e._v("Last name")]),e._v(" "),s("md-input",{attrs:{name:"last_name",required:"",disabled:1==!e.edit},model:{value:e.user.last_name,callback:function(t){e.$set(e.user,"last_name",t)},expression:"user.last_name"}})],1)],1)],1),e._v(" "),s("md-field",[s("label",[e._v("Street Address")]),e._v(" "),s("md-input",{attrs:{name:"street_address",required:"",disabled:1==!e.edit},model:{value:e.user.street_address,callback:function(t){e.$set(e.user,"street_address",t)},expression:"user.street_address"}})],1),e._v(" "),s("b-row",[s("b-col",{attrs:{md:"4"}},[s("md-autocomplete",{attrs:{"md-input-name":"city","md-options":e.cities2,disabled:1==!e.edit},on:{"md-changed":e.getCitiesForAutocomplete,"md-opened":e.getCitiesForAutocomplete},scopedSlots:e._u([{key:"md-autocomplete-item",fn:function(t){var s=t.item;return[e._v(e._s(s))]}}]),model:{value:e.user.city,callback:function(t){e.$set(e.user,"city",t)},expression:"user.city"}},[s("label",[e._v("Town/County/City")])])],1),e._v(" "),s("b-col",{attrs:{md:"4"}},[s("md-field",[s("label",{attrs:{for:"font"}},[e._v("State")]),e._v(" "),s("md-select",{attrs:{"md-dense":""},model:{value:e.user.state,callback:function(t){e.$set(e.user,"state",t)},expression:"user.state"}},e._l(e.states,(function(t,i){return s("md-option",{key:i,attrs:{value:t.id,disabled:1==!e.edit}},[e._v(e._s(t.name))])})),1),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.state,expression:"user.state"}],attrs:{name:"state",type:"hidden"},domProps:{value:e.user.state},on:{input:function(t){t.target.composing||e.$set(e.user,"state",t.target.value)}}})],1)],1),e._v(" "),s("b-col",{attrs:{md:"4"}},[s("md-field",[s("label",[e._v("Zip")]),e._v(" "),s("md-input",{attrs:{name:"zipcode",required:"",disabled:1==!e.edit},model:{value:e.user.zipcode,callback:function(t){e.$set(e.user,"zipcode",t)},expression:"user.zipcode"}})],1)],1)],1),e._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("label",{staticClass:"text-left float-left"},[e._v("Contact Number")])])]),e._v(" "),s("div",{staticClass:"form-row"},[s("div",{staticClass:"form-group col-md-3"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.contactNumberType,expression:"contactNumberType"}],staticClass:"custom-select",attrs:{name:"contact_number_type",disabled:1==!e.edit},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.contactNumberType=t.target.multiple?s:s[0]}}},[s("option",{attrs:{selected:"",value:"Home"}},[e._v("Home")]),e._v(" "),s("option",{attrs:{value:"Work"}},[e._v("Work")]),e._v(" "),s("option",{attrs:{value:"Cell"}},[e._v("Cell")])])]),e._v(" "),s("div",{staticClass:"form-group col-md-9"},[s("vue-phone-number-input",{attrs:{name:"contact_number","default-country-code":e.defaultCountry,"no-country-selector":"",disabled:1==!e.edit},on:{update:e.onUpdate},model:{value:e.contactNumber2,callback:function(t){e.contactNumber2=t},expression:"contactNumber2"}})],1)]),e._v(" "),"3"===e.userType?s("div",[s("business-information",{attrs:{user:e.user,edit:e.edit,states:e.states}})],1):e._e(),e._v(" "),1==e.edit?s("b-row",[s("b-col",{attrs:{md:"12"}},[s("br"),e._v(" "),s("br"),e._v(" "),s("p",[e._v("\n                      By clicking Submit, I confirm that the given information\n                      is true, complete and accurate.\n                    ")]),e._v(" "),s("b-button",{staticClass:"float-right",attrs:{onclick:"LoadingOverlay()",type:"submit",variant:"success",disabled:0==e.results.isValid}},[e._v("Submit")])],1)],1):e._e()],1),e._v(" "),s("br"),e._v(" "),s("br"),e._v(" "),s("card-holder",{ref:"cardholder",attrs:{propuser:e.user,billing_type:e.billingType,edit:e.edit,cc_sc_action:e.cc_sc_action,cc_ws_action:e.cc_ws_action,ach_sc_action:e.ach_sc_action,ach_ws_action:e.ach_ws_action}})],1)],1)],1),e._v(" "),s("b-col",[s("user-type-component",{attrs:{sun_is_cancelled:e.sun_is_cancelled,sunclub_choices:e.sunclub_choices,user_type:e.userType,wholesaler_discount:e.wholesaler_discount,expiration_date:e.expiration_date,cancel_action:e.cancel_action,selected_amount:e.selectedAmount}})],1)],1)],1)],1),e._v(" "),s("cancel-membership-modal",{attrs:{cancel_action:e.cancel_action}})],1)}),[],!1,null,"77fc1b4a",null);t.default=_.exports},"RE6/":function(e,t,s){var i=s("8NoZ");"string"==typeof i&&(i=[[e.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(i,n);i.locals&&(e.exports=i.locals)}}]);
//# sourceMappingURL=ProfilePage.js.map