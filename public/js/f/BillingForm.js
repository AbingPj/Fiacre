/*! For license information please see BillingForm.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{Cqdi:function(t,e,r){"use strict";var s=r("ecbS");r.n(s).a},TJPC:function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o}));var s={validate:function(t,e){var r=(void 0===e?{}:e).multiple,s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r&&!Array.isArray(t)&&(t=String(t).split(",").map((function(t){return t.trim()}))),Array.isArray(t)?t.every((function(t){return s.test(String(t))})):s.test(String(t))},params:[{name:"multiple",default:!1}]};function a(t){return null==t}function i(t){return Array.isArray(t)&&0===t.length}var n={validate:function(t,e){return t===e.other},params:[{name:"other"}]},o={validate:function(t,e){var r=(void 0===e?{allowFalse:!0}:e).allowFalse,s={valid:!1,required:!0};return a(t)||i(t)?s:!1!==t||r?(s.valid=!!String(t).trim().length,s):s},params:[{name:"allowFalse",default:!0}],computesRequired:!0}},Z223:function(t,e,r){"use strict";r.r(e);var s=r("o0o1"),a=r.n(s),i=r("pgaV"),n=r("e7F3"),o=r("TJPC");function l(t,e,r,s,a,i,n){try{var o=t[i](n),l=o.value}catch(t){return void r(t)}o.done?e(l):Promise.resolve(l).then(s,a)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(s,a){var i=t.apply(e,r);function n(t){l(i,s,a,n,o,"next",t)}function o(t){l(i,s,a,n,o,"throw",t)}n(void 0)}))}}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object(n.c)("required",d(d({},o.c),{},{message:"This field is required"}));var v={props:["action","propsuser","propscities","propsstates","propssunclub_choices","wholesaler_discount","wholesaler_signup_is_hide"],data:function(){return{profileImage:"/img/sunfarmacy/default-user.png",businessImage:"/img/no-product-image.png",userType:"1",selectedAmount:"",billingType:"1",years:[],months:[],states:[],cities:[],selectedCity:"",selectedState:"",bstates:[],bcities:[],bselectedCity:"",bselectedState:"",user:{},sunclub_choices:[],cities2:[],newCity1:"",newCity2:"",membership_fee:{},errors:new i.a,ErrorMessage:[],address:{city:null,state:1456},timer:null,cities3:[],states2:[],organization:{},org_id:null,optionc_id:null}},watch:{selectedAmount:function(t){t&&(this.membership_fee=this.sunclub_choices.find((function(e){return e.id===t})))}},created:function(){this.selectedAmount=1,this.getStates(),this.user=this.propsuser,this.sunclub_choices=this.propssunclub_choices},computed:{getCities:function(){var t=this.propscities,e=this.selectedState;return t.filter((function(t){return t.state_id==e}))},bgetCities:function(){var t=this.propscities,e=this.bselectedState;return t.filter((function(t){return t.state_id==e}))}},methods:{onlyNumber:function(t){var e=t.keyCode?t.keyCode:t.which;(e<48||e>57)&&t.preventDefault()},SelectOrganizationMOdalShow:function(){$("#selectOrganizationModal3").modal("show")},fetchOptions:function(t,e){var r=this;this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout((function(){r.getCities3(t)}),300)},getCities3:function(){var t=arguments,e=this;return c(a.a.mark((function r(){var s,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:null,i={search:s},r.next=4,axios({method:"get",url:"/data/searchcities",params:i}).then((function(t){e.cities3=t.data}));case 4:case"end":return r.stop()}}),r)})))()},submitButtonClicked:function(){this.ErrorMessage=[],this.$refs.invisibleRecaptcha2.execute()},recaptchaCallback:function(t){var e=this;LoadingOverlay();var r=this.action,s=document.getElementById("billingInfoForm"),a=new FormData(s);a.append("g-recaptcha-response",t),a.append("city",this.address.city),a.append("state",this.address.state),this.optionc_id&&a.append("optionc_id",this.optionc_id),axios.post(r,a).then((function(t){console.log(t),window.scrollTo(0,0),window.location.href="/signup/complete",LoadingOverlayHide()})).catch((function(t){if(LoadingOverlayHide(),422==t.response.status)e.errors.record(t.response.data.errors),e.ErrorMessage=e.errors.getArrayOfMessages(),window.scrollTo(0,0);else if(400==t.response.status){var r=[];r.push(t.response.data.data_message),e.ErrorMessage=r,window.scrollTo(0,0)}else{var s=[];s.push("Something Went Wrong: "+t),e.ErrorMessage=s,window.scrollTo(0,0)}}))},close:function(){this.ErrorMessage=[]},getStates:function(){this.states=this.propsstates,this.states2=this.propsstates,this.bstates=this.propsstates},statesChange:function(){this.selectedCity={}},bstatesChange:function(){this.bselectedCity={}},onFileChange:function(t){console.log(t);var e=t.target.files[0];this.profileImage=URL.createObjectURL(e)},onFileChange2:function(t){console.log(t);var e=t.target.files[0];this.businessImage=URL.createObjectURL(e)},getCitiesForAutocomplete:function(t){var e=this;new Promise((function(r){window.setTimeout((function(){if(t){var s=t.toLowerCase();r(e.getCities2(s))}else e.getCities2()}),700)}))},getCities2:function(){var t=arguments,e=this;return c(a.a.mark((function r(){var s,i;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.length>0&&void 0!==t[0]?t[0]:null,i={search:s},r.next=4,axios({method:"get",url:"/data/searchcities",params:i}).then((function(t){e.cities2=t.data}));case 4:case"end":return r.stop()}}),r)})))()}},mounted:function(){for(var t=(new Date).getFullYear(),e=0;e<10;e++){var r=t+e,s=r.toString(),a={year:r,value:s=s.slice(-2)};this.years.push(a)}for(var i=1;i<=12;i++)this.months.push(i)}},p=(r("Cqdi"),r("KHd+")),_=Object(p.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{attrs:{id:"billingInfoForm",name:"billingInfoForm",onsubmit:"return false"}},[r("div",{staticClass:"flex-grow-1"},[r("b-container",{staticClass:"py-5"},[r("div",{staticClass:"card-body"},[t.ErrorMessage.length>0?r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[r("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){return t.close()}}},[r("span",{attrs:{"aria-hidden":"true"}},[t._v("Ã—")])]),t._v(" "),t._l(t.ErrorMessage,(function(e,s){return r("div",{key:s},[t._v("\n\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t"),r("br")])}))],2):t._e()]),t._v(" "),r("br"),t._v(" "),r("p",{staticClass:"font-weight-bold"},[t._v("\n\t\t\t\t\tYour account has been confirmed. Please continue with to fill up\n\t\t\t\t\tthe required information to complete the registration.\n\t\t\t\t")]),t._v(" "),r("b-row",[r("b-col",{attrs:{md:"8"}},[r("b-row",[r("b-col",{attrs:{md:"3"}},[r("img",{staticClass:"w-100",attrs:{src:t.profileImage}}),t._v(" "),r("md-field",[r("label",[t._v("Select image")]),t._v(" "),r("md-file",{attrs:{name:"image_file"},on:{change:t.onFileChange}})],1)],1),t._v(" "),r("b-col",[r("h4",{staticClass:"font-weight-bold"},[t._v("User Information")]),t._v(" "),r("b-row",[r("b-col",{attrs:{md:"12"}},[r("md-field",[r("label",[t._v("Email")]),t._v(" "),r("md-input",{attrs:{disabled:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)],1)],1),t._v(" "),r("b-row",[r("b-col",{attrs:{md:"2"}},[r("md-field",[r("label",[t._v("Title")]),t._v(" "),r("md-select",{attrs:{name:"title"}},[r("md-option",{attrs:{value:"Mr."}},[t._v("Mr.")]),t._v(" "),r("md-option",{attrs:{value:"Ms."}},[t._v("Ms.")]),t._v(" "),r("md-option",{attrs:{value:"Mrs."}},[t._v("Mrs.")])],1)],1)],1),t._v(" "),r("b-col",{attrs:{md:"5"}},[r("md-field",[r("label",[t._v("Firt name")]),t._v(" "),r("md-input",{attrs:{name:"first_name",required:""},model:{value:t.user.first_name,callback:function(e){t.$set(t.user,"first_name",e)},expression:"user.first_name"}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"5"}},[r("md-field",[r("label",[t._v("Last name")]),t._v(" "),r("md-input",{attrs:{name:"last_name",required:""},model:{value:t.user.last_name,callback:function(e){t.$set(t.user,"last_name",e)},expression:"user.last_name"}})],1)],1)],1),t._v(" "),r("md-field",[r("label",[t._v("Street Address")]),t._v(" "),r("md-input",{attrs:{name:"street_address",required:""}})],1),t._v(" "),r("b-row",[r("b-col",{attrs:{md:"4"}},[r("label",[t._v("Town/County/City")]),t._v(" "),r("v-select",{attrs:{options:t.cities3,multiple:!1,disabled:!1,clearable:!0,searchable:!0,filterable:!0,taggable:!0,"no-drop":!1,"push-tags":!0,"select-on-tab":!0},on:{search:t.fetchOptions},model:{value:t.address.city,callback:function(e){t.$set(t.address,"city",e)},expression:"address.city"}})],1),t._v(" "),r("b-col",{attrs:{md:"4"}},[r("label",[t._v("State")]),t._v(" "),r("v-select",{attrs:{label:"name",reduce:function(t){return t.id},options:t.states2,clearable:!1},model:{value:t.address.state,callback:function(e){t.$set(t.address,"state",e)},expression:"address.state"}})],1),t._v(" "),r("b-col",{attrs:{md:"4"}},[r("md-field",[r("label",[t._v("Zip")]),t._v(" "),r("md-input",{attrs:{name:"zipcode",required:""}})],1)],1)],1),t._v(" "),r("h4",{staticClass:"font-weight-bold"},[t._v("Billing Information")]),t._v(" "),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("label",{staticStyle:{padding:"0px",margine:"0px"}},[t._v("Billing Type")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.billingType,expression:"billingType"}],staticClass:"form-control my-select",attrs:{name:"billing_token_type",required:""},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.billingType=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"1"}},[t._v("CC")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("ACH")])])]),t._v(" "),"1"===t.billingType?r("b-col",{attrs:{md:"6"}},[r("label",{staticStyle:{padding:"0px",margine:"0px"}},[t._v("Card Type")]),t._v(" "),r("select",{staticClass:"form-control my-select",attrs:{name:"card_type",required:""}},[r("option",{attrs:{value:"1"}},[t._v("American Express")]),t._v(" "),r("option",{attrs:{value:"2"}},[t._v("Discover")]),t._v(" "),r("option",{attrs:{value:"3"}},[t._v("Mastercard")]),t._v(" "),r("option",{attrs:{value:"4"}},[t._v("Visa")])])]):t._e(),t._v(" "),r("b-col",{attrs:{md:"6"}},["2"===t.billingType?r("b-col",{attrs:{md:"12"}},[r("label",{staticStyle:{padding:"0px",margine:"0px"}},[t._v("Account Type")]),t._v(" "),r("select",{staticClass:"form-control my-select",attrs:{name:"ach_type",required:""}},[r("option",{attrs:{value:"1"}},[t._v("Savings")]),t._v(" "),r("option",{attrs:{value:"0"}},[t._v("Checking")])])]):t._e(),t._v(" "),r("br"),t._v(" "),r("br"),t._v(" "),"2"===t.billingType?r("b-col",{attrs:{md:"12"}},[r("label",{staticStyle:{padding:"0px",margine:"0px"}},[t._v("Account Holder Type")]),t._v(" "),r("select",{staticClass:"form-control my-select",attrs:{name:"ach_acc_holder_type",required:""}},[r("option",{attrs:{value:"0"}},[t._v("Personal")]),t._v(" "),r("option",{attrs:{value:"1"}},[t._v("Business")])])]):t._e()],1)],1),t._v(" "),"1"===t.billingType?r("div",[r("md-field",[r("label",[t._v("Name in the card")]),t._v(" "),r("md-input",{attrs:{name:"card_name"}})],1),t._v(" "),r("b-row",[r("b-col",[r("md-field",[r("label",[t._v("Credit Card Number")]),t._v(" "),r("md-input",{attrs:{name:"card_number",required:""}})],1)],1),t._v(" "),r("b-col",[r("md-field",[r("label",[t._v("Security Code")]),t._v(" "),r("md-input",{attrs:{type:"password",name:"cvv",required:""}})],1)],1)],1),t._v(" "),r("br"),t._v(" "),r("p",{staticClass:"m-0"},[t._v("Expiration Date")]),t._v(" "),r("br"),t._v(" "),r("b-row",[r("b-col",{attrs:{md:"6"}},[r("b-row",[r("b-col",{attrs:{md:"6"}},[r("label",{staticStyle:{padding:"0px",margine:"0px"}},[t._v("Month")]),t._v(" "),r("select",{staticClass:"form-control form-control-sm my-select",attrs:{name:"exp_month",required:""}},t._l(t.months,(function(e,s){return r("option",{key:s,domProps:{value:e}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),0)]),t._v(" "),r("b-col",{attrs:{md:"6"}},[r("label",{staticStyle:{padding:"0px",margine:"0px"}},[t._v("Year")]),t._v(" "),r("select",{staticClass:"form-control form-control-sm my-select",attrs:{name:"exp_year",required:""}},t._l(t.years,(function(e,s){return r("option",{key:s,domProps:{value:e.value}},[t._v("\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"+t._s(e.year)+"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t")])})),0)])],1)],1)],1)],1):t._e(),t._v(" "),"2"===t.billingType?r("div",[r("md-field",[r("label",[t._v("Account Number")]),t._v(" "),r("md-input",{attrs:{name:"ach_account_number",required:""}})],1),t._v(" "),r("md-field",[r("label",[t._v("Routing")]),t._v(" "),r("md-input",{attrs:{name:"ach_routing",required:""}})],1)],1):t._e(),t._v(" "),"2"===t.userType?r("div",[r("h4",{staticClass:"font-weight-bold"},[t._v("\n\t\t\t\t\t\t\t\t\t\tBusiness Information\n\t\t\t\t\t\t\t\t\t")]),t._v(" "),r("b-row",[r("b-col",{attrs:{md:"4"}},[r("img",{staticClass:"w-100",attrs:{src:t.businessImage}}),t._v(" "),r("md-field",[r("label",[t._v("Business Logo")]),t._v(" "),r("md-file",{attrs:{name:"business_image_file"},on:{change:t.onFileChange2}})],1)],1)],1),t._v(" "),r("md-field",[r("label",[t._v("Designation / Designation")]),t._v(" "),r("md-input",{attrs:{name:"business_designation",required:""}})],1),t._v(" "),r("md-field",[r("label",[t._v("Organization / Business Name")]),t._v(" "),r("md-input",{attrs:{name:"business_name",required:""}})],1),t._v(" "),r("md-field",[r("label",[t._v("Business Street Address")]),t._v(" "),r("md-input",{attrs:{name:"business_street_address",required:""}})],1),t._v(" "),r("b-row",[r("b-col",{attrs:{md:"4"}},[r("md-autocomplete",{attrs:{"md-input-name":"business_city","md-options":t.cities2},on:{"md-changed":t.getCitiesForAutocomplete,"md-opened":t.getCitiesForAutocomplete},scopedSlots:t._u([{key:"md-autocomplete-item",fn:function(e){var r=e.item;return[t._v(t._s(r))]}}],null,!1,1658343616),model:{value:t.newCity2,callback:function(e){t.newCity2=e},expression:"newCity2"}},[r("label",[t._v("Town/County/City")])])],1),t._v(" "),r("b-col",{attrs:{md:"4"}},[r("md-field",[r("label",{attrs:{for:"font"}},[t._v("State")]),t._v(" "),r("md-select",{attrs:{"md-dense":""},model:{value:t.bselectedState,callback:function(e){t.bselectedState=e},expression:"bselectedState"}},t._l(t.states,(function(e,s){return r("md-option",{key:s,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.bselectedState,expression:"bselectedState"}],attrs:{name:"business_state",type:"hidden"},domProps:{value:t.bselectedState},on:{input:function(e){e.target.composing||(t.bselectedState=e.target.value)}}})],1)],1),t._v(" "),r("b-col",{attrs:{md:"4"}},[r("md-field",[r("label",[t._v("Business Zip")]),t._v(" "),r("md-input",{attrs:{name:"business_zipcode",required:""}})],1)],1)],1)],1):t._e()],1)],1)],1),t._v(" "),r("b-col",{attrs:{md:"4"}},[r("md-card",{staticClass:"mb-4 mt-4"},[r("md-card-content",[r("div",{staticClass:"p-3"},[r("b",[t._v("Enter Your Organization(School/Parish) ID:")]),t._v(" "),r("br"),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.optionc_id,expression:"optionc_id"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.optionc_id},on:{keypress:t.onlyNumber,input:function(e){e.target.composing||(t.optionc_id=e.target.value)}}})])])],1)],1)],1),t._v(" "),r("b-row",[r("b-col",{attrs:{"offset-md":"2",md:"6"}},[r("br"),t._v(" "),r("br"),t._v(" "),r("p",[t._v("\n\t\t\t\t\t\t\tBy clicking Submit, I confirm that the given information is\n\t\t\t\t\t\t\ttrue, complete and accurate.\n\t\t\t\t\t\t")]),t._v(" "),r("b-button",{staticClass:"float-right",attrs:{variant:"success",size:"lg"},on:{click:function(e){return t.submitButtonClicked()}}},[t._v("Submit")])],1)],1)],1)],1),t._v(" "),r("vue-programmatic-invisible-google-recaptcha",{ref:"invisibleRecaptcha2",attrs:{sitekey:"6LcZmaYZAAAAAHVxYaFz_euKnxzFWKFcO3zX94_H",elementId:"invisibleRecaptcha2",badgePosition:"left",showBadgeMobile:!1,showBadgeDesktop:!0},on:{"recaptcha-callback":t.recaptchaCallback}}),t._v(" "),r("SelectOrganizationModal2")],1)}),[],!1,null,"298a1736",null);e.default=_.exports},ecbS:function(t,e,r){var s=r("yoDA");"string"==typeof s&&(s=[[t.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(s,a);s.locals&&(t.exports=s.locals)},pgaV:function(t,e,r){"use strict";function s(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}r.d(e,"a",(function(){return a}));var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,r,a;return e=t,(r=[{key:"get",value:function(t){if(this.errors[t])return this.errors[t][0]}},{key:"record",value:function(t){this.errors=t}},{key:"clear",value:function(t){delete this.errors[t]}},{key:"has",value:function(t){return this.errors.hasOwnProperty(t)}},{key:"getAllMessages",value:function(){var t="";if(Object.keys(this.errors).length>0==1)for(var e=0,r=Object.keys(this.errors);e<r.length;e++){var s=r[e];t+=this.get(s)}return t}},{key:"getArrayOfMessages",value:function(){var t=[];if(Object.keys(this.errors).length>0==1)for(var e=0,r=Object.keys(this.errors);e<r.length;e++){var s=r[e];t.push(this.get(s))}return t}},{key:"any",value:function(){return Object.keys(this.errors).length>0}}])&&s(e.prototype,r),a&&s(e,a),t}()},yoDA:function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,".s-user-type .md-radio[data-v-298a1736] {\n  display: flex;\n}\n.my-select[data-v-298a1736] {\n  padding: 0px;\n  margin: 0px;\n  border-top: 0px;\n  border-left: 0px;\n  border-right: 0px;\n}",""])}}]);
//# sourceMappingURL=BillingForm.js.map